import{a as qt}from"./axios-DsPaXkF5.js";import{_ as tt,e,v as wt,r as ct,a as i,o as st,f as s,B as t,L as C,$ as q,p as r,E as o,x as c,F as H,i as K,A as et,a0 as _t,a1 as mt,g as B,J as T,j as W,N as Yt,D as X,a2 as pt,w as at,a3 as Jt,M as nt,Z as ie,a4 as Ot,s as bt,a5 as de}from"./@vue-48lS9thL.js";/* empty css                        */import{V as ce}from"./@vuepic-DnP6_Szt.js";import{u as ft,a as Tt,c as re,b as ue}from"./vue-router-DJtajS27.js";import{d as ht}from"./dayjs-Bof1u0Bp.js";import{$ as Rt}from"./jquery-Bt2EgVqC.js";import{B as Zt}from"./vue-chartjs-DbrWmp_X.js";import{C as pe,p as _e,a as me,b as he,c as ve,d as fe,L as be}from"./chart.js-P2w3TeeM.js";import{M as Bt}from"./bootstrap-BeBKEeZt.js";import{P as ge}from"./pspdfkit-DykLVbfa.js";import{S as $e}from"./vue-timeago3-DYSAX4wo.js";import{S as te}from"./sweetalert2-DpiOt7ce.js";import"./date-fns-BHkLmxl9.js";import"./@kurkle-BZxJdD1U.js";import"./@popperjs-WhmJkuoZ.js";window.axios=qt;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var ye=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));ye.map(function(D){return new bootstrap.Tooltip(D)});const lt=(D,f)=>{const d=D.__vccOpts||D;for(const[p,a]of f)d[p]=a;return d},xe={};function we(D,f){const d=tt("router-view");return e(),wt(d)}const ke=lt(xe,[["render",we]]),De={class:"container mt-5"},Ce={class:"card"},Se=t("div",{class:"card-header"}," Add Document ",-1),Pe={class:"card-body"},Ue={class:"mb-3 row"},Ae=t("label",{for:"staticEmail",class:"col-sm-2 col-form-label"},"Title",-1),Fe={class:"col-sm-10"},Ee={key:0,class:"errors-material"},Te={class:"mb-3 row"},Ve=t("label",{class:"col-sm-2 col-form-label"},"Description",-1),Me={class:"col-sm-10"},Le={key:0,class:"errors-material"},Re={class:"mb-3 row"},je=t("label",{class:"col-sm-2 col-form-label"},"Author",-1),Ie={class:"col-sm-10"},Be={class:"mb-3 row"},Ye=t("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"Year",-1),Oe={class:"col-sm-10"},Ne={class:"mb-3 row"},qe=t("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"Type of Paper",-1),He={class:"col-sm-10"},Ke={__name:"Two",setup(D){const f=ft(),d=ct({title:"",description:"",author:"",year:"",type_of_paper:"",keywords:""}),p=i(!1),a=Tt();st(()=>{a.name==="document.edit"&&(n(),p.value=!0)});const n=()=>{axios.get(`/api/document/${a.params.id}`).then(b=>{d.title=b.data.title,d.description=b.data.description})};let u=i([]);const l=()=>{p.value===!0?h():$()},$=()=>{axios.post("/api/document/",d).then(b=>{f.push("/list-documents"),toast.fire({icon:"success",title:"Documents added successfully!"})}).then(b=>{}).catch(b=>{b.response.status==422&&(u.value=b.response.data.errors)})},h=()=>{axios.put(`/api/document/${a.params.id}`,d).then(b=>{f.push("/list-documents"),toast.fire({icon:"success",title:"Documents update successfully!"})}).then(b=>{}).catch(b=>{b.response.status==422&&(u.value=b.response.data.errors)})};return(b,g)=>(e(),s("div",De,[t("div",Ce,[Se,t("div",Pe,[t("div",Ue,[Ae,t("div",Fe,[C(t("input",{type:"text",class:"form-control","onUpdate:modelValue":g[0]||(g[0]=A=>d.title=A),id:"staticEmail"},null,512),[[q,d.title]]),r(u).title?(e(),s("span",Ee,o(r(u).title[0]),1)):c("",!0)])]),t("div",Te,[Ve,t("div",Me,[C(t("input",{type:"text","onUpdate:modelValue":g[1]||(g[1]=A=>d.description=A),class:"form-control"},null,512),[[q,d.description]]),r(u).description?(e(),s("span",Le,o(r(u).description[0]),1)):c("",!0)])]),t("div",Re,[je,t("div",Ie,[C(t("input",{type:"password","onUpdate:modelValue":g[2]||(g[2]=A=>d.author=A),class:"form-control"},null,512),[[q,d.author]])])]),t("div",Be,[Ye,t("div",Oe,[C(t("input",{type:"password","onUpdate:modelValue":g[3]||(g[3]=A=>d.year=A),class:"form-control"},null,512),[[q,d.year]])])]),t("div",Ne,[qe,t("div",He,[C(t("input",{type:"password","onUpdate:modelValue":g[4]||(g[4]=A=>d.type_of_paper=A),class:"form-control"},null,512),[[q,d.type_of_paper]])])]),t("button",{type:"button",onClick:l,class:"btn btn-primary"},"save")])])]))}},Ge={class:"container mt-5 mb-3"},Je={class:"list-group"},ze={class:"list-group-item-heading"},We={class:"list-group-item-text"},Xe={class:""},Qe=["onClick"],Ze=["onClick"],ts={class:"mt-2","aria-label":"..."},es={class:"pagination"},ss=["innerHTML","onClick"],os={__name:"ListOfDocs",setup(D){let f=i([]),d=i([]);const p=ft();st(async()=>{a()});const a=async()=>{await axios.get("/api/document").then($=>{f.value=$.data.data,d.value=$.data.links})},n=$=>{!$.url||$.active||axios.get($.url).then(h=>{f.value=h.data.data,d.value=h.data.links})},u=$=>{p.push("/document/"+$)},l=$=>{Swal.fire({title:"Are you sure? "+$.title,text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(h=>{h.isConfirmed&&axios.delete(`/api/document/${$.id}`).then(b=>{Swal.fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success"}),a()})})};return($,h)=>(e(),s("div",Ge,[t("div",Je,[(e(!0),s(H,null,K(r(f),b=>(e(),s("a",{href:"#",class:"list-group-item",key:b.id},[t("h4",ze,o(b.title),1),t("p",We,o(b.description),1),t("div",Xe,[t("button",{type:"button",onClick:g=>u(b.id),class:"btn btn-primary"},"Edit",8,Qe),t("button",{type:"button",onClick:g=>l(b),class:"btn btn-danger"},"Delete",8,Ze)])]))),128))]),t("nav",ts,[t("ul",es,[(e(!0),s(H,null,K(r(d),(b,g)=>(e(),s("li",{class:"page-item","aria-current":"page",key:g},[t("a",{class:et(["page-link",{active:b.active,disabled:!b.url}]),href:"#",innerHTML:b.label,onClick:A=>n(b)},null,10,ss)]))),128))])])]))}},as={name:"PSPDFKit",props:{wordFile:{type:String,required:!0}},mounted(){this.loadPSPDFKit().then(D=>{this.$emit("loaded",D)})},watch:{wordFile(D){D&&this.loadPSPDFKit()}},methods:{async loadPSPDFKit(){PSPDFKit.unload(".doc-container");const D=new PSPDFKit.ViewState({readOnly:!0});return PSPDFKit.load({licenseKey:"ATi46klU5_QpWWkkfceNCcIkMuN6chgNJ5QOkbLZ7QmbfS1V2qgdRWRHyH2f3gTDcvCjTTUQPa3GqgWzEPC6DKkjTvzbZv75wRbuYAniIHLRddCgA2zP7AHnNMCGms_7Pl9WOe9A5hcbEiF_EpgJQsDRpvEHm3VxcYz2uvWJFecL-wAWzlYAGpE6_sppFu4r66dxAfn4vgEEclJ4",document:this.wordFile,container:".doc-container",initialViewState:D}).then(f=>{f.exportPDF()})}},beforeUnmount(){PSPDFKit.unload(".doc-container")}},ns=D=>(_t("data-v-e830c4e9"),D=D(),mt(),D),ls=ns(()=>t("div",{class:"doc-container"},null,-1)),is=[ls];function ds(D,f,d,p,a,n){return e(),s("div",null,is)}const cs=lt(as,[["render",ds],["__scopeId","data-v-e830c4e9"]]),rs={data(){return{wordFile:this.wordFile||"data:application/pdf;base64"}},components:{PSPDFKitContainer:cs},methods:{handleLoaded(D){console.log(D.exportPDF()),D.exportPDF()},openDocument(){this.wordFile&&window.URL.revokeObjectURL(this.wordFile),this.wordFile=window.URL.createObjectURL(event.target.files[0])}}},us={id:"app"},ps=t("label",{for:"file-upload",class:"custom-file-upload"}," Open Word ",-1),_s={class:"container"},ms={class:"row"},hs={class:"col-md-8"},vs=t("div",{class:"sample"},null,-1);function fs(D,f,d,p,a,n){const u=tt("PSPDFKitContainer");return e(),s("div",us,[ps,t("input",{id:"file-upload",type:"file",onChange:f[0]||(f[0]=(...l)=>n.openDocument&&n.openDocument(...l)),class:"btn"},null,32),t("div",_s,[t("div",ms,[t("div",hs,[B(u,{wordFile:a.wordFile,onLoaded:n.handleLoaded},null,8,["wordFile","onLoaded"])])])]),vs])}const bs=lt(rs,[["render",fs]]),Ht=D=>(_t("data-v-232ce906"),D=D(),mt(),D),gs={class:"container page-notfound"},$s=Ht(()=>t("h1",{class:"font-title"},"Page not found!",-1)),ys=Ht(()=>t("p",{class:"sub-font"},"Notre Dame of Midsayap College - Rechiva ",-1)),xs=Ht(()=>t("i",{class:"bi bi-arrow-clockwise"},null,-1)),ws={__name:"NotFound",setup(D){const f=()=>{window.location.reload()};return(d,p)=>(e(),s("div",gs,[$s,ys,t("button",{type:"button",onClick:p[0]||(p[0]=a=>f()),class:"btn btn-outline-success btn-sm"},[xs,T(" Reload ")])]))}},ks=lt(ws,[["__scopeId","data-v-232ce906"]]),It=D=>(_t("data-v-63729178"),D=D(),mt(),D),Ds={class:"footer"},Cs={class:"row"},Ss=It(()=>t("div",{class:"col-md-6 text-start"},[t("div",{class:"site-name"}," RECHIVA | NDMC Research and Department Center "),T(" Quezon Avenue, Midsayap, Cotabato 9410 ")],-1)),Ps={class:"col-md-6 p-0 text-end"},Us=It(()=>t("section",{class:"mb-4 text-white"},[t("a",{"data-mdb-ripple-init":"",class:"btn btn-link btn-floating btn-lg text-light m-1",href:"#!",role:"button","data-mdb-ripple-color":"dark"},[t("i",{class:"bi bi-facebook"})]),t("a",{"data-mdb-ripple-init":"",class:"btn btn-link btn-floating btn-lg text-light m-1",href:"#!",role:"button","data-mdb-ripple-color":"dark"},[t("i",{class:"bi bi-twitter"})]),t("a",{"data-mdb-ripple-init":"",class:"btn btn-link btn-floating btn-lg text-light m-1",href:"#!",role:"button","data-mdb-ripple-color":"dark"},[t("i",{class:"bi bi-google"})]),t("a",{"data-mdb-ripple-init":"",class:"btn btn-link btn-floating btn-lg text-light m-1",href:"#!",role:"button","data-mdb-ripple-color":"dark"},[t("i",{class:"bi bi-instagram"})]),t("a",{"data-mdb-ripple-init":"",class:"btn btn-link btn-floating btn-lg text-light m-1",href:"#!",role:"button","data-mdb-ripple-color":"dark"},[t("i",{class:"bi bi-linkedin"})])],-1)),As={key:0,class:"btn-group dropup"},Fs=It(()=>t("button",{type:"button",class:"btn btn-sm btn-outline-light dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"}," Join us Â  ",-1)),Es={class:"dropdown-menu"},Ts=It(()=>t("i",{class:"bi bi-box-arrow-in-right"},null,-1)),Vs=It(()=>t("i",{class:"bi bi-box-arrow-in-left"},null,-1)),Ms=It(()=>t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),Ls={__name:"Footer",setup(D){const f=i(!1);return st(()=>{window.winsdev.isLoggedin?f.value=!0:f.value=!1}),(d,p)=>{const a=tt("router-link");return e(),s("div",Ds,[t("div",Cs,[Ss,t("div",Ps,[Us,f.value?c("",!0):(e(),s("div",As,[Fs,t("ul",Es,[t("li",null,[B(a,{class:"dropdown-item",to:{name:"signin"}},{default:W(()=>[Ts,T(" Sign In ")]),_:1})]),t("li",null,[B(a,{class:"dropdown-item",to:{name:"signup"}},{default:W(()=>[Vs,T(" Sign Up ")]),_:1})]),Ms])]))])])])}}},ee=lt(Ls,[["__scopeId","data-v-63729178"]]),Rs={class:"bg-header-main"},js={class:"navbar navbar-expand-lg bg-light mb-0 custom-nav main-nav"},Is={class:"container-fluid"},Bs={class:"main-brand"},Ys=t("div",{class:"brand-name"},[t("img",{src:"/img/ndmc.png",class:"logo-main"}),t("img",{src:"/img/research.png",class:"sub-logo"})],-1),Os=t("div",{class:"d-md-inline-flex d-lg-inline-flex"},[t("div",{class:"logo-text d-none d-lg-block d-xl-block d-md-block"}," RECHIVA"),t("img",{src:"/img/rechiva.png",class:"logo-app"})],-1),Ns=t("button",{class:"btn btn-outline-success d-inline-block d-lg-none",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[t("i",{class:"fa fa-bars"})],-1),qs={class:"collapse navbar-collapse",id:"navbarSupportedContent"},Hs={class:"navbar-nav mb-2 mb-lg-0 ms-auto"},Ks={class:"nav-item nav-cus mb-nav"},Gs={class:"nav-item nav-cus mb-nav"},Js={class:"nav-item nav-cus mb-nav"},zs={class:"navbar-nav mb-2 mb-lg-0 ms-auto"},Ws={class:"nav-item dropdown nav-cus mb-nav"},Xs={class:"content"},Qs={__name:"Mainpage",setup(D){const f=i({}),d=i(!1),p=()=>{f.value=window.winsdev.user},a=()=>{f.value.role===2?n.push("/admin"):n.push("/faculty")},n=ft();st(()=>{p(),u(),window.winsdev.isLoggedin?d.value=!0:d.value=!1;let l=window.winsdev.user;window.winsdev.isLoggedin&&l.role});const u=()=>{axios.post("/api/visitor").then(l=>{})};return(l,$)=>{const h=tt("router-link"),b=tt("router-view");return e(),s("div",Rs,[t("nav",js,[t("div",Is,[t("div",Bs,[B(h,{to:{name:"publicpage"},class:"d-inline-flex p-0"},{default:W(()=>[Ys,Os]),_:1})]),Ns,t("div",qs,[t("ul",Hs,[t("li",Ks,[B(h,{class:"nav-link",to:{name:"publicpage"}},{default:W(()=>[T(" Home ")]),_:1})]),t("li",Gs,[B(h,{class:"nav-link",to:{name:"about"}},{default:W(()=>[T(" About ")]),_:1})]),t("li",Js,[B(h,{to:{name:"search"},class:"nav-link"},{default:W(()=>[T(" Search ")]),_:1})])]),t("ul",zs,[t("li",Ws,[d.value?(e(),s("button",{key:0,type:"button",class:"btn btn-outline-success",onClick:$[0]||($[0]=g=>a())},"Dashboard")):c("",!0)])])])])]),t("div",Xs,[B(b)]),B(ee)])}}},Zs={class:"container mt-5 text-start min-h"},to={class:"rowc d-flex justify-content-center"},eo={class:"col-4"},so={class:"card login"},oo=t("div",{class:"card-header header-login d-flex justify-content-center p-0"},[t("img",{class:"img-login",src:"/img/rechiva.png"})],-1),ao={class:"card-body"},no=t("h2",null,"SIGN-IN",-1),lo={class:"login-body mt-4"},io={key:0,class:"badge text-danger mb-2"},co={class:"input-group"},ro=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-envelope-at"})],-1),uo=["onKeyup"],po={key:1,class:"text-danger"},_o={class:"input-group mt-3"},mo=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-braces-asterisk"})],-1),ho=["onKeyup"],vo={key:2,class:"text-danger"},fo=t("div",{class:"row mb-4"},[t("div",{class:"col-md-6 d-flex justify-content-center"}),t("div",{class:"col-md-6 d-flex justify-content-center"})],-1),bo={__name:"Signin",setup(D){const f=ft(),d=i("Login"),p=ct({email:"",password:""});let a=i([]);const n=()=>{d.value="Logging...",axios.post("/api/auth/in",p).then(u=>{let l=u.data;l.role===1&&(window.location.href="/faculty"),l.role===2&&(window.location.href="/admin"),d.value="Login",a.value=[]}).catch(u=>{d.value="Login",a.value=u.response.data.errors})};return st(()=>{let u=window.winsdev.user;window.winsdev.isLoggedin&&u.role===1&&f.push("/faculty"),window.winsdev.isLoggedin&&u.role===2&&f.push("/admin")}),(u,l)=>(e(),s("div",Zs,[t("div",to,[t("div",eo,[t("div",so,[oo,t("div",ao,[no,t("div",lo,[r(a).errs?(e(),s("div",io,o(r(a).errs[0]),1)):c("",!0),t("div",co,[ro,C(t("input",{type:"email",onKeyup:Yt(X(n,["prevent"]),["enter"]),"onUpdate:modelValue":l[0]||(l[0]=$=>p.email=$),class:"form-control",placeholder:"Enter Email"},null,40,uo),[[q,p.email]])]),r(a).email?(e(),s("span",po,o(r(a).email[0]),1)):c("",!0),t("div",_o,[mo,C(t("input",{type:"password",onKeyup:Yt(X(n,["prevent"]),["enter"]),"onUpdate:modelValue":l[1]||(l[1]=$=>p.password=$),class:"form-control",placeholder:"Enter Password"},null,40,ho),[[q,p.password]])]),r(a).password?(e(),s("span",vo,o(r(a).password[0]),1)):c("",!0),fo,t("button",{type:"button",onClick:X(n,["prevent"]),"data-mdb-button-init":"","data-mdb-ripple-init":"",class:"btn btn-primary btn-block mb-4"},o(d.value),1)])])])])])]))}},go={class:"container mt-5 text-start min-h"},$o={class:"rowc d-flex justify-content-center"},yo={class:"col-8"},xo={class:"card login"},wo=t("div",{class:"card-header header-login d-flex justify-content-center p-0"},[t("img",{class:"img-login",src:"/img/rechiva.png"})],-1),ko={class:"card-body"},Do=t("h2",null,"SIGN-UP",-1),Co={class:"login-body mt-4"},So={key:0,class:"alert alert-danger"},Po={class:"row mb-3"},Uo={class:"form-group col-6"},Ao={class:"input-group"},Fo=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-type"})],-1),Eo={key:0,class:"text-danger"},To={class:"form-group col-6"},Vo={class:"input-group"},Mo=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-type"})],-1),Lo={key:0,class:"text-danger"},Ro={class:"row mb-3"},jo={class:"form-group col-6"},Io={class:"input-group"},Bo=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-type"})],-1),Yo={key:0,class:"text-danger"},Oo={class:"form-group col-6"},No={class:"input-group"},qo=t("span",{class:"input-group-text"}," Dept. ",-1),Ho=["value"],Ko={key:0,class:"text-danger"},Go={class:"input-group"},Jo=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-envelope-at"})],-1),zo={key:1,class:"text-danger"},Wo={class:"input-group mt-3"},Xo=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-braces-asterisk"})],-1),Qo={key:2,class:"text-danger"},Zo={class:"input-group mt-3"},ta=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-braces-asterisk"})],-1),ea={key:3,class:"text-danger"},sa=t("div",{class:"row mb-4"},null,-1),oa={__name:"Signup",setup(D){const f=ft(),d=i("Submit"),p=i([]);let a=i([]);const n=ct({email:"",password:"",password_confirmation:"",first_name:"",middle_initial:"",last_name:"",college_department:""});st(()=>{l()});const u=()=>{d.value="Submitting...",axios.post("/api/auth",n).then($=>{toast.fire({icon:"success",title:"Sign up Sucess!"}),d.value="Submit",f.push({name:"signin"}),a.value=[]}).catch($=>{d.value="Submit",$.response.status==422&&(a.value=$.response.data.errors)})},l=()=>{axios.get("/api/list-departments").then($=>{p.value=$.data})};return($,h)=>(e(),s("div",go,[t("div",$o,[t("div",yo,[t("div",xo,[wo,t("div",ko,[Do,t("div",Co,[r(a).errs?(e(),s("div",So,o(r(a).errs[0]),1)):c("",!0),t("div",Po,[t("div",Uo,[t("div",Ao,[Fo,C(t("input",{type:"text","onUpdate:modelValue":h[0]||(h[0]=b=>n.first_name=b),class:"form-control",placeholder:"Enter First name"},null,512),[[q,n.first_name]])]),r(a).first_name?(e(),s("span",Eo,o(r(a).first_name[0]),1)):c("",!0)]),t("div",To,[t("div",Vo,[Mo,C(t("input",{type:"text","onUpdate:modelValue":h[1]||(h[1]=b=>n.middle_initial=b),class:"form-control",placeholder:"Enter Middle Initial"},null,512),[[q,n.middle_initial]])]),r(a).middle_initial?(e(),s("span",Lo,o(r(a).middle_initial[0]),1)):c("",!0)])]),t("div",Ro,[t("div",jo,[t("div",Io,[Bo,C(t("input",{type:"text","onUpdate:modelValue":h[2]||(h[2]=b=>n.last_name=b),class:"form-control",placeholder:"Enter Last name"},null,512),[[q,n.last_name]])]),r(a).last_name?(e(),s("span",Yo,o(r(a).last_name[0]),1)):c("",!0)]),t("div",Oo,[t("div",No,[qo,C(t("select",{class:"form-select","onUpdate:modelValue":h[3]||(h[3]=b=>n.college_department=b),placeholder:"Enter College Department"},[(e(!0),s(H,null,K(p.value,(b,g)=>(e(),s("option",{key:g,value:b.id},o(b.description),9,Ho))),128))],512),[[pt,n.college_department]])]),r(a).college_department?(e(),s("span",Ko,o(r(a).college_department[0]),1)):c("",!0)])]),t("div",Go,[Jo,C(t("input",{type:"email","onUpdate:modelValue":h[4]||(h[4]=b=>n.email=b),class:"form-control",placeholder:"Enter Email"},null,512),[[q,n.email]])]),r(a).email?(e(),s("span",zo,o(r(a).email[0]),1)):c("",!0),t("div",Wo,[Xo,C(t("input",{type:"password","onUpdate:modelValue":h[5]||(h[5]=b=>n.password=b),class:"form-control",placeholder:"Enter Password"},null,512),[[q,n.password]])]),r(a).password?(e(),s("span",Qo,o(r(a).password[0]),1)):c("",!0),t("div",Zo,[ta,C(t("input",{type:"password","onUpdate:modelValue":h[6]||(h[6]=b=>n.password_confirmation=b),class:"form-control",placeholder:"Enter Password Confirmation"},null,512),[[q,n.password_confirmation]])]),r(a).password_confirmation?(e(),s("span",ea,o(r(a).password_confirmation[0]),1)):c("",!0),sa,t("button",{type:"button",onClick:X(u,["prevent"]),"data-mdb-button-init":"","data-mdb-ripple-init":"",class:"btn btn-primary btn-block mb-4"},o(d.value),1)])])])])])]))}},kt=D=>(_t("data-v-ddc5b869"),D=D(),mt(),D),aa={class:"card mt-3 card-search mh-card"},na={class:"card-body"},la={class:"row"},ia={class:"col-md-3 text-start"},da={class:"d-flex justify-content-between"},ca=kt(()=>t("h4",null,"Filters :",-1)),ra=kt(()=>t("i",{class:"bi bi-arrow-clockwise"},null,-1)),ua={class:"text-start mb-4 filter-card mt-2 p-2"},pa=kt(()=>t("small",null,"College Department",-1)),_a=kt(()=>t("option",{value:"0",selected:""},"All Department",-1)),ma=["value"],ha={class:"card filter-card p-0"},va={class:"card-body p-1"},fa=kt(()=>t("small",null,"Authors",-1)),ba={class:"author-tag"},ga=["onClick"],$a={class:"author-filter overflow-auto mt-1"},ya={class:"form-check"},xa=["onUpdate:modelValue","onChange","value","id"],wa=["for"],ka={key:0},Da={class:"card-footer"},Ca={class:"input-group input-group-sm"},Sa=kt(()=>t("i",{class:"bi bi-search"},null,-1)),Pa=[Sa],Ua={class:"card filter-card p-0"},Aa={class:"card-body p-1"},Fa=kt(()=>t("small",null,"Type of Papers",-1)),Ea={class:"author-tag"},Ta=["onClick"],Va={class:"author-filter overflow-auto mt-1"},Ma={class:"form-check"},La=["onUpdate:modelValue","onChange","value","id"],Ra=["for"],ja={key:0},Ia={class:"card filter-card p-0"},Ba={class:"card-body p-1 pb-5"},Ya=kt(()=>t("small",null,"Publication Date",-1)),Oa={class:"text-danger"},Na={class:"d-flex justify-content-between"},qa={class:"form-group me-1"},Ha=kt(()=>t("label",null,"From:",-1)),Ka={class:"form-group"},Ga=kt(()=>t("label",null,"To:",-1)),Ja={class:"col-md-9 mt-2"},za={class:"row mb-5"},Wa={class:"col-md-12"},Xa={class:"message text-truncate-message",style:{"max-width":"100em"}},Qa={class:"keyword"},Za={key:0,class:"card filter-card"},tn={class:"card-body"},en=kt(()=>t("h4",null,"No result found! ",-1)),sn=kt(()=>t("i",{class:"bi bi-arrow-clockwise"},null,-1)),on={class:"mt-4"},an={class:"pagination pagination-sm custom-page custom-paginate"},nn=["innerHTML","onClick"],ln={__name:"SearchContent",props:["authors","typeofpapers","departments","filterResult","links","infomessage"],emits:["search","authorfeedback","typeoffeedback","changePage","departmentselected","dateyear","reload"],setup(D,{emit:f}){const d=i([]),p=i([]),a=i([]),n=i([]),u=i([]),l=i([]),$=i(""),h=i(""),b=i(!0);i([]);const g=D,A=f,U=i(new Date().getFullYear()),S=i(new Date().getFullYear()),_=(V,j)=>{V.forEach((R,O)=>{if(R){const Y=l.value.filter(F=>F.id==j.id);O==j.id&&Y.length==0&&(l.value.push(j),u.value.push(j.id))}!R&&O==j.id&&(l.value.splice(l.value.indexOf(j),1),u.value.splice(u.value.indexOf(j.id),1))}),A("authorfeedback",u.value)},w=(V,j)=>{V.forEach((R,O)=>{if(R){const Y=n.value.filter(F=>F.id==j.id);O==j.id&&Y.length==0&&(a.value.push(j.id),n.value.push(j))}!R&&O==j.id&&(a.value.splice(a.value.indexOf(j.id),1),n.value.splice(n.value.indexOf(j),1))}),A("typeoffeedback",a.value)},v=V=>{l.value.splice(l.value.indexOf(V),1),d.value[V.id]=!1,u.value.splice(u.value.indexOf(V.id),1),A("authorfeedback",u.value)},k=V=>{n.value.splice(n.value.indexOf(V),1),p.value[V.id]=!1,a.value.splice(a.value.indexOf(V.id),1),A("typeoffeedback",a.value)},m=V=>{A("search",V)};at(g,()=>{y()});const y=V=>g.filterResult.length==0?b.value=!0:b.value=!1,x=V=>V.length>0,E=V=>{A("changePage",V)},L=()=>{h.value=0,A("departmentselected",h.value),u.value=[],l.value.forEach(V=>{d.value[V.id]=!1}),l.value=[],A("authorfeedback",u.value),a.value=[],n.value.forEach(V=>{p.value[V.id]=!1}),n.value=[],A("typeoffeedback",a.value),S.value=new Date().getFullYear(),U.value=new Date().getFullYear(),A("dateyear",{to:null,from:null}),z.value=""},Q=V=>{A("departmentselected",V)},z=i(""),ot=()=>{z.value="",U.value>=S.value?(S.value="",z.value="From year must greater than To year!"):A("dateyear",{to:S.value,from:U.value})},ut=()=>{S.value=new Date().getFullYear()},it=()=>{A("reload",null),L()};return(V,j)=>{const R=tt("VueDatePicker"),O=tt("router-link");return e(),s("div",aa,[t("div",na,[t("div",la,[t("div",ia,[t("div",da,[ca,t("button",{type:"button",onClick:j[0]||(j[0]=Y=>L()),class:"btn btn-success btn-sm"},[ra,T(" Reset ")])]),t("div",ua,[pa,C(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":j[1]||(j[1]=Y=>h.value=Y),onChange:j[2]||(j[2]=X(Y=>Q(h.value),["prevent"]))},[_a,(e(!0),s(H,null,K(g.departments,(Y,F)=>(e(),s("option",{key:F,value:Y.id},o(Y.description),9,ma))),128))],544),[[pt,h.value]])]),t("div",ha,[t("div",va,[fa,t("div",ba,[(e(!0),s(H,null,K(l.value,(Y,F)=>(e(),s("div",{class:"badge rounded-pill text-white me-1 mt-1 tag sub-a-tag",key:F},[T(o(Y.first_name)+" "+o(Y.middle_name)+" "+o(Y.last_name)+" ",1),t("i",{class:"bi bi-x-circle close-tag",onClick:I=>v(Y)},null,8,ga)]))),128))]),t("ul",$a,[(e(!0),s(H,null,K(g.authors,(Y,F)=>(e(),s("li",{key:F},[t("div",ya,[C(t("input",{class:"form-check-input","onUpdate:modelValue":I=>d.value[Y.id]=I,onChange:I=>_(d.value,Y),type:"checkbox",value:Y.id,id:Y.id},null,40,xa),[[Jt,d.value[Y.id]]]),t("label",{class:"form-check-label",for:Y.id},o(Y.first_name)+" "+o(Y.middle_name)+" "+o(Y.last_name),9,wa)])]))),128)),g.authors.length==0?(e(),s("li",ka," No result found! ")):c("",!0)])]),t("div",Da,[t("div",Ca,[C(t("input",{type:"text","onUpdate:modelValue":j[3]||(j[3]=Y=>$.value=Y),onKeyup:j[4]||(j[4]=X(Y=>m($.value),["prevent"])),class:"form-control",placeholder:"Search..."},null,544),[[q,$.value]]),t("button",{class:"btn btn-primary",onClick:j[5]||(j[5]=Y=>m($.value)),type:"button",id:"button-addon2"},Pa)])])]),t("div",Ua,[t("div",Aa,[Fa,t("div",Ea,[(e(!0),s(H,null,K(n.value,(Y,F)=>(e(),s("div",{class:"badge rounded-pill text-white me-1 mt-1 tag sub-a-tag",key:F},[T(o(Y.description)+" ",1),t("i",{class:"bi bi-x-circle close-tag",onClick:I=>k(Y)},null,8,Ta)]))),128))]),t("ul",Va,[(e(!0),s(H,null,K(g.typeofpapers,(Y,F)=>(e(),s("li",{key:F},[t("div",Ma,[C(t("input",{class:"form-check-input","onUpdate:modelValue":I=>p.value[Y.id]=I,onChange:I=>w(p.value,Y),type:"checkbox",value:Y.id,id:"top"+Y.id},null,40,La),[[Jt,p.value[Y.id]]]),t("label",{class:"form-check-label",for:"top"+Y.id},o(Y.description),9,Ra)])]))),128)),g.typeofpapers.length==0?(e(),s("li",ja," No result found! ")):c("",!0)])])]),t("div",Ia,[t("div",Ba,[Ya,t("div",null,[t("span",Oa,o(z.value),1)]),t("div",Na,[t("div",qa,[Ha,B(R,{class:et("me-1"),modelValue:U.value,"onUpdate:modelValue":[j[6]||(j[6]=Y=>U.value=Y),j[7]||(j[7]=Y=>ut())],"year-picker":""},null,8,["modelValue"])]),t("div",Ka,[Ga,B(R,{modelValue:S.value,"onUpdate:modelValue":[j[8]||(j[8]=Y=>S.value=Y),j[9]||(j[9]=Y=>ot())],"year-picker":""},null,8,["modelValue"])])])])])]),t("div",Ja,[t("div",za,[t("div",Wa,o(g.infomessage),1)]),(e(!0),s(H,null,K(g.filterResult,(Y,F)=>(e(),s("div",{class:"content-message-group",key:F},[B(O,{to:{name:"main.document",params:{id:Y.id}},class:"title"},{default:W(()=>[T(o(Y.title),1)]),_:2},1032,["to"]),t("div",Xa,o(Y.abstract),1),t("div",Qa,[(e(!0),s(H,null,K(Y.keywords,(I,J)=>(e(),s("span",{class:"kword",key:J},o(I.description)+",",1))),128))])]))),128)),y(g.filterResult)?(e(),s("div",Za,[t("div",tn,[en,t("button",{type:"button",onClick:j[10]||(j[10]=Y=>it()),class:"btn btn-outline-success btn-sm"},[sn,T(" Reload ")])])])):c("",!0),C(t("nav",on,[t("ul",an,[(e(!0),s(H,null,K(g.links,(Y,F)=>(e(),s("li",{class:"page-item","aria-current":"page",key:F},[t("a",{class:et(["page-link text-sm",{active:Y.active,disabled:!Y.url}]),href:"#",innerHTML:Y.label,onClick:I=>E(Y)},null,10,nn)]))),128))])],512),[[nt,x(g.filterResult)]])])])])])}}},dn=lt(ln,[["__scopeId","data-v-ddc5b869"]]),se=D=>(_t("data-v-5b8dffdc"),D=D(),mt(),D),cn={class:"container-fluid mb-5"},rn={class:"d-flex justify-content-center"},un={class:"search w-50 mt-3 position-absolute"},pn={class:"input-group input-group-lg border-white"},_n=se(()=>t("i",{class:"bi bi-search"},null,-1)),mn=[_n],hn={key:0,class:"search-history"},vn={key:0,class:"clear-search d-flex justify-content-between p-1"},fn=se(()=>t("span",null,"Search History",-1)),bn={class:"dropdown-con"},gn=["onClick"],$n={class:"d-flex justify-content-center search-display"},yn={class:"message w-100"},xn={class:"title"},wn={key:0},kn={__name:"SearchData",setup(D){i("");const f=i([]),d=i([]),p=i(""),a=i([]),n=i([]),u=i([]),l=i(""),$=i([]),h=ct({authors:null,typeofpapers:null,search:"",department:0,toyear:null,fromyear:null});st(()=>{b(),g(),A(),m()});const b=()=>{axios.get("/api/list-author?search="+p.value).then(V=>{d.value=V.data})},g=()=>{axios.get("/api/list-departments").then(V=>{a.value=V.data})},A=()=>{axios.get("/api/list-topapers").then(V=>{n.value=V.data})};at(p,()=>{b()});const U=V=>{p.value=V},S=V=>{h.authors=V,w()},_=V=>{h.typeofpapers=V,w()},w=()=>{m(),$.value=[],h.search!=""&&k()};let v=[];const k=()=>{let V=JSON.parse(localStorage.getItem("search_history"));v=V,V!=null?V.filter(R=>R.title==h.search).length==0&&(v.length>0?(v.push({title:h.search}),localStorage.setItem("search_history",JSON.stringify(v))):(v.push({title:h.search}),localStorage.setItem("search_history",JSON.stringify(v)))):(v.push({title:h.search}),localStorage.setItem("search_history",JSON.stringify(v)))},m=()=>{l.value="Searching...",axios.get("/api/public-document",{params:h}).then(V=>{l.value="",f.value=V.data.data,u.value=V.data.links})},y=V=>{!V.url||V.active||axios.get(V.url).then(j=>{f.value=j.data.data,u.value=j.data.links})},x=V=>{h.department=V,w()},E=V=>{h.toyear=V.to,h.fromyear=V.from,w()},L=()=>{h.search=""},Q=i(!1),z=i(""),ot=V=>{V.key!="Enter"?axios.get("/api/search-list",{params:h}).then(j=>{if(h.search==""){Q.value=!0;let R=JSON.parse(localStorage.getItem("search_history"));R!=null&&($.value=R.reverse())}else $.value=j.data,Q.value=!1}):z.value=h.search},ut=V=>{h.search=V,w(),z.value=V},it=()=>{localStorage.setItem("search_history",JSON.stringify([])),$.value=[]};return(V,j)=>(e(),s("div",cn,[t("div",rn,[t("div",un,[t("div",pn,[C(t("input",{type:"text",class:"form-control","onUpdate:modelValue":j[0]||(j[0]=R=>h.search=R),onKeyup:X(ot,["prevent"]),onFocus:ot,onKeydown:j[1]||(j[1]=Yt(X(R=>w(),["prevent"]),["enter"])),placeholder:"Search..."},null,544),[[q,h.search]]),t("button",{class:"btn btn-primary",onClick:j[2]||(j[2]=X(R=>w(),["prevent"])),type:"button",id:"button-addon2"},mn)]),$.value.length>0?(e(),s("div",hn,[Q.value?(e(),s("div",vn,[fn,t("a",{href:"#",onClick:it},"clear")])):c("",!0),t("ul",bn,[(e(!0),s(H,null,K($.value,(R,O)=>(e(),s("li",{class:"list",key:O},[t("a",{class:"link",onClick:X(Y=>ut(R.title),["prevent"]),href:"#"},o(R.title),9,gn)]))),128))])])):c("",!0)])]),t("div",$n,[t("div",yn,[t("div",xn,o(z.value),1),z.value!=""?(e(),s("span",wn,o(f.value.length)+' item/s found for "'+o(z.value)+'"',1)):c("",!0)])]),B(dn,{class:et("content-output"),infomessage:l.value,links:u.value,filterResult:f.value,authors:d.value,departments:a.value,typeofpapers:n.value,onSearch:U,onAuthorfeedback:S,onTypeoffeedback:_,onChangePage:y,onDepartmentselected:x,onDateyear:E,onReload:L},null,8,["infomessage","links","filterResult","authors","departments","typeofpapers"])]))}},Dn=lt(kn,[["__scopeId","data-v-5b8dffdc"]]),Cn={key:1},At={__name:"GenStatus",props:{statusData:{type:Number,required:!1},uploadData:{type:Number,required:!1},uploadDataView:{type:Object,required:!1}},setup(D){const f=i(""),d=i(!1),p=D;at(p,()=>{console.log(p.statusData!=null),p.statusData!=null||p.uploadData!=null?(d.value=!0,a(),n()):p.uploadDataView!=null&&(d.value=!1,u())}),st(()=>{p.statusData!=null||p.uploadData!=null?(d.value=!0,a(),n()):p.uploadDataView!=null&&(d.value=!1,u())});const a=()=>{const l=p.statusData;l===0?f.value="On Checking...":l===1?f.value="Approved":l===2&&(f.value="Disapproved")},n=()=>{const l=p.uploadData;l===0?f.value="Publish":l===1&&(f.value="Archive")},u=()=>{const l=p.uploadDataView;l.status===1&&l.upload_type===0?f.value="Published":l.status===1&&l.upload_type===1?f.value="Archived":l.status===0&&l.upload_type===0?f.value="Publish":l.status===0&&l.upload_type===1?f.value="Archive":l.status===2&&l.upload_type===1?f.value="Not Archived":l.status===2&&l.upload_type===0&&(f.value="Unplublished")};return(l,$)=>(e(),s("div",null,[d.value?(e(),s("div",{key:0,class:et(["badge rounded-pill",p.statusData==2?"bg-danger":"bg-secondary"])},o(f.value),3)):c("",!0),d.value?c("",!0):(e(),s("div",Cn,o(f.value),1))]))}},Sn=D=>(_t("data-v-26c415a3"),D=D(),mt(),D),Pn=Sn(()=>t("div",{class:"doc-container adjust-size"},null,-1)),Un=[Pn],An={__name:"PDFViewer",props:{pdfFile:{type:String,required:!0}},emits:["loaded"],setup(D,{emit:f}){const d=f,p=D;st(()=>{a().then(n=>{d("loaded",n)})});const a=async()=>{PSPDFKit.unload(".doc-container");const n=new PSPDFKit.ViewState({readOnly:!0});return await PSPDFKit.load({licenseKey:"6-3kWdKQjo06m1E_ZJaSbz9dWJm6SwIs0w-A_kKbNN3qRasmwHurJjEcglXs91t8XXBTH0A1Um1ixUXx2eHaDx3TcQqGaXs7svxxvmcEbbprr_rHcXDtnToGrkGQq5GZcqswRS8TMaReiIZXwrFBi35nvwCNTsEU4uRTWJe7YJ11v78ypX0kDw4mSGm0kvEuVdJTHbo79gVSvyqdbkvagisQev4itZUJx-XDWLuRZQJVP-QTUes1d_nKAHteomebnru9JafDVQX6Q8CDe1X9_HVdvnFvq7yqY-ILgnmDtRVE7doZchiy9rWewqFC0XahNBtBXy0myZMNB_oPU2dCUj-03LWTAXp2Alcc2qpXn4-3bCnHg9q1e0IErBhoZ_9uEg",document:p.pdfFile,container:".doc-container",initialViewState:n}).then(u=>{const l=u.toolbarItems;u.setToolbarItems(l.filter($=>$.type!=="export-pdf")),URL.revokeObjectURL(p.pdfFile)})};return at(p,()=>{p.pdfFile&&a()}),ie(()=>{PSPDFKit.unload(".doc-container")}),(n,u)=>(e(),s("div",null,Un))}},jt=lt(An,[["__scopeId","data-v-26c415a3"]]),yt=D=>(_t("data-v-a4137026"),D=D(),mt(),D),Fn={class:"container mt-3 mb-5"},En={class:"row bg-white p-2 m-1 rounded"},Tn=yt(()=>t("div",{class:"col-md-12"},[t("h4",{class:"text-start m-0 mb-3"},[t("span",{class:"bi bi-file-earmark-richtext"}),T(" Document ")])],-1)),Vn=yt(()=>t("hr",null,null,-1)),Mn={class:"col-md-4 col-lg-4"},Ln={class:"card doc-card custom-border"},Rn={class:"side-badge w-auto"},jn={class:"text-end p-2"},In={class:"card-body"},Bn=yt(()=>t("div",{class:"main-img mt-2 mb-0"},[t("img",{class:"img-pdf",src:"/img/pdf.jpg"})],-1)),Yn={class:"upload-status border p-2"},On={key:0,class:"p-0"},Nn={key:1,class:"text-start txt-grey"},qn=yt(()=>t("span",{class:"fw-bold"}," DOI:",-1)),Hn={key:2,class:"mt-0 p-0"},Kn={key:3,class:"text-start txt-grey"},Gn=yt(()=>t("span",{class:"fw-bold"}," Volume/Issue no.:",-1)),Jn={key:4,class:"mt-0 p-0"},zn={key:5,class:"text-start txt-grey"},Wn=yt(()=>t("span",{class:"fw-bold"}," Publication:",-1)),Xn={key:6,class:"mt-0 p-0"},Qn={key:7,class:"text-start txt-grey"},Zn=yt(()=>t("span",{class:"fw-bold"}," Department:",-1)),tl={key:8,class:"mt-0 p-0"},el={class:"card-footer bg-white p-0"},sl=yt(()=>t("span",{class:"bi bi-download"},null,-1)),ol={class:"text-download"},al={class:"card-footer bg-pub"},nl={class:"author-list text-start"},ll=yt(()=>t("i",null,"Author/s:",-1)),il={class:"list-group list-group-flush"},dl={class:"col-md-8 col-lg-8"},cl={class:"card doc-card"},rl={class:"card-body"},ul={class:"content-doc text-primary border border-success border-2 pt-2"},pl={class:"info-doc"},_l={class:"head-title text-start"},ml={class:"abstract"},hl={key:0,class:"blockquote"},vl=yt(()=>t("small",{class:"text-primary"},"Abstract: ",-1)),fl={key:1,class:"link-doi mt-3"},bl=yt(()=>t("hr",null,null,-1)),gl={key:2,class:"d-flex flex-wrap pub-date"},$l={class:"d-flex flex-wrap custom-w justify-content-start mb-3"},yl=yt(()=>t("span",{class:"key-title"},"Keywords:",-1)),xl=yt(()=>t("span",{class:"label"}," Publication date : ",-1)),wl={class:"content"},kl={__name:"ViewDocument",setup(D){const f=Tt();ft();const d=f.params.id,p=i({}),a=i({}),n=i({}),u=i(""),l=i(!1);st(()=>{$(d)});const $=w=>{axios.get("/api/public-document/"+w).then(v=>{a.value=v.data,n.value=a.value.document_file,p.value=v.data.typeofpaper,A(n.value)})},h=w=>ht(w).format("MMMM D, YYYY"),b=w=>{const v=g(w.base64,w.mime_type),k=document.createElement("a");k.href=URL.createObjectURL(v),k.download=w.original_name,k.click(),URL.revokeObjectURL(k.href),axios.post("/api/download",{id:w.document_id}).then(m=>{})},g=(w,v="",k=512)=>{const m=atob(w),y=[];for(let E=0;E<m.length;E+=k){const L=m.slice(E,E+k),Q=new Array(L.length);for(let ot=0;ot<L.length;ot++)Q[ot]=L.charCodeAt(ot);const z=new Uint8Array(Q);y.push(z)}return new Blob(y,{type:v})},A=w=>{const v=g(w.base64,w.mime_type);u.value=URL.createObjectURL(v)},U=w=>{console.log(w)},S=()=>{l.value=!l.value},_=w=>{window.open(w,"_blank")};return(w,v)=>(e(),s("div",Fn,[t("div",En,[Tn,Vn,t("div",Mn,[t("div",Ln,[t("div",Rn,[B(At,{uploadDataView:a.value},null,8,["uploadDataView"])]),t("div",jn,[t("button",{type:"button",onClick:S,class:"btn btn-outline-success btn-sm"},[t("i",{class:et(["bi",l.value?"bi-eye-slash":"bi-eye"])},null,2)])]),t("div",In,[Bn,t("div",Yn,[t("strong",null,o(p.value.description),1)]),a.value.upload_type==0?(e(),s("hr",On)):c("",!0),a.value.upload_type==0?(e(),s("div",Nn,[qn,T(),t("a",{onClick:v[0]||(v[0]=k=>_(a.value.doi)),href:"#"},o(a.value.doi),1)])):c("",!0),a.value.upload_type==0?(e(),s("hr",Hn)):c("",!0),a.value.upload_type==0?(e(),s("div",Kn,[Gn,T(" "+o(a.value.issue_numbers),1)])):c("",!0),a.value.upload_type==0?(e(),s("hr",Jn)):c("",!0),a.value.upload_type==0?(e(),s("div",zn,[Wn,T(" "+o(a.value.publisher),1)])):c("",!0),a.value.upload_type==0?(e(),s("hr",Xn)):c("",!0),a.value.upload_type==0?(e(),s("div",Qn,[Zn,T(" "+o(a.value.department!=null?a.value.department.description:""),1)])):c("",!0),a.value.upload_type==0?(e(),s("hr",tl)):c("",!0)]),t("div",el,[t("a",{href:"#",class:"link-download",onClick:v[1]||(v[1]=k=>b(n.value))},[sl,T("Â "),t("small",ol,o(n.value.original_name),1)])]),t("div",al,[t("div",nl,[ll,t("ul",il,[(e(!0),s(H,null,K(a.value.authors,(k,m)=>(e(),s("li",{class:"list-group-item text-primary p-1",key:m},o(k.first_name)+" "+o(k.middle_name)+" "+o(k.last_name),1))),128))])])])])]),t("div",dl,[t("div",cl,[t("div",rl,[C(t("div",ul,[T(" Infomation "),B(jt,{pdfFile:u.value,onLoaded:U},null,8,["pdfFile"])],512),[[nt,l.value]]),C(t("div",pl,[t("h5",_l,o(a.value.title),1),t("div",ml,[a.value.upload_type==0?(e(),s("blockquote",hl,[vl,T(" "+o(a.value.abstract),1)])):c("",!0),a.value.upload_type==0?(e(),s("div",fl)):c("",!0),bl,a.value.upload_type==0?(e(),s("div",gl,[t("div",$l,[yl,(e(!0),s(H,null,K(a.value.keywords,(k,m)=>(e(),s("span",{class:"badge bg-success me-1 mb-1",key:m},o(k.description),1))),128))]),xl,t("div",wl,o(h(a.value.publication_date)),1)])):c("",!0)])],512),[[nt,!l.value]])])])])])]))}},Dl=lt(kl,[["__scopeId","data-v-a4137026"]]),xt=D=>(_t("data-v-22074b2f"),D=D(),mt(),D),Cl={class:"container-fluid"},Sl={class:"row"},Pl=Ot('<div class="col-md-12" data-v-22074b2f><div class="row mt-2" data-v-22074b2f><div class="col-md-3 text-left" data-v-22074b2f><img src="/img/rechiva.png" width="130" height="130" data-v-22074b2f></div><div class="col-md-9 text-start text-white mt-2 rechiva-cap pe-5" data-v-22074b2f><h4 class="title" data-v-22074b2f>RECHIVA</h4><p class="caption" data-v-22074b2f> The Institutional Repository of Notre Dame of Midsayap College </p></div></div></div>',1),Ul={class:"col-md-6 mt-2 recent-submission ps-5"},Al={class:"container rs-content"},Fl=xt(()=>t("div",{class:"rs-content-head"}," Recent Submissions ",-1)),El={class:"title"},Tl={class:"content rs-truncate"},Vl={class:"col-md-6 mt-2"},Ml={class:"row"},Ll=xt(()=>t("div",{class:"col-md-12 p-0"},[t("div",{class:"link-fb"},[t("a",{target:"_blank",href:"https://www.facebook.com/NDMCResearchandDevelopmentCenter","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Facebook Page NDMC RDC"},[t("img",{class:"img-link",src:"/img/school.png"})])])],-1)),Rl={class:"col-md-12"},jl={class:"most-download text-start mt-4 bg-white p-2"},Il=xt(()=>t("h4",{class:"text-uppercase"},"Top most download documents",-1)),Bl={class:"most-list"},Yl={class:"most-title text-truncate-message"},Ol=xt(()=>t("span",{class:"square"},null,-1)),Nl={class:"most-count"},ql=xt(()=>t("i",{class:"bi bi-cloud-arrow-down"},null,-1)),Hl={class:"col-md-12 mt-5 d-flex justify-content-around mb-5"},Kl={class:"round-info"},Gl={class:"round-icon"},Jl=xt(()=>t("i",{class:"bi bi-people"},null,-1)),zl={class:"round-count"},Wl=xt(()=>t("div",{class:"round-title text-start"},"Total Visitors",-1)),Xl={class:"round-info"},Ql={class:"round-icon"},Zl=xt(()=>t("i",{class:"bi bi-folder-check"},null,-1)),ti={class:"round-count"},ei=xt(()=>t("div",{class:"round-title text-start"},"Total Collections",-1)),si={class:"col-md-12 mt-5 d-flex justify-content-around"},oi={class:"round-info"},ai={class:"round-icon"},ni=xt(()=>t("i",{class:"bi bi-box-arrow-in-down"},null,-1)),li={class:"round-count"},ii=xt(()=>t("div",{class:"round-title text-start"},"Total Downloads",-1)),di={class:"round-info"},ci={class:"round-icon"},ri=xt(()=>t("i",{class:"bi bi-people"},null,-1)),ui={class:"round-count"},pi=xt(()=>t("div",{class:"round-title text-start"},"Total Members",-1)),_i={__name:"PublicPage",setup(D){const f=i({});st(()=>{d(),l(),h(),b()});const d=()=>{axios.get("/api/statistic").then(g=>{f.value=g.data})},p=i([]);let a=[],n=[];const u=i([]),l=()=>{axios.get("/api/department-stat").then(g=>{p.value=g.data,g.data.forEach(U=>{a.push(U.abbreviation),n.push(U.docs.length)})})},$=i([]),h=()=>{axios.get("/api/recent-submission").then(g=>{$.value=g.data})},b=()=>{axios.get("/api/most-download").then(g=>{u.value=g.data})};return(g,A)=>{const U=tt("router-link");return e(),s("div",Cl,[t("div",Sl,[Pl,t("div",Ul,[t("div",Al,[Fl,(e(!0),s(H,null,K($.value,(S,_)=>(e(),s("div",{class:"rs-content-body",key:_},[t("div",El,[B(U,{to:{name:"main.document",params:{id:S.id}},class:"link"},{default:W(()=>[T(o(S.title),1)]),_:2},1032,["to"])]),t("div",Tl,o(S.abstract),1)]))),128))])]),t("div",Vl,[t("div",Ml,[Ll,t("div",Rl,[t("div",jl,[Il,t("ul",Bl,[(e(!0),s(H,null,K(u.value,(S,_)=>(e(),s("li",{class:"d-flex justify-content-between",key:_},[B(U,{to:{name:"main.document",params:{id:S.document_id}}},{default:W(()=>[t("span",Yl,[Ol,T(" "+o(S.title),1)])]),_:2},1032,["to"]),t("span",Nl,[T(o(S.download)+" ",1),ql])]))),128))])])]),t("div",Hl,[t("div",Kl,[t("div",Gl,[Jl,t("div",zl,o(f.value.visitors),1)]),Wl]),t("div",Xl,[t("div",Ql,[Zl,t("div",ti,o(f.value.collections),1)]),ei])]),t("div",si,[t("div",oi,[t("div",ai,[ni,t("div",li,o(f.value.downloads),1)]),ii]),t("div",di,[t("div",ci,[ri,t("div",ui,o(f.value.members),1)]),pi])])])])])])}}},mi=lt(_i,[["__scopeId","data-v-22074b2f"]]),hi={},vi={class:"container bg-container mt-5"},fi=Ot('<div class="row" data-v-bf24e186><div class="col-md-12 mt-3 mb-5" data-v-bf24e186><div class="head-about" data-v-bf24e186> About </div></div><div class="col-md-12" data-v-bf24e186><div class="content-about" data-v-bf24e186><div class="title" data-v-bf24e186> RECHIVA </div><p class="content" data-v-bf24e186>Â Â Â Â  Is a web-based repository system designed to simplify the management and sharing of research publications in academic institutions. Our platform provides a smooth experience for students, faculty, and administrators to access, submit, and manage scholarly work. </p><p class="content" data-v-bf24e186>Â Â Â Â  Acts as a central hub for academic research, making it easy to manage and access publications. We aim to improve the visibility and accessibility of scholarly materials, support collaboration, and promote research excellence. </p></div></div><div class="col-md-6 mt-3" data-v-bf24e186><div class="content-about" data-v-bf24e186><div class="title" data-v-bf24e186> Vision : </div><p class="content text-start text-size" data-v-bf24e186> Our mission is to support and enrich the academic community by providing a comprehensive, intuitive platform for the management of research publications. We are committed to facilitating seamless collaboration among students, faculty, and administrators. By enhancing the visibility and accessibility of scholarly work, we aim to contribute significantly to the progress of research and education, fostering an environment where academic excellence can thrive. </p></div></div><div class="col-md-6 mt-3" data-v-bf24e186><div class="content-about" data-v-bf24e186><div class="title" data-v-bf24e186> Mission : </div><p class="content text-start text-size" data-v-bf24e186> To establish ourselves as the leading platform in academic research management, dedicated to advancing knowledge through cutting-edge, user-centric solutions. We envision a future where our innovative tools and services empower the academic community to achieve new heights in research and collaboration. </p></div></div><div class="col-md-12 mt-3" data-v-bf24e186><div class="contact text-start p-5" data-v-bf24e186><h4 class="head-title" data-v-bf24e186>Contact Information:</h4><div class="contact-email" data-v-bf24e186><div class="title" data-v-bf24e186> RECHIVA Development Center (RDC): </div><p data-v-bf24e186> Email address : rdc@ndmc.edu.ph </p></div><div class="contact-social mt-2" data-v-bf24e186><div class="title" data-v-bf24e186> Follow Us: </div><p data-v-bf24e186> Stay connected and updated with our latest news and updates through our social media channels: </p><div class="title" data-v-bf24e186> Facebook: <a target="_blank" href="https://facebook.com/rechiva" data-v-bf24e186>https://facebook.com/rechiva</a></div></div></div></div></div>',1),bi=[fi];function gi(D,f){return e(),s("div",vi,bi)}const $i=lt(hi,[["render",gi],["__scopeId","data-v-bf24e186"]]),rt=D=>(_t("data-v-35bfd546"),D=D(),mt(),D),yi={class:"navbar navbar-expand-lg bg-light mb-0 bg-header custom-nav d-print-none"},xi={class:"container-fluid"},wi=rt(()=>t("button",{type:"button",class:"btn text-white sidebarCollapse d-inline-block d-lg-none"},[t("i",{class:"fa fa-bars"}),t("span",{class:"sr-only"},"Toggle Menu")],-1)),ki={class:"main-brand"},Di=rt(()=>t("div",{class:"brand-name"},[t("img",{src:"/img/ndmc.png",class:"logo-main"}),t("img",{src:"/img/research.png",class:"sub-logo"})],-1)),Ci=rt(()=>t("div",{class:"d-md-inline-flex d-lg-inline-flex"},[t("div",{class:"logo-text d-none d-lg-block d-xl-block d-md-block p-0"}," RECHIVA "),t("img",{src:"/img/rechiva.png",class:"logo-app"})],-1)),Si=rt(()=>t("button",{class:"btn btn-outline-success d-inline-block d-lg-none",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[t("i",{class:"fa fa-bars"})],-1)),Pi={class:"collapse navbar-collapse",id:"navbarSupportedContent"},Ui={class:"navbar-nav mb-2 mb-lg-0 ms-auto"},Ai={class:"nav-item nav-cus mb-nav"},Fi=rt(()=>t("span",{class:"bi bi-globe"},null,-1)),Ei={class:"nav-item nav-cus mb-nav"},Ti=rt(()=>t("span",{class:"bi bi-plus-circle"},null,-1)),Vi={class:"nav-item nav-cus mb-nav"},Mi=rt(()=>t("span",{class:"bi bi-plus-circle"},null,-1)),Li={class:"nav-item nav-cus mb-nav"},Ri=rt(()=>t("span",{class:"bi bi-file-earmark-bar-graph"},null,-1)),ji={class:"nav-item nav-cus cus-pad dropdown"},Ii={class:"nav-link",href:"#"},Bi={class:"bi bi-bell-fill position-relative notify"},Yi={key:0,class:"position-absolute top-0 start-100 translate-middle notify-badge"},Oi={class:"dropdown-menu dropdown-menu-end user-menu"},Ni={key:0},qi=rt(()=>t("div",{class:"ps-2 pe-2"}," Notifications ",-1)),Hi=[qi],Ki={key:1},Gi=rt(()=>t("hr",{class:"dropdown-divider"},null,-1)),Ji=[Gi],zi={key:2},Wi=rt(()=>t("p",{class:"ps-2 pe-2 text-success"},"No notification available!",-1)),Xi=[Wi],Qi={class:"noti-div position-relative"},Zi=["onClick"],td={class:"notification"},ed={class:"d-flex flex-start align-items-center"},sd=["src"],od=rt(()=>t("div",{class:"arrow text-success w-100 position-absolute text-end"},[t("i",{class:"bi bi-arrow-right-circle icon-mar"})],-1)),ad={class:"arrow text-success w-100 position-absolute text-end time-ago"},nd={class:"fw-bold text-primary mb-1"},ld={class:"text-muted small mb-0"},id=rt(()=>t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),dd={class:"nav-item dropdown justify-content-center"},cd={class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},rd={class:"d-flex"},ud={class:"admin-info d-none d-lg-block d-xl-block"},pd=["src"],_d={class:"dropdown-menu dropdown-menu-end user-menu"},md={class:"dropdown-item user-li d-inline-block d-lg-none"},hd={class:"info-user"},vd=rt(()=>t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),fd={class:"d-grid gap-2"},bd={class:"wrapper d-flex align-items-stretch"},gd={id:"sidebar",class:"active d-print-none"},$d={class:"list-unstyled components mb-5"},yd=rt(()=>t("li",{class:"ms-auto"},[t("a",{href:"#",class:"sidebarCollapse d-none d-lg-block d-xl-block"},[t("i",{class:"fa fa-bars"})])],-1)),xd=rt(()=>t("span",{class:"bi bi-speedometer"},null,-1)),wd=rt(()=>t("span",{class:"bi bi-file-earmark-arrow-down"},null,-1)),kd=rt(()=>t("span",{class:"bi bi-file-earmark-pdf"},null,-1)),Dd=rt(()=>t("span",{class:"bi bi-archive"},null,-1)),Cd=rt(()=>t("span",{class:"bi bi-file-earmark-excel"},null,-1)),Sd=rt(()=>t("span",{class:"bi bi-people"},null,-1)),Pd=rt(()=>t("span",{class:"bi bi-gear"},null,-1)),Ud=rt(()=>t("div",{class:"footer"},[t("p")],-1)),Ad={id:"content",class:"p-4 p-md-5 pt-md-2"},Fd=Ot('<div class="footer d-print-none" data-v-35bfd546><ul class="nav justify-content-center border-bottom bg-footer" data-v-35bfd546><li class="nav-item" data-v-35bfd546><a href="#" class="nav-link px-2 text-white" data-v-35bfd546></a></li><li class="nav-item" data-v-35bfd546><a href="#" class="nav-link px-2 text-body-secondary" data-v-35bfd546></a></li></ul></div>',1),Ed={mounted(){var D=function(){Rt(".js-fullheight").css("height",Rt(window).height()),Rt(window).resize(function(){Rt(".js-fullheight").css("height",Rt(window).height())})};D(),Rt(".sidebarCollapse").on("click",function(){Rt("#sidebar").toggleClass("active")})}},Td=Object.assign(Ed,{__name:"Dashboard",setup(D){const f=i({}),d=i([]),p=ft(),a=()=>{Swal.fire({title:"Sign out",text:"Do you want sign out?",icon:"question",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",cancelButtonText:"No",confirmButtonText:"Yes"}).then(b=>{b.isConfirmed&&axios.get("/api/auth/out").then(g=>{g.data.success&&(window.location.href="/sign-in")})})};st(()=>{n(),u()}),at(d,()=>{d.length>0&&u()});const n=()=>{axios.get("/api/user").then(b=>{f.value=b.data})},u=()=>{axios.get("/api/notification").then(b=>{d.value=b.data})},l=b=>{if(b!=null)return b.first_name+" "+(b.last_name!=null?b.last_name:"")},$=b=>b.length,h=b=>{axios.put("/api/notification/"+b.id,{status:1}).then(g=>{u(),b.role==0||b.role==1?p.push({name:"admin.requestdoc",params:{id:b.document_id}}):b.role==2&&p.push({name:"admin.user",params:{id:b.sender_id}})})};return(b,g)=>{const A=tt("router-link"),U=tt("timeago"),S=tt("router-view");return e(),s("div",null,[t("nav",yi,[t("div",xi,[wi,t("div",ki,[B(A,{to:{name:"dashboard"},class:"d-inline-flex p-0"},{default:W(()=>[Di,Ci]),_:1})]),Si,t("div",Pi,[t("ul",Ui,[t("li",Ai,[B(A,{class:"btn btn-outline-success",to:{name:"publicpage"}},{default:W(()=>[Fi,T(" Home ")]),_:1})]),t("li",Ei,[B(A,{class:"nav-link",to:{name:"admin.upload_p"}},{default:W(()=>[Ti,T(" Publish ")]),_:1})]),t("li",Vi,[B(A,{class:"nav-link",to:{name:"admin.upload_a"}},{default:W(()=>[Mi,T(" Archive ")]),_:1})]),t("li",Li,[B(A,{class:"nav-link",to:{name:"admin.report"}},{default:W(()=>[Ri,T(" Report ")]),_:1})]),t("li",ji,[t("a",Ii,[t("i",Bi,[d.value.length>0?(e(),s("span",Yi,o($(d.value)),1)):c("",!0)])]),t("ul",Oi,[d.value.length>0?(e(),s("li",Ni,Hi)):c("",!0),d.value.length>0?(e(),s("li",Ki,Ji)):c("",!0),d.value.length==0?(e(),s("li",zi,Xi)):c("",!0),t("div",Qi,[(e(!0),s(H,null,K(d.value,(_,w)=>(e(),s("li",{class:"dropdown-item user-li",key:w},[t("a",{href:"#",class:"notili",onClick:X(v=>h(_),["prevent"])},[t("div",td,[t("div",ed,[t("img",{class:"rounded-circle shadow-1-strong me-3",src:_.sender.image==null?"/img/user.png":"data:"+_.sender.extension+";base64,"+_.sender.image,alt:"avatar",width:"40",height:"40"},null,8,sd),od,t("small",ad,[B(U,{class:et("sub-ago"),datetime:_.created_at},null,8,["datetime"])]),t("div",null,[t("h6",nd,o(l(_.sender)),1),t("p",ld,o(_.caption),1)])])])],8,Zi)]))),128))]),id])]),t("li",dd,[t("a",cd,[t("div",rd,[t("div",ud,o(f.value.first_name)+" "+o(f.value.middle_initial)+" "+o(f.value.last_name),1),t("img",{class:"img-user rounded-circle",src:f.value.image==""?"/img/user.png":"data:"+f.value.extension+";base64,"+f.value.image,alt:""},null,8,pd)])]),t("ul",_d,[t("li",md,[t("div",hd,o(f.value.first_name)+" "+o(f.value.middle_initial)+" "+o(f.value.last_name),1)]),t("li",null,[B(A,{to:{name:"admin.account"},class:"dropdown-item"},{default:W(()=>[T("Profile")]),_:1})]),vd,t("li",fd,[t("button",{type:"button",onClick:g[0]||(g[0]=X(_=>a(),["prevent"])),class:"btn btn-signout btn-sm"},"Sign Out")])])])])])])]),t("div",bd,[t("nav",gd,[t("ul",$d,[yd,t("li",null,[B(A,{to:{name:"dashboard"}},{default:W(()=>[xd,T(" Dashboard")]),_:1})]),t("li",null,[B(A,{to:{name:"admin.request"}},{default:W(()=>[wd,T(" Submission")]),_:1})]),t("li",null,[B(A,{to:{name:"admin.published"}},{default:W(()=>[kd,T(" Published")]),_:1})]),t("li",null,[B(A,{to:{name:"admin.archived"}},{default:W(()=>[Dd,T(" Archived")]),_:1})]),t("li",null,[B(A,{to:{name:"admin.canceled"}},{default:W(()=>[Cd,T(" Canceled")]),_:1})]),t("li",null,[B(A,{to:{name:"admin.users"}},{default:W(()=>[Sd,T(" Users")]),_:1})]),t("li",null,[B(A,{to:{name:"setting.authors"}},{default:W(()=>[Pd,T(" Data Mgmt.")]),_:1})])]),Ud]),t("div",Ad,[B(S)])]),Fd])}}}),Vd=lt(Td,[["__scopeId","data-v-35bfd546"]]),Dt=D=>(_t("data-v-71a5bf47"),D=D(),mt(),D),Md={class:"container mt-2"},Ld={class:"row"},Rd={class:"col-md-12 text-start me-4"},jd=Dt(()=>t("h4",{class:"m-0"},"Dashboard",-1)),Id=Dt(()=>t("hr",null,null,-1)),Bd={class:"col-md-12 d-flex justify-content-between"},Yd={class:"card w-100 me-4 panel-card"},Od={class:"card-body pb-2"},Nd={class:"d-flex justify-content-between head-panel"},qd={class:"count-panel"},Hd=Dt(()=>t("div",{class:"icon-panel"},[t("i",{class:"bi bi-people"})],-1)),Kd=Dt(()=>t("div",{class:"title-panel"}," Total Visitors ",-1)),Gd={class:"card w-100 me-4 panel-card"},Jd={class:"card-body pb-2"},zd={class:"d-flex justify-content-between head-panel"},Wd={class:"count-panel"},Xd=Dt(()=>t("div",{class:"icon-panel"},[t("i",{class:"bi bi-folder-check"})],-1)),Qd=Dt(()=>t("div",{class:"title-panel"}," Total Collections ",-1)),Zd={class:"card w-100 me-4 panel-card"},tc={class:"card-body pb-2"},ec={class:"d-flex justify-content-between head-panel"},sc={class:"count-panel"},oc=Dt(()=>t("div",{class:"icon-panel"},[t("i",{class:"bi bi-box-arrow-in-down"})],-1)),ac=Dt(()=>t("div",{class:"title-panel"}," Total Downloads ",-1)),nc={class:"card w-100 me-4 panel-card"},lc={class:"card-body pb-2"},ic={class:"d-flex justify-content-between head-panel"},dc={class:"count-panel"},cc=Dt(()=>t("div",{class:"icon-panel"},[t("i",{class:"bi bi-people"})],-1)),rc=Dt(()=>t("div",{class:"title-panel"}," Total Members ",-1)),uc={class:"col-md-12 text-start"},pc={class:"card me-4 card-report"},_c=Dt(()=>t("div",{class:"card-header pb-1 bg-white"},[t("h4",null,"Report")],-1)),mc={class:"card-body"},hc=Dt(()=>t("div",{class:"verticaltext position-absolute"},[t("h4",null," Number of Submission")],-1)),vc={class:"h-100"};pe.register(_e,me,he,ve,fe,be);const fc={name:"BarChart",components:{Bar:Zt},data(){return{chartData:{labels:["cite","cas","cce","cbe","coe"],datasets:[{label:"College Department Submission",backgroundColor:"#26884b",data:[40,20,12]}]},chartOptions:{responsive:!0,maintainAspectRatio:!1}}}},bc=Object.assign(fc,{setup(D){const f=i({}),d=h=>ht(h).format("MMMM D, YYYY | hh:mm a");st(()=>{p(),$()});const p=()=>{axios.get("/api/statistic").then(h=>{f.value=h.data})},a=i([]);let n={},u=[],l=[];const $=()=>{axios.get("/api/department-stat").then(h=>{a.value=h.data,h.data.forEach(g=>{u.push(g.abbreviation),l.push(g.docs.length)})}),n={labels:u,datasets:[{label:"College Department Submission",backgroundColor:"#26884b",data:l}]}};return(h,b)=>(e(),s("div",Md,[t("div",Ld,[t("div",Rd,[jd,t("p",null,o(d(new Date)),1),Id]),t("div",Bd,[t("div",Yd,[t("div",Od,[t("div",Nd,[t("div",qd,o(f.value.visitors),1),Hd]),Kd])]),t("div",Gd,[t("div",Jd,[t("div",zd,[t("div",Wd,o(f.value.collections),1),Xd]),Qd])]),t("div",Zd,[t("div",tc,[t("div",ec,[t("div",sc,o(f.value.downloads),1),oc]),ac])]),t("div",nc,[t("div",lc,[t("div",ic,[t("div",dc,o(f.value.members),1),cc]),rc])])]),t("div",uc,[t("div",pc,[_c,t("div",mc,[hc,t("div",vc,[a.value.length>0?(e(),wt(r(Zt),{key:0,class:et("ms-5"),id:"my-chart-id",options:h.chartOptions,data:r(n)},null,8,["options","data"])):c("",!0)])])])])])]))}}),gc=lt(bc,[["__scopeId","data-v-71a5bf47"]]),$c={class:"container mt-2"},yc={class:"col-md-12 text-start"},xc=t("h4",{class:"m-0"},"Data Management",-1),wc=t("hr",null,null,-1),kc={class:"nav nav-tabs"},Dc={class:"nav-item"},Cc={class:"nav-item"},Sc={class:"nav-item"},Pc={class:"content bg-white"},Uc={__name:"Settings",setup(D){const f=d=>ht(d).format("MMMM D, YYYY | hh:mm a");return(d,p)=>{const a=tt("router-link"),n=tt("router-view");return e(),s("div",$c,[t("div",yc,[xc,t("p",null,o(f(new Date)),1),wc]),t("ul",kc,[t("li",Dc,[B(a,{to:{name:"setting.authors"},class:"nav-link nav-cus-link","aria-current":"page"},{default:W(()=>[T("Authors")]),_:1})]),t("li",Cc,[B(a,{to:{name:"setting.departments"},class:"nav-link nav-cus-link"},{default:W(()=>[T("College Departments")]),_:1})]),t("li",Sc,[B(a,{class:"nav-link nav-cus-link",to:{name:"setting.typeofpapers"}},{default:W(()=>[T("Type of Papers")]),_:1})])]),t("div",Pc,[B(n,{class:"pt-4"})])])}}},Ac={class:"container text-start"},Fc=t("h2",null,[t("i",{class:"fa fa-cogs"}),T(" Authors")],-1),Ec={class:"row"},Tc={class:"col-md-4 pt-4 mb-2"},Vc={class:"form-group"},Mc=t("label",null,"First name",-1),Lc={key:0,class:"text-danger"},Rc={class:"form-group"},jc=t("label",null,"Middle name",-1),Ic={key:0,class:"text-danger"},Bc={class:"form-group mb-3"},Yc=t("label",null,"Last name",-1),Oc={key:0,class:"text-danger"},Nc={class:"btn-group btn-sm"},qc={class:"col-md-8"},Hc={class:"card custom-card"},Kc={class:"card-body"},Gc={class:"input-group input-group-sm mb-3"},Jc=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),zc={class:"table-responsive mt-3"},Wc={class:"table table-striped table-hover table-sm mb-0"},Xc=t("thead",null,[t("tr",{class:"text-success"},[t("th",null,[T("Description "),t("i",{class:"bx bx-up-arrow-alt ms-2"})]),t("th",null,"Last Modified"),t("th",null,"Action")])],-1),Qc={class:"d-flex align-items-center"},Zc={class:"font-weight-bold text-primary"},tr={class:"input-group"},er=["onClick"],sr=t("i",{class:"fa fa-edit"},null,-1),or=[sr],ar=["onClick"],nr=t("i",{class:"fa fa-trash"},null,-1),lr=[nr],ir={colspan:"6"},dr={key:0,class:"mt-2","aria-label":"..."},cr={class:"pagination pagination-sm custom-page"},rr=["innerHTML","onClick"],ur={__name:"SettingAuthor",setup(D){let f=i([]);const d=i(null);let p=i(""),a=i([]);const n=()=>({first_name:"",middle_name:"",last_name:"",id:null}),u=ct(n()),l=()=>Object.assign(u,n()),$=i(!1),h=x=>ht(x).format("MMMM D, YYYY | hh:mm a");st(async()=>{U()}),at(p,()=>{U()});const b=x=>{!x.url||x.active||axios.get(x.url).then(E=>{f.value=E.data.data,a.value=E.data.linkslinks.value=E.data.links})},g=()=>{k.value="saving...",axios.post("/api/setting-author",u).then(x=>{toast.fire({icon:"success",title:"Description Added Successfully!"}),v.value=[],k.value="save",U(),l()}).catch(x=>{v.value=x.response.data.errors,k.value="save"})},A=()=>{k.value="updating...",axios.put(`/api/setting-author/${u.id}`,u).then(x=>{U(),toast.fire({icon:"success",title:"Description Updated Successfully!"}),v.value=[],k.value="save",$.value=!1,l()}).catch(x=>{v.value=x.response.data.errors,k.value="update"})},U=async()=>{await axios.get("/api/setting-author?search="+p.value).then(x=>{f.value=x.data.data,a.value=x.data.links})},S=()=>{$.value===!0?A():g()},_=x=>{d.value.focus(),k.value="update",$.value=!0,axios.get(`/api/setting-author/${x.id}`).then(E=>{u.first_name=E.data.first_name,u.middle_name=E.data.middle_name,u.last_name=E.data.last_name,u.id=E.data.id})},w=()=>{k.value="save",l(),$.value=!1,v.value=""};let v=i([]);const k=i("Save"),m=x=>{Swal.fire({title:"Are you sure? "+x.description,text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes, delete it!"}).then(E=>{E.isConfirmed&&axios.delete(`/api/setting-author/${x.id}`).then(L=>{Swal.fire({title:"Deleted!",text:"Description has been deleted.",icon:"success",confirmButtonColor:"#26884b"}),U()})})},y=x=>x==null?!0:x.length>0;return(x,E)=>(e(),s("div",Ac,[Fc,t("div",Ec,[t("div",Tc,[t("div",Vc,[Mc,C(t("input",{type:"text",ref_key:"input",ref:d,"onUpdate:modelValue":E[0]||(E[0]=L=>u.first_name=L),class:"form-control form-control form-control-sm",placeholder:"Enter First name"},null,512),[[q,u.first_name]]),r(v).first_name?(e(),s("span",Lc,o(r(v).first_name[0]),1)):c("",!0)]),t("div",Rc,[jc,C(t("input",{type:"text","onUpdate:modelValue":E[1]||(E[1]=L=>u.middle_name=L),class:"form-control form-control form-control-sm",placeholder:"Enter Middle name"},null,512),[[q,u.middle_name]]),r(v).middle_name?(e(),s("span",Ic,o(r(v).middle_name[0]),1)):c("",!0)]),t("div",Bc,[Yc,C(t("input",{type:"text","onUpdate:modelValue":E[2]||(E[2]=L=>u.last_name=L),class:"form-control form-control form-control-sm",placeholder:"Enter Last name"},null,512),[[q,u.last_name]]),r(v).last_name?(e(),s("span",Oc,o(r(v).last_name[0]),1)):c("",!0)]),t("div",Nc,[t("button",{type:"button",onClick:S,class:"btn btn-primary btn-sm"},o(k.value),1),t("button",{type:"button",onClick:w,class:"btn btn-warning text-white btn-sm"},"Clear")])]),t("div",qc,[t("div",Hc,[t("div",Kc,[t("div",Gc,[C(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":E[3]||(E[3]=L=>bt(p)?p.value=L:p=L),"aria-describedby":"button-addon1"},null,512),[[q,r(p)]]),Jc]),t("div",zc,[t("table",Wc,[Xc,t("tbody",null,[(e(!0),s(H,null,K(r(f),(L,Q)=>(e(),s("tr",{key:Q},[t("td",null,[t("div",Qc,[t("div",Zc,[t("strong",null,o(L.first_name)+" "+o(L.middle_name)+" "+o(L.last_name),1)])])]),t("td",null,o(h(L.updated_at)),1),t("td",null,[t("div",tr,[t("a",{href:"#",onClick:z=>_(L),class:"btn btn-outline-success btn-sm"},or,8,er),t("a",{href:"#",onClick:z=>m(L),class:"btn btn-outline-success btn-sm"},lr,8,ar)])])]))),128)),t("tr",null,[C(t("td",ir," No Result Found! ",512),[[nt,!y(r(f))]])])])])]),y(r(f))?(e(),s("nav",dr,[t("ul",cr,[(e(!0),s(H,null,K(r(a),(L,Q)=>(e(),s("li",{class:"page-item","aria-current":"page",key:Q},[t("a",{class:et(["page-link text-sm",{active:L.active,disabled:!L.url}]),href:"#",innerHTML:L.label,onClick:z=>b(L)},null,10,rr)]))),128))])])):c("",!0)])])])])]))}},pr={class:"container text-start"},_r=t("h2",null,[t("i",{class:"fa fa-cogs"}),T(" College Departments")],-1),mr={class:"row"},hr={class:"col-md-4 pt-4 mb-2"},vr={class:"form-group mb-3"},fr=t("label",null,"Description",-1),br={key:0,class:"text-danger"},gr={class:"form-group mb-3"},$r=t("label",null,"Abbreviation",-1),yr={key:0,class:"text-danger"},xr={class:"btn-group btn-sm"},wr={class:"col-md-8"},kr={class:"card custom-card"},Dr={class:"card-body"},Cr={class:"input-group input-group-sm mb-3"},Sr=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),Pr={class:"table-responsive mt-3"},Ur={class:"table table-striped table-hover table-sm mb-0"},Ar=t("thead",null,[t("tr",{class:"text-success"},[t("th",null,[T("Description "),t("i",{class:"bx bx-up-arrow-alt ms-2"})]),t("th",null,"Abbreviation"),t("th",null,"Last Modified"),t("th",null,"Action")])],-1),Fr={class:"d-flex align-items-center"},Er={class:"font-weight-bold text-primary"},Tr={class:"input-group"},Vr=["onClick"],Mr=t("i",{class:"fa fa-edit"},null,-1),Lr=[Mr],Rr=["onClick"],jr=t("i",{class:"fa fa-trash"},null,-1),Ir=[jr],Br={colspan:"6"},Yr={key:0,class:"mt-2","aria-label":"..."},Or={class:"pagination pagination-sm custom-page"},Nr=["innerHTML","onClick"],qr={__name:"SettingDepartment",setup(D){let f=i([]);const d=i(null);let p=i(""),a=i([]);const n=()=>({description:"",abbreviation:"",id:null}),u=ct(n()),l=()=>Object.assign(u,n()),$=i(!1),h=x=>ht(x).format("MMMM D, YYYY | hh:mm a");st(async()=>{U()}),at(p,()=>{U()});const b=x=>{!x.url||x.active||axios.get(x.url).then(E=>{f.value=E.data.data,a.value=E.data.links})},g=()=>{k.value="saving...",axios.post("/api/setting-department",u).then(x=>{toast.fire({icon:"success",title:"Description Added Successfully!"}),v.value=[],k.value="save",U(),l()}).catch(x=>{v.value=x.response.data.errors,k.value="save"})},A=()=>{k.value="updating...",axios.put(`/api/setting-department/${u.id}`,u).then(x=>{U(),toast.fire({icon:"success",title:"Description Updated Successfully!"}),v.value=[],k.value="save",l(),$.value=!1}).catch(x=>{v.value=x.response.data.errors,k.value="update"})},U=async()=>{await axios.get("/api/setting-department?search="+p.value).then(x=>{f.value=x.data.data,a.value=x.data.links})},S=()=>{$.value===!0?A():g()},_=x=>{d.value.focus(),k.value="update",$.value=!0,axios.get(`/api/setting-department/${x.id}`).then(E=>{u.description=E.data.description,u.abbreviation=E.data.abbreviation,u.id=E.data.id})},w=()=>{k.value="save",l(),$.value=!1,v.value=""};let v=i([]);const k=i("Save"),m=x=>{Swal.fire({title:"Are you sure? "+x.description,text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes, delete it!"}).then(E=>{E.isConfirmed&&axios.delete(`/api/setting-department/${x.id}`).then(L=>{Swal.fire({title:"Deleted!",text:"Description has been deleted.",icon:"success",confirmButtonColor:"#26884b"}),U()})})},y=x=>x==null?!0:x.length>0;return(x,E)=>(e(),s("div",pr,[_r,t("div",mr,[t("div",hr,[t("div",vr,[fr,C(t("input",{type:"text",ref_key:"input",ref:d,"onUpdate:modelValue":E[0]||(E[0]=L=>u.description=L),class:"form-control form-control form-control-sm",placeholder:"Enter Description"},null,512),[[q,u.description]]),r(v).description?(e(),s("span",br,o(r(v).description[0]),1)):c("",!0)]),t("div",gr,[$r,C(t("input",{type:"text",ref_key:"input",ref:d,"onUpdate:modelValue":E[1]||(E[1]=L=>u.abbreviation=L),class:"form-control form-control form-control-sm",placeholder:"Enter Abbreviation"},null,512),[[q,u.abbreviation]]),r(v).abbreviation?(e(),s("span",yr,o(r(v).abbreviation[0]),1)):c("",!0)]),t("div",xr,[t("button",{type:"button",onClick:S,class:"btn btn-primary btn-sm"},o(k.value),1),t("button",{type:"button",onClick:w,class:"btn btn-warning text-white btn-sm"},"Clear")])]),t("div",wr,[t("div",kr,[t("div",Dr,[t("div",Cr,[C(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":E[2]||(E[2]=L=>bt(p)?p.value=L:p=L),"aria-describedby":"button-addon1"},null,512),[[q,r(p)]]),Sr]),t("div",Pr,[t("table",Ur,[Ar,t("tbody",null,[(e(!0),s(H,null,K(r(f),(L,Q)=>(e(),s("tr",{key:Q},[t("td",null,[t("div",Fr,[t("div",Er,[t("strong",null,o(L.description),1)])])]),t("td",null,o(L.abbreviation),1),t("td",null,o(h(L.updated_at)),1),t("td",null,[t("div",Tr,[t("a",{href:"#",onClick:z=>_(L),class:"btn btn-outline-success btn-sm"},Lr,8,Vr),t("a",{href:"#",onClick:z=>m(L),class:"btn btn-outline-success btn-sm"},Ir,8,Rr)])])]))),128)),t("tr",null,[C(t("td",Br," No Result Found! ",512),[[nt,!y(r(f))]])])])])]),y(r(f))?(e(),s("nav",Yr,[t("ul",Or,[(e(!0),s(H,null,K(r(a),(L,Q)=>(e(),s("li",{class:"page-item","aria-current":"page",key:Q},[t("a",{class:et(["page-link text-sm",{active:L.active,disabled:!L.url}]),href:"#",innerHTML:L.label,onClick:z=>b(L)},null,10,Nr)]))),128))])])):c("",!0)])])])])]))}},Hr={class:"container text-start"},Kr=t("h2",null,[t("i",{class:"fa fa-cogs"}),T(" Type of Papers")],-1),Gr={class:"row"},Jr={class:"col-md-4 pt-4 mb-2"},zr={class:"form-group mb-3"},Wr=t("label",null,"Description",-1),Xr={key:0,class:"text-danger"},Qr={class:"btn-group btn-sm"},Zr={class:"col-md-8"},tu={class:"card custom-card"},eu={class:"card-body"},su={class:"input-group input-group-sm mb-3"},ou=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),au={class:"table-responsive mt-3"},nu={class:"table table-striped table-hover table-sm mb-0"},lu=t("thead",null,[t("tr",{class:"text-success"},[t("th",null,[T("Description "),t("i",{class:"bx bx-up-arrow-alt ms-2"})]),t("th",null,"Last Modified"),t("th",null,"Action")])],-1),iu={class:"d-flex align-items-center"},du={class:"font-weight-bold text-primary"},cu={class:"input-group"},ru=["onClick"],uu=t("i",{class:"fa fa-edit"},null,-1),pu=[uu],_u=["onClick"],mu=t("i",{class:"fa fa-trash"},null,-1),hu=[mu],vu={colspan:"6"},fu={key:0,class:"mt-2","aria-label":"..."},bu={class:"pagination pagination-sm custom-page"},gu=["innerHTML","onClick"],$u={__name:"SettingTypeOfPaper",setup(D){let f=i([]);const d=i(null);let p=i(""),a=i([]);const n=()=>({description:"",id:null}),u=ct(n()),l=()=>Object.assign(u,n()),$=i(!1),h=x=>ht(x).format("MMMM D, YYYY | hh:mm a");st(async()=>{U()}),at(p,()=>{U()});const b=x=>{!x.url||x.active||axios.get(x.url).then(E=>{f.value=E.data.data,a.value=E.data.links})},g=()=>{k.value="saving...",axios.post("/api/setting-type-of-paper",u).then(x=>{toast.fire({icon:"success",title:"Description Added Successfully!"}),v.value=[],k.value="save",U(),l()}).catch(x=>{v.value=x.response.data.errors,k.value="save"})},A=()=>{k.value="updating...",axios.put(`/api/setting-type-of-paper/${u.id}`,u).then(x=>{U(),toast.fire({icon:"success",title:"Description Updated Successfully!"}),v.value=[],k.value="save",l(),$.value=!1}).catch(x=>{v.value=x.response.data.errors,k.value="update"})},U=async()=>{await axios.get("/api/setting-type-of-paper?search="+p.value).then(x=>{f.value=x.data.data,a.value=x.data.links})},S=()=>{$.value===!0?A():g()},_=x=>{d.value.focus(),k.value="update",$.value=!0,axios.get(`/api/setting-type-of-paper/${x.id}`).then(E=>{u.description=E.data.description,u.id=E.data.id})},w=()=>{k.value="save",l(),$.value=!1,v.value=""};let v=i([]);const k=i("Save"),m=x=>{Swal.fire({title:"Are you sure? "+x.description,text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes, delete it!"}).then(E=>{E.isConfirmed&&axios.delete(`/api/setting-type-of-paper/${x.id}`).then(L=>{Swal.fire({title:"Deleted!",text:"Description has been deleted.",icon:"success",confirmButtonColor:"#26884b"}),U()})})},y=x=>x==null?!0:x.length>0;return(x,E)=>(e(),s("div",Hr,[Kr,t("div",Gr,[t("div",Jr,[t("div",zr,[Wr,C(t("input",{type:"text",ref_key:"input",ref:d,"onUpdate:modelValue":E[0]||(E[0]=L=>u.description=L),class:"form-control form-control form-control-sm",placeholder:"Enter Description"},null,512),[[q,u.description]]),r(v).description?(e(),s("span",Xr,o(r(v).description[0]),1)):c("",!0)]),t("div",Qr,[t("button",{type:"button",onClick:S,class:"btn btn-primary btn-sm"},o(k.value),1),t("button",{type:"button",onClick:w,class:"btn btn-warning text-white btn-sm"},"Clear")])]),t("div",Zr,[t("div",tu,[t("div",eu,[t("div",su,[C(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":E[1]||(E[1]=L=>bt(p)?p.value=L:p=L),"aria-describedby":"button-addon1"},null,512),[[q,r(p)]]),ou]),t("div",au,[t("table",nu,[lu,t("tbody",null,[(e(!0),s(H,null,K(r(f),(L,Q)=>(e(),s("tr",{key:Q},[t("td",null,[t("div",iu,[t("div",du,[t("strong",null,o(L.description),1)])])]),t("td",null,o(h(L.updated_at)),1),t("td",null,[t("div",cu,[t("a",{href:"#",onClick:z=>_(L),class:"btn btn-outline-success btn-sm"},pu,8,ru),t("a",{href:"#",onClick:z=>m(L),class:"btn btn-outline-success btn-sm"},hu,8,_u)])])]))),128)),t("tr",null,[C(t("td",vu," No Result Found! ",512),[[nt,!y(r(f))]])])])])]),y(r(f))?(e(),s("nav",fu,[t("ul",bu,[(e(!0),s(H,null,K(r(a),(L,Q)=>(e(),s("li",{class:"page-item","aria-current":"page",key:Q},[t("a",{class:et(["page-link text-sm",{active:L.active,disabled:!L.url}]),href:"#",innerHTML:L.label,onClick:z=>b(L)},null,10,gu)]))),128))])])):c("",!0)])])])])]))}},yu={class:"container mt-2"},xu={class:"row"},wu={class:"col-md-12 text-start"},ku=t("h4",{class:"m-0"},"Submission",-1),Du=t("hr",null,null,-1),Cu={class:"col-12 mb-3 mb-lg-5"},Su={class:"overflow-hidden card table-nowrap table-card"},Pu=t("div",{class:"card-header d-flex justify-content-between align-items-center"},[t("h5",{class:"mb-0"},"Documents"),t("div",{class:""})],-1),Uu={class:"d-flex"},Au={class:"input-group input-group-sm p-2"},Fu=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),Eu={class:"input-group input-group-sm p-2"},Tu=t("option",{value:""},"Choose...",-1),Vu=t("option",{value:0},"Publish",-1),Mu=t("option",{value:1},"Achive",-1),Lu=[Tu,Vu,Mu],Ru=t("label",{class:"input-group-text bg-select",for:"inputGroupSelect02"},"Upload Type",-1),ju={class:"table-responsive"},Iu={class:"table mb-0"},Bu=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Title"),t("th",null,"College Department"),t("th",null,"Uploaded By"),t("th",null,"Type of Papers"),t("th",null,"Upload Type"),t("th",null,"Date uploaded"),t("th",{class:"text-end"},"Action")])],-1),Yu={class:"d-flex align-items-center"},Ou=t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1),Nu={class:"text-primary"},qu={class:"text-end"},Hu={class:"drodown"},Ku=t("a",{"data-bs-toggle":"dropdown",href:"#",class:"btn p-1","aria-expanded":"false"},[t("i",{class:"fa fa-bars","aria-hidden":"true"})],-1),Gu={class:"dropdown-menu dropdown-menu-end dd-bg",style:{}},Ju=["onClick"],zu={colspan:"6"},Wu={key:0,class:"mt-2 d-flex justify-content-start ms-1","aria-label":"..."},Xu={class:"pagination pagination-sm custom-page"},Qu=["innerHTML","onClick"],Zu={__name:"Request",setup(D){const f=i([]);let d=i([]),p=i(""),a=i("");const n=i([]);st(()=>{l(),h(),U()});const u=v=>ht(v).format("MMMM D, YYYY | hh:mm a"),l=()=>{axios.get("/api/admin-document?search="+p.value+"&filter="+a.value).then(v=>{f.value=v.data.data,d.value=v.data.links})};at(p,()=>{l()});const $=v=>{!v.url||v.active||axios.get(v.url).then(k=>{f.value=k.data.data,d.value=k.data.links})},h=()=>{axios.get("/api/list-topapers").then(v=>{n.value=v.data})},b=v=>{let k="";return n.value.forEach(m=>{v.type_of_paper_id===m.id&&(k=m.description)}),k},g=v=>v==null?!0:v.length>0,A=i([]),U=()=>{axios.get("/api/list-departments").then(v=>{A.value=v.data})},S=v=>{if(v!=null)return v.first_name+" "+(v.last_name==null?"":v.last_name)},_=()=>{l()},w=v=>{Swal.fire({title:"Are you sure? "+v.title,text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes, delete it!"}).then(k=>{k.isConfirmed&&axios.delete(`/api/document/${v.id}`).then(m=>{Swal.fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success",confirmButtonColor:"#26884b"}),l()})})};return(v,k)=>{const m=tt("router-link");return e(),s("div",yu,[t("div",xu,[t("div",wu,[ku,t("p",null,o(u(new Date)),1),Du]),t("div",Cu,[t("div",Su,[Pu,t("div",Uu,[t("div",Au,[C(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":k[0]||(k[0]=y=>bt(p)?p.value=y:p=y),"aria-describedby":"button-addon1"},null,512),[[q,r(p)]]),Fu]),t("div",Eu,[C(t("select",{class:"form-select",id:"inputGroupSelect02","onUpdate:modelValue":k[1]||(k[1]=y=>bt(a)?a.value=y:a=y),onChange:_},Lu,544),[[pt,r(a)]]),Ru])]),t("div",ju,[t("table",Iu,[Bu,t("tbody",null,[(e(!0),s(H,null,K(f.value,(y,x)=>(e(),s("tr",{class:"align-middle",key:x},[t("td",null,[t("div",Yu,[Ou,t("strong",Nu,o(y.title),1)])]),t("td",null,o(y.department!=null?y.department.description:""),1),t("td",null,o(S(y.userdoc)),1),t("td",null,o(b(y)),1),t("td",null,[B(At,{uploadData:y.upload_type},null,8,["uploadData"])]),t("td",null,o(u(y.created_at)),1),t("td",qu,[t("div",Hu,[Ku,t("div",Gu,[B(m,{to:{name:"admin.requestdoc",params:{id:y.id}},class:"dropdown-item dd-item"},{default:W(()=>[T("View")]),_:2},1032,["to"]),y.upload_type===0&&y.userdoc.role==2?(e(),wt(m,{key:0,to:{name:"admin.editupload_p",params:{id:y.id}},class:"dropdown-item dd-item"},{default:W(()=>[T("Edit ")]),_:2},1032,["to"])):c("",!0),y.upload_type===1&&y.userdoc.role==2?(e(),wt(m,{key:1,to:{name:"admin.editupload_a",params:{id:y.id}},class:"dropdown-item dd-item"},{default:W(()=>[T("Edit ")]),_:2},1032,["to"])):c("",!0),y.userdoc.role==2?(e(),s("a",{key:2,href:"#!",onClick:E=>w(y),class:"dropdown-item dd-item"},"Delete ",8,Ju)):c("",!0)])])])]))),128)),t("tr",null,[C(t("td",zu," No Result Found! ",512),[[nt,!g(f.value)]])])])]),g(f.value)?(e(),s("nav",Wu,[t("ul",Xu,[(e(!0),s(H,null,K(r(d),(y,x)=>(e(),s("li",{class:"page-item","aria-current":"page",key:x},[t("a",{class:et(["page-link",{active:y.active,disabled:!y.url}]),href:"#",innerHTML:y.label,onClick:E=>$(y)},null,10,Qu)]))),128))])])):c("",!0)])])])])])}}},tp={class:"container mt-2"},ep={class:"row"},sp={class:"col-md-12 text-start"},op=t("h4",{class:"m-0"},"Published",-1),ap=t("hr",null,null,-1),np={class:"col-12 mb-3 mb-lg-5"},lp={class:"overflow-hidden card table-nowrap table-card"},ip=t("div",{class:"card-header d-flex justify-content-between align-items-center"},[t("h5",{class:"mb-0"},"Documents")],-1),dp={class:"d-flex"},cp={class:"input-group input-group-sm p-2"},rp=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),up={class:"input-group input-group-sm p-2"},pp=t("option",{value:""},"Choose...",-1),_p=["value"],mp=t("label",{class:"input-group-text bg-select",for:"inputGroupSelect02"},"Department",-1),hp={class:"input-group input-group-sm p-2"},vp=t("option",{value:""},"Choose...",-1),fp=["value"],bp=t("label",{class:"input-group-text bg-select"},"Type of Papers",-1),gp={class:"table-responsive"},$p={class:"table mb-0"},yp=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Title"),t("th",null,"College Department"),t("th",null,"Uploaded By"),t("th",null,"Type of Papers"),t("th",null,"Date uploaded"),t("th",{class:"text-end"},"Action")])],-1),xp={class:"d-flex align-items-center"},wp=t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1),kp={class:"text-primary"},Dp={class:"text-end"},Cp={class:"drodown"},Sp=t("a",{"data-bs-toggle":"dropdown",href:"#",class:"btn p-1","aria-expanded":"false"},[t("i",{class:"fa fa-bars","aria-hidden":"true"})],-1),Pp={class:"dropdown-menu dropdown-menu-end dd-bg",style:{}},Up=["onClick"],Ap={colspan:"6"},Fp={key:0,class:"mt-2 d-flex justify-content-start ms-1","aria-label":"..."},Ep={class:"pagination pagination-sm custom-page"},Tp=["innerHTML","onClick"],Vp={__name:"Published",setup(D){const f=i([]);let d=i([]);i("");const p=i([]),a=ct({search:"",filterType:0,filterDept:0});st(()=>{u(),$(),A()});const n=w=>ht(w).format("MMMM D, YYYY | hh:mm a"),u=()=>{axios.get("/api/admin-document-published?",{params:a}).then(w=>{f.value=w.data.data,d.value=w.data.links})};at(a,()=>{u()});const l=w=>{!w.url||w.active||axios.get(w.url).then(v=>{f.value=v.data.data,d.value=v.data.links})},$=()=>{axios.get("/api/list-topapers").then(w=>{p.value=w.data})},h=w=>{let v="";return p.value.forEach(k=>{w.type_of_paper_id===k.id&&(v=k.description)}),v},b=w=>w==null?!0:w.length>0,g=i([]),A=()=>{axios.get("/api/list-departments").then(w=>{g.value=w.data})},U=w=>{if(w!=null)return w.first_name+" "+(w.last_name==null?"":w.last_name)},S=()=>{u()},_=w=>{Swal.fire({title:"Are you sure? ",text:"You want to move to archived!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes!",cancelButtonText:"No"}).then(v=>{v.isConfirmed&&axios.delete(`/api/document-to-archived/${w.id}`).then(k=>{Swal.fire({title:"Success!",text:"Your document has been moved",icon:"success",confirmButtonColor:"#26884b"}),u()})})};return(w,v)=>{const k=tt("router-link");return e(),s("div",tp,[t("div",ep,[t("div",sp,[op,t("p",null,o(n(new Date)),1),ap]),t("div",np,[t("div",lp,[ip,t("div",dp,[t("div",cp,[C(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":v[0]||(v[0]=m=>a.search=m),"aria-describedby":"button-addon1"},null,512),[[q,a.search]]),rp]),t("div",up,[C(t("select",{class:"form-select",id:"inputGroupSelect02","onUpdate:modelValue":v[1]||(v[1]=m=>a.filterDept=m),onChange:S},[pp,(e(!0),s(H,null,K(g.value,(m,y)=>(e(),s("option",{key:y,value:m.id},o(m.description),9,_p))),128))],544),[[pt,a.filterDept]]),mp]),t("div",hp,[C(t("select",{class:"form-select","onUpdate:modelValue":v[2]||(v[2]=m=>a.filterType=m),onChange:S},[vp,(e(!0),s(H,null,K(p.value,(m,y)=>(e(),s("option",{key:y,value:m.id},o(m.description),9,fp))),128))],544),[[pt,a.filterType]]),bp])]),t("div",gp,[t("table",$p,[yp,t("tbody",null,[(e(!0),s(H,null,K(f.value,(m,y)=>(e(),s("tr",{class:"align-middle",key:y},[t("td",null,[t("div",xp,[wp,t("strong",kp,o(m.title),1)])]),t("td",null,o(m.department!=null?m.department.description:""),1),t("td",null,o(U(m.userdoc)),1),t("td",null,o(h(m)),1),t("td",null,o(n(m.created_at)),1),t("td",Dp,[t("div",Cp,[Sp,t("div",Pp,[B(k,{to:{name:"admin.requestdoc",params:{id:m.id}},class:"dropdown-item dd-item"},{default:W(()=>[T("View")]),_:2},1032,["to"]),t("a",{href:"#",onClick:x=>_(m),class:"dropdown-item dd-item"},"Move to Archived ",8,Up)])])])]))),128)),t("tr",null,[C(t("td",Ap," No Result Found! ",512),[[nt,!b(f.value)]])])])]),b(f.value)?(e(),s("nav",Fp,[t("ul",Ep,[(e(!0),s(H,null,K(r(d),(m,y)=>(e(),s("li",{class:"page-item","aria-current":"page",key:y},[t("a",{class:et(["page-link",{active:m.active,disabled:!m.url}]),href:"#",innerHTML:m.label,onClick:x=>l(m)},null,10,Tp)]))),128))])])):c("",!0)])])])])])}}},Mp={class:"container mt-2"},Lp={class:"row"},Rp={class:"col-md-12 text-start"},jp=t("h4",{class:"m-0"},"Archived",-1),Ip=t("hr",null,null,-1),Bp={class:"col-12 mb-3 mb-lg-5"},Yp={class:"overflow-hidden card table-nowrap table-card"},Op=t("div",{class:"card-header d-flex justify-content-between align-items-center"},[t("h5",{class:"mb-0"},"Documents")],-1),Np={class:"d-flex"},qp={class:"input-group input-group-sm p-2"},Hp=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),Kp={class:"input-group input-group-sm p-2"},Gp=t("option",{value:""},"Choose...",-1),Jp=["value"],zp=t("label",{class:"input-group-text bg-select"},"Type of Papers",-1),Wp={class:"table-responsive"},Xp={class:"table mb-0"},Qp=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Title"),t("th",null,"College Department"),t("th",null,"Uploaded By"),t("th",null,"Type of Papers"),t("th",null,"Date uploaded"),t("th",{class:"text-end"},"Action")])],-1),Zp={class:"d-flex align-items-center"},t_=t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1),e_={class:"text-primary"},s_={class:"text-end"},o_={class:"drodown"},a_=t("a",{"data-bs-toggle":"dropdown",href:"#",class:"btn p-1","aria-expanded":"false"},[t("i",{class:"fa fa-bars","aria-hidden":"true"})],-1),n_={class:"dropdown-menu dropdown-menu-end dd-bg",style:{}},l_=["onClick"],i_={colspan:"6"},d_={key:0,class:"mt-2 d-flex justify-content-start ms-1","aria-label":"..."},c_={class:"pagination pagination-sm custom-page"},r_=["innerHTML","onClick"],u_={__name:"Archived",setup(D){const f=i([]);let d=i([]),p=i("");const a=i([]),n=ct({search:"",filterType:0,filterDept:0});st(()=>{l(),h(),U()});const u=v=>ht(v).format("MMMM D, YYYY | hh:mm a"),l=()=>{axios.get("/api/admin-document-archived?",{params:n}).then(v=>{f.value=v.data.data,d.value=v.data.links})};at(p,()=>{l()});const $=v=>{!v.url||v.active||axios.get(v.url).then(k=>{f.value=k.data.data,d.value=k.data.links})},h=()=>{axios.get("/api/list-topapers").then(v=>{a.value=v.data})},b=v=>{let k="";return a.value.forEach(m=>{v.type_of_paper_id===m.id&&(k=m.description)}),k},g=v=>v==null?!0:v.length>0,A=i([]),U=()=>{axios.get("/api/list-departments").then(v=>{A.value=v.data})},S=v=>{if(v!=null)return v.first_name+" "+(v.last_name==null?"":v.last_name)},_=()=>{l()},w=v=>{Swal.fire({title:"Are you sure? "+v.title,text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes, delete it!"}).then(k=>{k.isConfirmed&&axios.delete(`/api/document/${v.id}`).then(m=>{Swal.fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success",confirmButtonColor:"#26884b"}),l()})})};return(v,k)=>{const m=tt("router-link");return e(),s("div",Mp,[t("div",Lp,[t("div",Rp,[jp,t("p",null,o(u(new Date)),1),Ip]),t("div",Bp,[t("div",Yp,[Op,t("div",Np,[t("div",qp,[C(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":k[0]||(k[0]=y=>n.searchData=y),"aria-describedby":"button-addon1"},null,512),[[q,n.searchData]]),Hp]),t("div",Kp,[C(t("select",{class:"form-select","onUpdate:modelValue":k[1]||(k[1]=y=>n.filterType=y),onChange:_},[Gp,(e(!0),s(H,null,K(a.value,(y,x)=>(e(),s("option",{key:x,value:y.id},o(y.description),9,Jp))),128))],544),[[pt,n.filterType]]),zp])]),t("div",Wp,[t("table",Xp,[Qp,t("tbody",null,[(e(!0),s(H,null,K(f.value,(y,x)=>(e(),s("tr",{class:"align-middle",key:x},[t("td",null,[t("div",Zp,[t_,t("strong",e_,o(y.title),1)])]),t("td",null,o(y.department!=null?y.department.description:""),1),t("td",null,o(S(y.userdoc)),1),t("td",null,o(b(y)),1),t("td",null,o(u(y.created_at)),1),t("td",s_,[t("div",o_,[a_,t("div",n_,[B(m,{to:{name:"admin.requestdoc",params:{id:y.id}},class:"dropdown-item dd-item"},{default:W(()=>[T("View")]),_:2},1032,["to"]),t("a",{href:"#!",onClick:E=>w(y),class:"dropdown-item dd-item"},"Delete ",8,l_)])])])]))),128)),t("tr",null,[C(t("td",i_," No Result Found! ",512),[[nt,!g(f.value)]])])])]),g(f.value)?(e(),s("nav",d_,[t("ul",c_,[(e(!0),s(H,null,K(r(d),(y,x)=>(e(),s("li",{class:"page-item","aria-current":"page",key:x},[t("a",{class:et(["page-link",{active:y.active,disabled:!y.url}]),href:"#",innerHTML:y.label,onClick:E=>$(y)},null,10,r_)]))),128))])])):c("",!0)])])])])])}}},p_={class:"container mt-2"},__={class:"row"},m_={class:"col-md-12 text-start"},h_=t("h4",{class:"m-0"},"Canceled",-1),v_=t("hr",null,null,-1),f_={class:"col-12 mb-3 mb-lg-5"},b_={class:"overflow-hidden card table-nowrap table-card"},g_=t("div",{class:"card-header d-flex justify-content-between align-items-center"},[t("h5",{class:"mb-0"},"Documents")],-1),$_={class:"d-flex"},y_={class:"input-group input-group-sm p-2"},x_=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),w_={class:"input-group input-group-sm p-2"},k_=t("option",{value:""},"Choose...",-1),D_=t("option",{value:0},"Publish",-1),C_=t("option",{value:1},"Achive",-1),S_=[k_,D_,C_],P_=t("label",{class:"input-group-text bg-select",for:"inputGroupSelect02"},"Upload Type",-1),U_={class:"table-responsive"},A_={class:"table mb-0"},F_=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Title"),t("th",null,"College Department"),t("th",null,"Uploaded By"),t("th",null,"Type of Papers"),t("th",null,"Upload Type"),t("th",null,"Date uploaded"),t("th",{class:"text-end"},"Action")])],-1),E_={class:"d-flex align-items-center"},T_=t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1),V_={class:"text-primary"},M_={class:"text-end"},L_={class:"drodown"},R_=t("a",{"data-bs-toggle":"dropdown",href:"#",class:"btn p-1","aria-expanded":"false"},[t("i",{class:"fa fa-bars","aria-hidden":"true"})],-1),j_={class:"dropdown-menu dropdown-menu-end dd-bg",style:{}},I_={colspan:"6"},B_={key:0,class:"mt-2 d-flex justify-content-start ms-1","aria-label":"..."},Y_={class:"pagination pagination-sm custom-page"},O_=["innerHTML","onClick"],N_={__name:"Canceled",setup(D){const f=i([]);let d=i([]),p=i(""),a=i("");const n=i([]);st(()=>{l(),h(),U()});const u=w=>ht(w).format("MMMM D, YYYY | hh:mm a"),l=()=>{axios.get("/api/admin-document-canceled?search="+p.value+"&filter="+a.value).then(w=>{f.value=w.data.data,d.value=w.data.links})};at(p,()=>{l()});const $=w=>{!w.url||w.active||axios.get(w.url).then(v=>{f.value=v.data.data,d.value=v.data.links})},h=()=>{axios.get("/api/list-topapers").then(w=>{n.value=w.data})},b=w=>{let v="";return n.value.forEach(k=>{w.type_of_paper_id===k.id&&(v=k.description)}),v},g=w=>w==null?!0:w.length>0,A=i([]),U=()=>{axios.get("/api/list-departments").then(w=>{A.value=w.data})},S=w=>{if(w!=null)return w.first_name+" "+(w.last_name==null?"":w.last_name)},_=()=>{l()};return(w,v)=>{const k=tt("router-link");return e(),s("div",p_,[t("div",__,[t("div",m_,[h_,t("p",null,o(u(new Date)),1),v_]),t("div",f_,[t("div",b_,[g_,t("div",$_,[t("div",y_,[C(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":v[0]||(v[0]=m=>bt(p)?p.value=m:p=m),"aria-describedby":"button-addon1"},null,512),[[q,r(p)]]),x_]),t("div",w_,[C(t("select",{class:"form-select",id:"inputGroupSelect02","onUpdate:modelValue":v[1]||(v[1]=m=>bt(a)?a.value=m:a=m),onChange:_},S_,544),[[pt,r(a)]]),P_])]),t("div",U_,[t("table",A_,[F_,t("tbody",null,[(e(!0),s(H,null,K(f.value,(m,y)=>(e(),s("tr",{class:"align-middle",key:y},[t("td",null,[t("div",E_,[T_,t("strong",V_,o(m.title),1)])]),t("td",null,o(m.department!=null?m.department.description:""),1),t("td",null,o(S(m.userdoc)),1),t("td",null,o(b(m)),1),t("td",null,[B(At,{uploadData:m.upload_type},null,8,["uploadData"])]),t("td",null,o(u(m.created_at)),1),t("td",M_,[t("div",L_,[R_,t("div",j_,[B(k,{to:{name:"admin.requestdoc",params:{id:m.id}},class:"dropdown-item dd-item"},{default:W(()=>[T("View")]),_:2},1032,["to"])])])])]))),128)),t("tr",null,[C(t("td",I_," No Result Found! ",512),[[nt,!g(f.value)]])])])]),g(f.value)?(e(),s("nav",B_,[t("ul",Y_,[(e(!0),s(H,null,K(r(d),(m,y)=>(e(),s("li",{class:"page-item","aria-current":"page",key:y},[t("a",{class:et(["page-link",{active:m.active,disabled:!m.url}]),href:"#",innerHTML:m.label,onClick:x=>$(m)},null,10,O_)]))),128))])])):c("",!0)])])])])])}}},Ct=D=>(_t("data-v-f297bcc4"),D=D(),mt(),D),q_={class:"container-fluid rounded bg-white mb-5 mt-2"},H_={class:"row"},K_={class:"col-md-3 border-right"},G_={class:"d-flex flex-column align-items-center text-center p-3 py-5"},J_=["src"],z_={class:"font-weight-bold"},W_={class:"text-black-50"},X_=Ct(()=>t("span",null,null,-1)),Q_={class:"col-md-5 border-right text-start"},Z_={class:"p-3 py-5"},tm=Ct(()=>t("div",{class:"d-flex justify-content-between align-items-center mb-3"},[t("h4",{class:"text-right"},"Profile Settings")],-1)),em={class:"row mt-2"},sm={class:"col-md-6"},om=Ct(()=>t("label",{class:"labels"},"First name",-1)),am={key:0,class:"text-danger"},nm={class:"col-md-6"},lm=Ct(()=>t("label",{class:"labels"},"Middle Initial",-1)),im={key:0,class:"text-danger"},dm={class:"col-md-6"},cm=Ct(()=>t("label",{class:"labels"},"Last name",-1)),rm={key:0,class:"text-danger"},um={class:"row mt-3"},pm={class:"col-md-12"},_m=Ct(()=>t("label",{class:"labels"},"Email",-1)),mm={key:0,class:"text-danger"},hm={class:"mt-5"},vm={class:"col-md-4"},fm={class:"p-3 py-5"},bm=Ct(()=>t("div",{class:"d-flex justify-content-between align-items-center experience"},[t("h4",null,"Change Password")],-1)),gm=Ct(()=>t("br",null,null,-1)),$m={class:"col-md-12 text-start"},ym=Ct(()=>t("label",{class:"labels"},"Password",-1)),xm={key:0,class:"text-danger"},wm={class:"col-md-12 text-start"},km=Ct(()=>t("label",{class:"labels"},"Password Confirmation",-1)),Dm={key:0,class:"text-danger"},Cm={class:"mt-5"},Sm={class:"modal-dialog"},Pm={class:"modal-content"},Um=Ct(()=>t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLabel"},"Profile Picture"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Am={class:"modal-body text-start mb-3 row"},Fm=["src"],Em={class:"modal-footer"},Tm=Ct(()=>t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)),Vm={__name:"Account",setup(D){const f=i(null);let d=null;st(()=>{$(),d=new Bt(f.value)});const p=new FormData;ft();const a=i({});let n=i([]);const l=ct({first_name:"",middle_initial:"",last_name:"",email:"",id:null,password:"",password_confirmation:""}),$=()=>{axios.get("/api/user").then(k=>{a.value=k.data;let m=k.data;l.first_name=m.first_name,l.middle_initial=m.middle_initial,l.last_name=m.last_name,l.email=m.email,l.id=m.id})},h=()=>{axios.put("/api/users/"+l.id,l).then(k=>{$(),toast.fire({icon:"success",title:"Profile has been modified!"}),n.value=[]}).catch(k=>{n.value=k.response.data.errors})},b=()=>{axios.put("/api/users-password/"+l.id,l).then(k=>{$(),toast.fire({icon:"success",title:"Password has been changed!"}),window.location.href="/sign-in",n.value=[]}).catch(k=>{n.value=k.response.data.errors})},g=i(""),A=()=>{d.show()},U=k=>{document.querySelector(".fileupload").click()},S=k=>{const m=k.target.files||k.dataTransfer.files;g.value=m[0],w(m[0])};let _=i("");const w=k=>{if(_.value=k,k){const m=new FileReader;m.onload=y=>{_.value=y.target.result},m.readAsDataURL(k)}},v=()=>{p.append("file",g.value),axios.post("/api/upload-profile",p,{headers:{"Content-Type":"multipart/form-data"}}).then(k=>{d.hide(),$()})};return(k,m)=>(e(),s("div",q_,[t("div",H_,[t("div",K_,[t("div",G_,[t("img",{class:"rounded-circle mt-5",width:"150px",src:a.value.image==null||a.value.image==""?"/img/user.png":"data:"+a.value.extension+";base64,"+a.value.image},null,8,J_),t("a",{href:"#",onClick:m[0]||(m[0]=y=>A())},"edit"),t("span",z_,o(a.value.first_name)+" "+o(a.value.middle_initial)+". "+o(a.value.last_name),1),t("span",W_,o(a.value.email),1),X_])]),t("div",Q_,[t("div",Z_,[tm,t("div",em,[t("div",sm,[om,C(t("input",{type:"text","onUpdate:modelValue":m[1]||(m[1]=y=>l.first_name=y),class:"form-control",placeholder:"Enter First name",value:""},null,512),[[q,l.first_name]]),r(n).first_name?(e(),s("span",am,o(r(n).first_name[0]),1)):c("",!0)]),t("div",nm,[lm,C(t("input",{type:"text","onUpdate:modelValue":m[2]||(m[2]=y=>l.middle_initial=y),class:"form-control",value:"",placeholder:"Enter Middle initial"},null,512),[[q,l.middle_initial]]),r(n).middle_initial?(e(),s("span",im,o(r(n).middle_initial[0]),1)):c("",!0)]),t("div",dm,[cm,C(t("input",{type:"text","onUpdate:modelValue":m[3]||(m[3]=y=>l.last_name=y),class:"form-control",value:"",placeholder:"Enter Last name"},null,512),[[q,l.last_name]]),r(n).last_name?(e(),s("span",rm,o(r(n).last_name[0]),1)):c("",!0)])]),t("div",um,[t("div",pm,[_m,C(t("input",{type:"text","onUpdate:modelValue":m[4]||(m[4]=y=>l.email=y),class:"form-control",placeholder:"Enter Email",value:""},null,512),[[q,l.email]]),r(n).email?(e(),s("span",mm,o(r(n).email[0]),1)):c("",!0)])]),t("div",hm,[t("button",{class:"btn btn-primary profile-button",onClick:m[5]||(m[5]=X(y=>h(),["prevent"])),type:"button"},"Save Profile")])])]),t("div",vm,[t("div",fm,[bm,gm,t("div",$m,[ym,C(t("input",{type:"Password","onUpdate:modelValue":m[6]||(m[6]=y=>l.password=y),class:"form-control",placeholder:"Enter Password",value:""},null,512),[[q,l.password]]),r(n).password?(e(),s("span",xm,o(r(n).password[0]),1)):c("",!0)]),t("div",wm,[km,C(t("input",{type:"password","onUpdate:modelValue":m[7]||(m[7]=y=>l.password_confirmation=y),class:"form-control",placeholder:"Enter Password Confirmation",value:""},null,512),[[q,l.password_confirmation]]),r(n).password_confirmation?(e(),s("span",Dm,o(r(n).password_confirmation[0]),1)):c("",!0)]),t("div",Cm,[t("button",{class:"btn btn-primary profile-button",onClick:m[8]||(m[8]=X(y=>b(),["prevent"])),type:"button"},"Change Password")])])]),t("div",{class:"modal fade",ref_key:"profilepic",ref:f,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",Sm,[t("div",Pm,[Um,t("div",Am,[t("img",{src:r(_)==""?"/img/user.png":r(_),class:"rounded mx-auto d-block img-profile",for:"filename"},null,8,Fm),t("a",{href:"#",onClick:m[9]||(m[9]=y=>U())},"change profile picture"),t("input",{type:"file",class:"hidden fileupload",onChange:S,accept:".jpeg, .png,.jpg, .ping",id:"filename"},null,32)]),t("div",Em,[t("button",{type:"button",class:"btn btn-primary",onClick:m[10]||(m[10]=y=>v())},"Upload profile"),Tm])])])],512)])]))}},Mm=lt(Vm,[["__scopeId","data-v-f297bcc4"]]),gt=D=>(_t("data-v-dadb9135"),D=D(),mt(),D),Lm={class:"container-fluid"},Rm={class:"row bg-white p-2 m-1 rounded"},jm=gt(()=>t("div",{class:"col-md-12"},[t("h4",{class:"text-start m-0 mb-3"},[t("span",{class:"bi bi-file-earmark-richtext"}),T(" Document ")])],-1)),Im=gt(()=>t("hr",null,null,-1)),Bm={class:"col-md-4 col-lg-4"},Ym={class:"card doc-card custom-border"},Om={class:"side-badge w-auto"},Nm={class:"text-end p-2"},qm={class:"card-body"},Hm=gt(()=>t("div",{class:"main-img mt-2 mb-0"},[t("img",{class:"img-pdf",src:"/img/pdf.jpg"})],-1)),Km={class:"upload-status border p-2"},Gm={key:0,class:"p-0"},Jm={key:1,class:"text-start txt-grey"},zm=gt(()=>t("span",{class:"fw-bold"}," DOI:",-1)),Wm={key:2,class:"mt-0 p-0"},Xm={key:3,class:"text-start txt-grey"},Qm=gt(()=>t("span",{class:"fw-bold"}," Volume/Issue no.:",-1)),Zm={key:4,class:"mt-0 p-0"},th={key:5,class:"text-start txt-grey"},eh=gt(()=>t("span",{class:"fw-bold"}," Publication:",-1)),sh={key:6,class:"mt-0 p-0"},oh={key:7,class:"text-start txt-grey"},ah=gt(()=>t("span",{class:"fw-bold"}," Department:",-1)),nh={key:8,class:"mt-0 p-0"},lh={class:"card-footer bg-white p-0"},ih=gt(()=>t("span",{class:"bi bi-download"},null,-1)),dh={class:"text-download"},ch={class:"card-footer bg-pub"},rh={class:"author-list text-start"},uh=gt(()=>t("i",null,"Author/s:",-1)),ph={class:"list-group list-group-flush"},_h={class:"col-md-8 col-lg-8"},mh={class:"card doc-card"},hh={class:"card-body"},vh={class:"content-doc text-primary border border-success border-2 pt-2"},fh={class:"info-doc"},bh={class:"d-flex justify-content-between"},gh={class:"head-title text-start"},$h={key:0,class:"btn-group mt-3"},yh={class:"abstract"},xh=gt(()=>t("small",{class:"text-primary"},"Abstract: ",-1)),wh={key:2},kh={key:3,class:"d-flex flex-wrap pub-date"},Dh={class:"d-flex custom-w flex-wrap justify-content-start mb-3"},Ch=gt(()=>t("span",{class:"key-title"},"Keywords:",-1)),Sh=gt(()=>t("span",{class:"label"}," Publication date : ",-1)),Ph={class:"content"},Uh={class:"d-flex mt-2 pub-date"},Ah=gt(()=>t("small",{class:"label"},"Uploaded by : ",-1)),Fh={class:"content"},Eh={key:0,class:"row"},Th={class:"col-md-12"},Vh={class:"card doc-card mt-3"},Mh={class:"d-flex flex-start align-items-center"},Lh=["src"],Rh={class:"fw-bold text-primary mb-1"},jh={class:"text-muted small mb-0"},Ih={class:"mt-2 pb-0"},Bh=gt(()=>t("hr",{class:"p-0 m-0"},null,-1)),Yh={class:"card-body text-start"},Oh=gt(()=>t("h4",null,"Comment & Suggestions",-1)),Nh={class:"form-group"},qh={key:0,class:"text-danger"},Hh={class:"btn-group mt-3"},Kh=gt(()=>t("i",{class:"bi bi-send"},null,-1)),Gh={__name:"ViewRequestDoc",setup(D){const f=Tt();ft();const d=f.params.id,p=i({});let a=i([]);const n=i({}),u=i("Send");at(()=>f.params.id,(V,j)=>{g(V),z()});const l=i({}),$=i({}),h=i(""),b=i(!1);st(()=>{g(d),n.value=window.winsdev.user});const g=V=>{axios.get("/api/document/"+V).then(j=>{l.value=j.data,console.log(j.data),$.value=l.value.document_file,p.value=j.data.typeofpaper,w($.value),A(j.data)})},A=V=>V.status==1||V.status==2?Q.value=!0:Q.value=!1,U=V=>ht(V).format("MMMM D, YYYY"),S=V=>{const j=_(V.base64,V.mime_type),R=document.createElement("a");R.href=URL.createObjectURL(j),R.download=V.original_name,R.click(),URL.revokeObjectURL(R.href)},_=(V,j="",R=512)=>{const O=atob(V),Y=[];for(let I=0;I<O.length;I+=R){const J=O.slice(I,I+R),N=new Array(J.length);for(let P=0;P<J.length;P++)N[P]=J.charCodeAt(P);const M=new Uint8Array(N);Y.push(M)}return new Blob(Y,{type:j})},w=V=>{const j=_(V.base64,V.mime_type);h.value=URL.createObjectURL(j)},v=V=>{},k=()=>{b.value=!b.value},m=V=>{window.open(V,"_blank")},y=i(!0),x=()=>{y.value=!y.value},E=ct({message:"",document_id:d,prove:0}),L=()=>{Swal.fire({title:"Approval Document",text:"Do you want to approved?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes!",cancelButtonText:"No"}).then(V=>{V.isConfirmed&&(E.prove=1,axios.post("/api/admin-document",E).then(j=>{g(d),toast.fire({icon:"success",title:"Documents has been Approved!"}),E.message=""}).catch(j=>{a.value=j.response.data.errors}))})},Q=i(!0),z=()=>{u.value="Sending...",axios.post("/api/admin-feedback",E).then(V=>{g(d),toast.fire({icon:"success",title:"Feedback Message sent!"}),u.value="Send",E.message=""}).catch(V=>{u.value="Send",a.value=V.response.data.errors})},ot=()=>{Swal.fire({title:"Approval Document",text:"Do you want to disapproved?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes!",cancelButtonText:"No"}).then(V=>{V.isConfirmed&&axios.post("/api/admin-disapprove",E).then(j=>{g(d),toast.fire({icon:"success",title:"Documents has been Disapproved!"}),E.message=""}).catch(j=>{a.value=j.response.data.errors})})},ut=V=>{if(V!=null)return V.first_name+" "+(V.last_name!=null?V.last_name:"")},it=V=>{if(V!=null)return V.role!=2};return(V,j)=>{const R=tt("timeago");return e(),s("div",Lm,[t("div",Rm,[jm,Im,t("div",Bm,[t("div",Ym,[t("div",Om,[B(At,{uploadDataView:l.value},null,8,["uploadDataView"])]),t("div",Nm,[t("button",{type:"button",onClick:k,class:"btn btn-outline-success btn-sm"},[t("i",{class:et(["bi",b.value?"bi-eye-slash":"bi-eye"])},null,2)])]),t("div",qm,[Hm,t("div",Km,[t("strong",null,o(p.value.description),1),B(At,{statusData:l.value.status},null,8,["statusData"])]),l.value.upload_type==0?(e(),s("hr",Gm)):c("",!0),l.value.upload_type==0?(e(),s("div",Jm,[zm,T(),t("a",{onClick:j[0]||(j[0]=O=>m(l.value.doi)),href:"#"},o(l.value.doi),1)])):c("",!0),l.value.upload_type==0?(e(),s("hr",Wm)):c("",!0),l.value.upload_type==0?(e(),s("div",Xm,[Qm,T(" "+o(l.value.issue_numbers),1)])):c("",!0),l.value.upload_type==0?(e(),s("hr",Zm)):c("",!0),l.value.upload_type==0?(e(),s("div",th,[eh,T(" "+o(l.value.publisher),1)])):c("",!0),l.value.upload_type==0?(e(),s("hr",sh)):c("",!0),l.value.upload_type==0?(e(),s("div",oh,[ah,T(" "+o(l.value.department!=null?l.value.department.description:""),1)])):c("",!0),l.value.upload_type==0?(e(),s("hr",nh)):c("",!0)]),t("div",lh,[t("a",{href:"#",class:"link-download",onClick:j[1]||(j[1]=O=>S($.value))},[ih,T("Â "),t("small",dh,o($.value.original_name),1)])]),t("div",ch,[t("div",rh,[uh,t("ul",ph,[(e(!0),s(H,null,K(l.value.authors,(O,Y)=>(e(),s("li",{class:"list-group-item text-primary p-1",key:Y},o(O.first_name)+" "+o(O.middle_name)+" "+o(O.last_name),1))),128))])])])])]),t("div",_h,[t("div",mh,[t("div",hh,[C(t("div",vh,[T(" Infomation "),B(jt,{pdfFile:h.value,onLoaded:v},null,8,["pdfFile"])],512),[[nt,b.value]]),C(t("div",fh,[t("div",bh,[t("h5",gh,o(l.value.title),1),t("div",null,[Q.value?c("",!0):(e(),s("div",$h,[t("button",{type:"button",onClick:j[2]||(j[2]=X(O=>L(),["prevent"])),class:"btn btn-primary btn-sm"}," Approve "),it(l.value.userdoc)?(e(),s("button",{key:0,type:"button",onClick:j[3]||(j[3]=X(O=>ot(),["prevent"])),class:"btn btn-warning btn-sm"}," Disapprove ")):c("",!0)]))])]),t("div",yh,[l.value.upload_type==0?(e(),s("div",{key:0,class:et(["blockquote",y.value?"text-truncate-message":""]),style:{"max-width":"100em"}},[xh,T(" "+o(l.value.abstract),1)],2)):c("",!0),l.value.upload_type==0?(e(),s("button",{key:1,type:"button",onClick:x,class:"btn btn-sm btn-outline-secondary"},o(y.value?" See more..":"show less.."),1)):c("",!0),l.value.upload_type==0?(e(),s("hr",wh)):c("",!0),l.value.upload_type==0?(e(),s("div",kh,[t("div",Dh,[Ch,(e(!0),s(H,null,K(l.value.keywords,(O,Y)=>(e(),s("span",{class:"badge bg-success me-1 mb-1",key:Y},o(O.description),1))),128))]),Sh,t("div",Ph,o(U(l.value.publication_date)),1)])):c("",!0),t("div",Uh,[Ah,t("div",Fh,o(ut(l.value.userdoc)),1)])])],512),[[nt,!b.value]])])])])]),it(l.value.userdoc)?(e(),s("div",Eh,[t("div",Th,[t("div",Vh,[(e(!0),s(H,null,K(l.value.feedback,(O,Y)=>(e(),s("div",{class:"card-body text-start",key:Y},[t("div",Mh,[t("img",{class:"rounded-circle shadow-1-strong me-3",src:O.sender.image==null?"/img/user.png":"data:"+O.sender.extension+";base64,"+O.sender.image,alt:"avatar",width:"60",height:"60"},null,8,Lh),t("div",null,[t("h6",Rh,o(O.sender.first_name),1),t("p",jh,[T(" Sent - "),B(R,{datetime:O.created_at},null,8,["datetime"])])])]),t("p",Ih,o(O.message),1),Bh]))),128)),t("div",Yh,[Oh,t("div",Nh,[C(t("textarea",{"onUpdate:modelValue":j[4]||(j[4]=O=>E.message=O),class:"form-control w-75",placeholder:"Enter Message"},null,512),[[q,E.message]]),r(a).message?(e(),s("span",qh,o(r(a).message[0]),1)):c("",!0)]),t("div",Hh,[t("button",{type:"button",onClick:j[5]||(j[5]=X(O=>z(),["prevent"])),class:"btn btn-primary"},[Kh,T(" "+o(u.value),1)])])])])])])):c("",!0)])}}},Jh=lt(Gh,[["__scopeId","data-v-dadb9135"]]),zh={class:"container mt-2"},Wh={class:"row"},Xh={class:"col-md-12 text-start"},Qh=t("h4",{class:"m-0"},"Users",-1),Zh=t("hr",{class:"m-0"},null,-1),tv={class:"col-md-12 mb-3"},ev={class:"contact-information w-100"},sv={class:"d-flex"},ov=t("label",null,"Contact #:",-1),av={class:"fw-bold"},nv=t("i",{class:"bi bi-pencil-square"},null,-1),lv={class:"d-flex"},iv=t("label",null,"Information:",-1),dv={class:"fw-bold text-start text-truncate w-50"},cv={class:"col-12 mb-3 mb-lg-5"},rv={class:"overflow-hidden card table-nowrap table-card"},uv={class:"card-header d-flex justify-content-between align-items-center"},pv=t("h5",{class:"mb-0"},"List",-1),_v={class:""},mv={class:"d-flex"},hv={class:"input-group input-group-sm p-2"},vv=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),fv={class:"input-group input-group-sm p-2"},bv=t("option",{value:""},"Choose...",-1),gv=["value"],$v=t("label",{class:"input-group-text bg-select",for:"inputGroupSelect02"},"Department",-1),yv={class:"input-group input-group-sm p-2"},xv=t("option",{value:""},"Choose...",-1),wv=t("option",{value:2},"Admin",-1),kv=t("option",{value:1},"Faculty",-1),Dv=[xv,wv,kv],Cv=t("label",{class:"input-group-text bg-select",for:"inputGroupSelect02"},"Role",-1),Sv={class:"table-responsive"},Pv={class:"table mb-0"},Uv=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Name"),t("th",null,"Email"),t("th",null,"Department"),t("th",null,"Role"),t("th",null,"Status"),t("th",{class:"text-end"},"Action")])],-1),Av={class:"d-flex align-items-center"},Fv=t("i",{class:"bi bi-person-bounding-box me-2 icon-file"},null,-1),Ev={class:"text-primary"},Tv={class:"text-end"},Vv={class:"drodown"},Mv={key:0,"data-bs-toggle":"dropdown",href:"#",class:"btn p-1","aria-expanded":"false"},Lv=t("i",{class:"fa fa-bars","aria-hidden":"true"},null,-1),Rv=[Lv],jv={class:"dropdown-menu dropdown-menu-end dd-bg"},Iv=["onClick"],Bv=["onClick"],Yv={colspan:"6"},Ov={key:0,class:"mt-2 d-flex justify-content-end me-2","aria-label":"..."},Nv={class:"pagination pagination-sm custom-page"},qv=["innerHTML","onClick"],Hv={class:"modal-dialog modal-lg"},Kv={class:"modal-content"},Gv=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLabel"},"Create User"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Jv={class:"modal-body text-start mb-3 row"},zv={class:"form-group col-6"},Wv=t("label",null,"First name",-1),Xv={key:0,class:"text-danger"},Qv={class:"form-group col-6"},Zv=t("label",null,"Middle Initial",-1),tf={key:0,class:"text-danger"},ef={class:"form-group col-6"},sf=t("label",null,"Last name",-1),of={key:0,class:"text-danger"},af={class:"form-group col-6"},nf=t("label",null,"Role",-1),lf=t("option",{value:""},"Choose...",-1),df=t("option",{value:2},"Admin",-1),cf=t("option",{value:1},"Faculty",-1),rf=[lf,df,cf],uf={key:0,class:"text-danger"},pf={key:0,class:"form-group col-6"},_f=t("label",null,"Department",-1),mf=t("option",{value:""},"Choose...",-1),hf=["value"],vf={key:0,class:"text-danger"},ff={class:"form-group col-12"},bf=t("label",null,"Email",-1),gf={key:0,class:"text-danger"},$f={class:"form-group col-6"},yf=t("label",null,"Password",-1),xf={key:0,class:"text-danger"},wf={class:"form-group col-6"},kf=t("label",null,"Password Confirmation",-1),Df={key:0,class:"text-danger"},Cf={class:"modal-footer"},Sf=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),Pf={class:"modal-dialog"},Uf={class:"modal-content"},Af=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLabel"},"Create Information"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ff={class:"modal-body text-start mb-3 row"},Ef={class:"form-group col-12"},Tf=t("label",null,"Contact Number",-1),Vf={key:0,class:"text-danger"},Mf={class:"form-group col-12"},Lf=t("label",null,"Information",-1),Rf={key:0,class:"text-danger"},jf={class:"modal-footer"},If=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),Bf={class:"modal-dialog"},Yf={class:"modal-content"},Of=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLabel"},"Reset Password"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Nf={class:"modal-body text-start mb-3 row"},qf=t("div",{class:"fs-5"},"Please enter new Password",-1),Hf={class:"fw-bold"},Kf={class:"form-group col-12 mb-2"},Gf=t("label",null,"Password",-1),Jf={key:0,class:"text-danger"},zf={class:"form-group col-12"},Wf=t("label",null,"Password Confirmation",-1),Xf={key:0,class:"text-danger"},Qf={class:"modal-footer"},Zf=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),tb={__name:"User",setup(D){const f=i([]);let d=i([]),p=i(""),a=i(""),n=i(""),u=i([]);const l=i([]),$=()=>({first_name:"",middle_initial:"",last_name:"",email:"",department:"",role:null,password:"",password_confirmation:"",id:null}),h=ct($()),b=()=>Object.assign(h,$()),g=i(null);let A=null;const U=i(null);let S=null;const _=i(null);let w=null;st(()=>{k(),y(),L(),O(),A=new Bt(g.value),S=new Bt(U.value),w=new Bt(_.value)});const v=M=>ht(M).format("MMMM D, YYYY | hh:mm a"),k=()=>{axios.get("/api/users?search="+p.value+"&filter="+a.value+"&dept="+n.value).then(M=>{f.value=M.data.data,d.value=M.data.links})};at(p,()=>{k()});const m=M=>{!M.url||M.active||axios.get(M.url).then(P=>{f.value=P.data.data,d.value=P.data.links})},y=()=>{axios.get("/api/list-topapers").then(M=>{l.value=M.data})},x=M=>M==null?!0:M.length>0,E=i([]),L=()=>{axios.get("/api/list-departments").then(M=>{E.value=M.data})},Q=()=>{k()},z=M=>{if(M!=null)return M.description},ot=M=>{Swal.fire({title:"User Activation",text:M.activate==0?" Do you want to Activate":"Do you want to Deactivate this account!",icon:"question",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes"}).then(P=>{P.isConfirmed&&axios.get(`/api/users/${M.id}`).then(G=>{Swal.fire({title:M.activate==0?"Activated":"Deactivated",text:M.activate==0?"User has been activate":"User has been deactivate",icon:"success",confirmButtonColor:"#26884b"}),k()})})},ut=()=>{A.show()},it=i(!0),V=M=>{M==2?it.value=!1:it.value=!0},j=()=>{axios.post("/api/users",h).then(M=>{toast.fire({icon:"success",title:"User added Successfully!"}),A.hide(),u.value=[],b(),k()}).catch(M=>{u.value=M.response.data.errors})},R=ct({contact_number:"",information:""}),O=()=>{axios.get("/api/admin-contact").then(M=>{const P=M.data;R.contact_number=P.contact_number,R.information=P.information})},Y=()=>{axios.post("/api/admin-contact",R).then(M=>{toast.fire({icon:"success",title:"Admin contact information has been modified!"}),S.hide(),O()})},F=()=>{S.show()},I=M=>{h.first_name=M.first_name,h.middle_initial=M.middle_initial,h.last_name=M.last_name,h.id=M.id,w.show()},J=()=>{N.value="Saving...",axios.put("/api/change-password/"+h.id,h).then(M=>{toast.fire({icon:"success",title:"User's password has been changed!"}),N.value="Save Changes",w.hide(),u.value=[],b(),k()}).catch(M=>{N.value="Save Changes",u.value=M.response.data.errors})},N=i("Save Changes");return(M,P)=>(e(),s("div",zh,[t("div",Wh,[t("div",Xh,[Qh,t("p",null,o(v(new Date)),1),Zh]),t("div",tv,[t("div",ev,[t("div",sv,[ov,t("div",av,"Â  "+o(R.contact_number),1),t("a",{href:"#",onClick:P[0]||(P[0]=G=>F()),class:"text-end ms-5"},[nv,T(" Edit ")])]),t("div",lv,[iv,t("div",dv,"Â  "+o(R.information),1)])])]),t("div",cv,[t("div",rv,[t("div",uv,[pv,t("div",_v,[t("button",{type:"button",onClick:P[1]||(P[1]=G=>ut()),class:"btn btn-outline-success btn-sm"}," Add user ")])]),t("div",mv,[t("div",hv,[C(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":P[2]||(P[2]=G=>bt(p)?p.value=G:p=G),"aria-describedby":"button-addon1"},null,512),[[q,r(p)]]),vv]),t("div",fv,[C(t("select",{class:"form-select",id:"inputGroupSelect02","onUpdate:modelValue":P[3]||(P[3]=G=>bt(n)?n.value=G:n=G),onChange:Q},[bv,(e(!0),s(H,null,K(E.value,(G,Z)=>(e(),s("option",{key:Z,value:G.id},o(G.description),9,gv))),128))],544),[[pt,r(n)]]),$v]),t("div",yv,[C(t("select",{class:"form-select",id:"inputGroupSelect02","onUpdate:modelValue":P[4]||(P[4]=G=>bt(a)?a.value=G:a=G),onChange:Q},Dv,544),[[pt,r(a)]]),Cv])]),t("div",Sv,[t("table",Pv,[Uv,t("tbody",null,[(e(!0),s(H,null,K(f.value,(G,Z)=>(e(),s("tr",{class:"align-middle",key:Z},[t("td",null,[t("div",Av,[Fv,t("strong",Ev,o(G.first_name)+" "+o(G.middle_initial)+" "+o(G.last_name),1)])]),t("td",null,o(G.email),1),t("td",null,o(z(G.department)),1),t("td",null,o(G.role==1?"Faculty":"Admin"),1),t("td",null,o(G.activate==0?"inactive":"activated"),1),t("td",Tv,[t("div",Vv,[G.role==1?(e(),s("a",Mv,Rv)):c("",!0),t("div",jv,[t("a",{href:"#",class:"dropdown-item dd-item",onClick:Vt=>ot(G)},o(G.activate==0&&G.role==1?"Activate":"Deactivate"),9,Iv),t("a",{href:"#",class:"dropdown-item dd-item",onClick:Vt=>I(G)},"Reset Password",8,Bv)])])])]))),128)),t("tr",null,[C(t("td",Yv," No Result Found! ",512),[[nt,!x(f.value)]])])])]),x(f.value)?(e(),s("nav",Ov,[t("ul",Nv,[(e(!0),s(H,null,K(r(d),(G,Z)=>(e(),s("li",{class:"page-item","aria-current":"page",key:Z},[t("a",{class:et(["page-link",{active:G.active,disabled:!G.url}]),href:"#",innerHTML:G.label,onClick:Vt=>m(G)},null,10,qv)]))),128))])])):c("",!0)])])])]),t("div",{class:"modal fade",id:"userActivate",ref_key:"modalEle",ref:g,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",Hv,[t("div",Kv,[Gv,t("div",Jv,[t("div",zv,[Wv,C(t("input",{type:"text",ref:"input","onUpdate:modelValue":P[5]||(P[5]=G=>h.first_name=G),class:"form-control form-control form-control-sm",placeholder:"Enter First name"},null,512),[[q,h.first_name]]),r(u).first_name?(e(),s("span",Xv,o(r(u).first_name[0]),1)):c("",!0)]),t("div",Qv,[Zv,C(t("input",{type:"text",ref:"input","onUpdate:modelValue":P[6]||(P[6]=G=>h.middle_initial=G),class:"form-control form-control form-control-sm",placeholder:"Enter Middle Initial"},null,512),[[q,h.middle_initial]]),r(u).middle_initial?(e(),s("span",tf,o(r(u).middle_initial[0]),1)):c("",!0)]),t("div",ef,[sf,C(t("input",{type:"text",ref:"input","onUpdate:modelValue":P[7]||(P[7]=G=>h.last_name=G),class:"form-control form-control form-control-sm",placeholder:"Enter Last name"},null,512),[[q,h.last_name]]),r(u).last_name?(e(),s("span",of,o(r(u).last_name[0]),1)):c("",!0)]),t("div",af,[nf,C(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":P[8]||(P[8]=G=>h.role=G),onChange:P[9]||(P[9]=G=>V(h.role))},rf,544),[[pt,h.role]]),r(u).role?(e(),s("span",uf,o(r(u).role[0]),1)):c("",!0)]),it.value?(e(),s("div",pf,[_f,C(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":P[10]||(P[10]=G=>h.department=G)},[mf,(e(!0),s(H,null,K(E.value,(G,Z)=>(e(),s("option",{key:Z,value:G.id},o(G.description),9,hf))),128))],512),[[pt,h.department]]),r(u).department?(e(),s("span",vf,o(r(u).department[0]),1)):c("",!0)])):c("",!0),t("div",ff,[bf,C(t("input",{type:"text",ref:"input","onUpdate:modelValue":P[11]||(P[11]=G=>h.email=G),class:"form-control form-control form-control-sm",placeholder:"Enter Email"},null,512),[[q,h.email]]),r(u).email?(e(),s("span",gf,o(r(u).email[0]),1)):c("",!0)]),t("div",$f,[yf,C(t("input",{type:"password",ref:"input","onUpdate:modelValue":P[12]||(P[12]=G=>h.password=G),class:"form-control form-control form-control-sm",placeholder:"Enter Password"},null,512),[[q,h.password]]),r(u).password?(e(),s("span",xf,o(r(u).password[0]),1)):c("",!0)]),t("div",wf,[kf,C(t("input",{type:"password",ref:"input","onUpdate:modelValue":P[13]||(P[13]=G=>h.password_confirmation=G),class:"form-control form-control form-control-sm",placeholder:"Enter Password Confirmation"},null,512),[[q,h.password_confirmation]]),r(u).password_confirmation?(e(),s("span",Df,o(r(u).password_confirmation[0]),1)):c("",!0)])]),t("div",Cf,[t("button",{type:"button",onClick:P[14]||(P[14]=X(G=>j(),["prevent"])),class:"btn btn-primary"},"Save"),Sf])])])],512),t("div",{class:"modal fade",id:"info",ref_key:"inform",ref:U,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",Pf,[t("div",Uf,[Af,t("div",Ff,[t("div",Ef,[Tf,C(t("input",{type:"text",ref:"input","onUpdate:modelValue":P[15]||(P[15]=G=>R.contact_number=G),class:"form-control form-control form-control-sm",placeholder:"Enter Contact Number"},null,512),[[q,R.contact_number]]),r(u).contact_number?(e(),s("span",Vf,o(r(u).contact_number[0]),1)):c("",!0)]),t("div",Mf,[Lf,C(t("textarea",{ref:"input","onUpdate:modelValue":P[16]||(P[16]=G=>R.information=G),class:"form-control form-control form-control-sm",placeholder:"Enter Information"},null,512),[[q,R.information]]),r(u).information?(e(),s("span",Rf,o(r(u).information[0]),1)):c("",!0)])]),t("div",jf,[t("button",{type:"button",onClick:P[17]||(P[17]=X(G=>Y(),["prevent"])),class:"btn btn-primary"},"Save"),If])])])],512),t("div",{class:"modal fade",id:"info",ref_key:"resetPass",ref:_,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",Bf,[t("div",Yf,[Of,t("div",Nf,[qf,t("div",Hf,o(h.first_name)+" "+o(h.middle_initial)+" "+o(h.last_name),1),t("div",Kf,[Gf,C(t("input",{type:"password",ref:"input","onUpdate:modelValue":P[18]||(P[18]=G=>h.password=G),class:"form-control form-control form-control-sm",placeholder:"Enter Password"},null,512),[[q,h.password]]),r(u).password?(e(),s("span",Jf,o(r(u).password[0]),1)):c("",!0)]),t("div",zf,[Wf,C(t("input",{type:"password",ref:"input","onUpdate:modelValue":P[19]||(P[19]=G=>h.password_confirmation=G),class:"form-control form-control form-control-sm",placeholder:"Enter Password Confirmation"},null,512),[[q,h.password_confirmation]]),r(u).password_confirmation?(e(),s("span",Xf,o(r(u).password_confirmation[0]),1)):c("",!0)])]),t("div",Qf,[t("button",{type:"button",onClick:P[20]||(P[20]=X(G=>J(),["prevent"])),class:"btn btn-primary"},o(N.value),1),Zf])])])],512)]))}},Mt=D=>(_t("data-v-d239c88f"),D=D(),mt(),D),eb={class:"container rounded bg-white mb-5 mt-3"},sb={class:"row"},ob={class:"col-md-3 border-right"},ab={class:"d-flex flex-column align-items-center text-center p-3 py-5"},nb=["src"],lb={class:"font-weight-bold fw-bold"},ib={class:"text-black-50"},db=Mt(()=>t("span",null,null,-1)),cb={class:"col-md-9 border-right text-start"},rb={class:"p-3 py-5"},ub=Mt(()=>t("div",{class:"d-flex justify-content-between align-items-center mb-1"},[t("h4",{class:"text-right"},"User Activation")],-1)),pb={class:"badge bg-success fs-6 p-2"},_b=Mt(()=>t("hr",null,null,-1)),mb={class:"user-info row fs-6"},hb={class:"col-md-4"},vb=Mt(()=>t("label",null,"First name: ",-1)),fb={class:"fw-bold ms-1"},bb={class:"col-md-4"},gb=Mt(()=>t("label",null,"Middle Initial: ",-1)),$b={class:"fw-bold ms-1"},yb={class:"col-md-4"},xb=Mt(()=>t("label",null,"Last name: ",-1)),wb={class:"fw-bold ms-1"},kb={class:"col-md-12"},Db=Mt(()=>t("label",null,"Email: ",-1)),Cb={class:"fw-bold ms-1"},Sb={class:"col-md-12"},Pb=Mt(()=>t("label",null,"Department: ",-1)),Ub={class:"fw-bold ms-1"},Ab={class:"mt-5"},Fb={__name:"Newly",setup(D){ft();const f=Tt();st(()=>{const l=f.params.id;n(l)}),at(()=>f.params.id,(l,$)=>{n(l)});const d=i({});i([]);const a=ct({first_name:"",middle_initial:"",last_name:"",email:"",id:null,password:"",password_confirmation:""}),n=l=>{axios.get("/api/users-faculty/"+l).then($=>{d.value=$.data;let h=$.data;a.first_name=h.first_name,a.middle_initial=h.middle_initial,a.last_name=h.last_name,a.email=h.email,a.id=h.id})},u=l=>{Swal.fire({title:"User Activation",text:l.activate==0?" Do you want to Activate":"Do you want to Deactivate this account!",icon:"question",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes"}).then($=>{$.isConfirmed&&axios.get(`/api/users/${l.id}`).then(h=>{Swal.fire({title:l.activate==0?"Activated":"Deactivated",text:l.activate==0?"User has been activate":"User has been deactivate",icon:"success",confirmButtonColor:"#26884b"}),n(l.id)})})};return(l,$)=>(e(),s("div",eb,[t("div",sb,[t("div",ob,[t("div",ab,[t("img",{class:"rounded-circle",width:"150px",src:d.value.image==null?"/img/user.png":"data:"+d.value.extension+";base64,"+d.value.image},null,8,nb),t("span",lb,o(d.value.first_name)+" "+o(d.value.middle_initial)+" "+o(d.value.last_name),1),t("span",ib,o(d.value.email),1),db])]),t("div",cb,[t("div",rb,[ub,t("div",pb,o(d.value.activate==0?" Deactivated":"Activated"),1),_b,t("div",mb,[t("div",hb,[vb,t("strong",fb,o(d.value.first_name),1)]),t("div",bb,[gb,t("strong",$b,o(d.value.middle_initial),1)]),t("div",yb,[xb,t("strong",wb,o(d.value.last_name),1)]),t("div",kb,[Db,t("strong",Cb,o(d.value.email),1)]),t("div",Sb,[Pb,t("strong",Ub,o(d.value.department!=null?d.value.department.description:""),1)])]),t("div",Ab,[t("button",{class:"btn btn-outline-success",onClick:$[0]||($[0]=X(h=>u(d.value),["prevent"])),type:"button"},o(d.value.activate==0?" Activate?":"Deactivate?"),1)])])])])]))}},Eb=lt(Fb,[["__scopeId","data-v-d239c88f"]]),Tb={class:"card"},Vb=t("label",{class:"btn btn-primary mb-2",for:"filename"},"Click here to select files",-1),Mb=t("h3",null,"Drag or Drop files here!",-1),Lb=t("p",{class:"text-muted"},"Only pdf files are accepted to upload",-1),Rb=t("input",{type:"file",class:"hidden fileupload",accept:".pdf",id:"filename"},null,-1),jb={class:"row"},Ib={class:"col-md-12 d-flex flex-wrap justify-content-around mt-2 mb-0"},Bb={key:0,class:"card file-card m-2"},Yb={class:"card-body p-0"},Ob=t("i",{class:"fa fa-close"},null,-1),Nb=[Ob],qb={class:"file-title text-muted truncate text-start"},Hb=t("div",{class:"card-content d-flex justify-content-center position-relative"},[t("div",{class:"position-absolute file-icon d-flex justify-content-center"},[t("img",{class:"img-icon position-absolute",src:"/img/pdf.jpg"})])],-1),oe={__name:"SingleDrop",props:{filePdf:{type:Object,required:!0}},emits:["removeFile"],setup(D,{emit:f}){const d=i(!1);i(!1);const p=i({}),a=D,n=()=>{d.value=!d.value},u=f,l=$=>{u("removeFile",$)};return at(()=>a.filePdf,($,h)=>{p.value=$}),($,h)=>(e(),s("div",Tb,[t("div",{class:et(["card-body upload-file",{is_active:d.value}]),onDragenter:X(n,["prevent"]),onDragleave:X(n,["prevent"]),onDragover:h[0]||(h[0]=X(()=>{},["prevent"])),onDrop:X(n,["prevent"])},[Vb,Mb,Lb,Rb,t("div",jb,[t("div",Ib,[p.value.name!=null?(e(),s("div",Bb,[t("div",Yb,[t("div",{class:"card-icon",onClick:l},Nb),t("label",qb,o(p.value.name),1),Hb])])):c("",!0)])])],34)]))}},Kb={class:"row"},Gb={class:"col-12"},Jb={class:"input-tag"},zb=["onClick"],Wb=["onKeydown"],Nt={__name:"InputTag",props:{keywords:{type:Object,required:!1}},emits:["showData"],setup(D,{emit:f}){const d=f,p=D;st(()=>{a.value=p.keywords==null?[]:p.keywords});const a=i([]),n=i(""),u=($,h)=>{h.id!=null?Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes, delete it!"}).then(b=>{b.isConfirmed&&axios.delete("/api/doc-keyword/"+h.id).then(g=>{a.value.splice($,1),d("showData",a.value),Swal.fire({title:"Deleted!",text:"Keyword has been deleted.",icon:"success",confirmButtonColor:"#26884b"})})}):(a.value.splice($,1),d("showData",a.value))},l=()=>{const $=a.value.filter(h=>h.description==n.value);n.value!=""&&$.length==0&&(a.value.push({description:n.value}),n.value="",d("showData",a.value))};return($,h)=>(e(),s("div",Kb,[t("div",Gb,[t("div",Jb,[(e(!0),s(H,null,K(a.value,(b,g)=>(e(),s("div",{key:g,class:"badge rounded-pill text-white me-1 mt-1 tag"},[T(o(b.description)+" ",1),t("i",{class:"bi bi-x-circle close-tag",onClick:A=>u(g,b)},null,8,zb)]))),128)),C(t("input",{type:"text",class:"text-tag p-0 m-0",onKeydown:Yt(X(l,["prevent"]),[","]),"onUpdate:modelValue":h[0]||(h[0]=b=>n.value=b),placeholder:"Enter keywords..."},null,40,Wb),[[q,n.value]])])])]))}},Xb={class:"row"},Qb={class:"col-12"},Zb={class:"input-tag"},t1=["onClick"],e1={key:0,class:"search-data"},s1={class:"item-data-none"},o1={class:"input-group input-group-sm"},a1=t("span",{class:"input-group-text bg-primary text-white",id:"inputGroup-sizing-default"},"Add Author: ",-1),n1=t("i",{class:"bi bi-x"},null,-1),l1=[n1],i1=t("i",{class:"bi bi-floppy"},null,-1),d1=[i1],c1=t("i",{class:"bi bi-x-octagon"},null,-1),r1=[c1],u1={key:0,class:"text-danger error-message"},p1={key:1,class:"text-danger error-message"},_1={key:2,class:"text-danger error-message"},m1=t("li",null,[t("hr",{class:"m-0"})],-1),h1=["onClick"],v1=t("i",{class:"bi bi-plus-circle me-auto"},null,-1),f1={class:"item-data text-danger error-message"},Kt={__name:"AuthorFilter",props:{urlString:{type:String,required:!0}},emits:["loadFilter"],setup(D,{emit:f}){const d=f,p=D,a=i([]),n=()=>({first_name:"",middle_name:"",last_name:"",id:null}),u=ct(n()),l=()=>{$.value="",Object.assign(u,n())},$=i(""),h=i([]);i("");const b=i("");let g=i([]);const A=m=>{h.value.splice(m,1),b.value="",d("loadFilter",h.value)},U=m=>{h.value.filter(x=>x.id==m.id).length==0?(h.value.push({id:m.id,first_name:m.first_name,middle_name:m.middle_name,last_name:m.last_name}),$.value="",b.value="",d("loadFilter",h.value)):b.value="Duplicate Entry!"};at($,()=>{S(p.urlString)});const S=m=>{axios.get(m+"?search="+$.value).then(y=>{a.value=y.data.data})},_=(m=p.urlString)=>{axios.post(m,u).then(y=>{S(p.urlString),g.value=[],l()}).catch(y=>{g.value=y.response.data.errors})},w=()=>{a.value=[],b.value=""},v=()=>{$.value!=""&&S(p.urlString)},k=()=>{u.description=$.value};return(m,y)=>(e(),s("div",Xb,[t("div",Qb,[t("div",Zb,[(e(!0),s(H,null,K(h.value,(x,E)=>(e(),s("div",{key:E,class:"badge rounded-pill text-white me-1 mt-1 tag"},[T(o(x.first_name)+" "+o(x.middle_name)+" "+o(x.last_name)+" ",1),t("i",{class:"bi bi-x-circle-fill close-tag",onClick:L=>A(E)},null,8,t1)]))),128)),C(t("input",{type:"text",class:"text-tag p-0 m-0",onFocus:v,onKeyup:k,"onUpdate:modelValue":y[0]||(y[0]=x=>$.value=x),placeholder:"Enter Author name..."},null,544),[[q,$.value]])]),a.value.length!=0||$.value!=""?(e(),s("ul",e1,[t("li",null,[t("div",s1,[t("div",o1,[a1,C(t("input",{type:"text","onUpdate:modelValue":y[1]||(y[1]=x=>u.first_name=x),class:"form-control",placeholder:"Enter First name"},null,512),[[q,u.first_name]]),C(t("input",{type:"text","onUpdate:modelValue":y[2]||(y[2]=x=>u.middle_name=x),class:"form-control",placeholder:"Enter Middle name"},null,512),[[q,u.middle_name]]),C(t("input",{type:"text","onUpdate:modelValue":y[3]||(y[3]=x=>u.last_name=x),class:"form-control",placeholder:"Enter Last name"},null,512),[[q,u.last_name]]),t("button",{class:"btn btn-outline-secondary","data-bs-toggle":"tooltip",onClick:y[4]||(y[4]=X(x=>l(),["prevent"])),"data-bs-placement":"top",title:"clear",type:"button"},l1),t("button",{class:"btn btn-outline-secondary",onClick:y[5]||(y[5]=X(x=>_(),["prevent"])),"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Save author's name",type:"button"},d1),t("button",{class:"btn btn-outline-secondary","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Close",onClick:w,type:"button"},r1)]),r(g).first_name?(e(),s("span",u1,o(r(g).first_name[0]),1)):c("",!0),T("Â  "),r(g).middle_name?(e(),s("span",p1,o(r(g).middle_name[0]),1)):c("",!0),T("Â  "),r(g).last_name?(e(),s("span",_1,o(r(g).last_name[0]),1)):c("",!0)])]),m1,a.value.length!=0?(e(!0),s(H,{key:0},K(a.value,(x,E)=>(e(),s("li",{key:E},[t("a",{class:"item-data start-100",href:"#",onClick:X(L=>U(x),["prevent"])},[v1,T(" "+o(x.first_name)+" "+o(x.middle_name)+" "+o(x.last_name),1)],8,h1)]))),128)):c("",!0),t("li",null,[t("span",f1,o(b.value),1)])])):c("",!0)])]))}},St=D=>(_t("data-v-c9b3d009"),D=D(),mt(),D),b1={class:"container mt-3"},g1={class:"row"},$1={class:"col-12 text-start card head-card"},y1={class:"card-body p-1"},x1={class:"row d-flex justify-content-center"},w1={class:"col-md-3"},k1={class:"col-md-9"},D1={class:"card text-start"},C1={class:"card-header bg-primary d-flex"},S1=St(()=>t("strong",null," Form",-1)),P1={class:"card-body"},U1={class:"card-body row"},A1={class:"form-group mb-3 col-6"},F1=St(()=>t("label",null,"Title",-1)),E1={key:0,class:"text-danger"},T1={class:"form-group mb-3 col-6"},V1=St(()=>t("label",null,"Type of Papers",-1)),M1=["value"],L1={key:0,class:"text-danger"},R1={class:"form-group mb-3 col-6"},j1=St(()=>t("label",null,"Authors",-1)),I1={key:0,class:"text-danger"},B1={key:0,class:"form-group mb-3 col-6"},Y1=St(()=>t("label",null,"Publication Date",-1)),O1={key:0,class:"text-danger"},N1={key:1,class:"form-group mb-3 col-6"},q1=St(()=>t("label",null,"Volume/issue numbers",-1)),H1={key:0,class:"text-danger"},K1={key:2,class:"form-group mb-3 col-6"},G1=St(()=>t("label",null,"DOI",-1)),J1={key:0,class:"text-danger"},z1={key:3,class:"form-group mb-3 col-6"},W1=St(()=>t("label",null,"Abstract",-1)),X1={key:0,class:"text-danger"},Q1={key:4,class:"form-group mb-3 col-6"},Z1=St(()=>t("label",null,"Keywords: ...use Comma Sign to seperate words ",-1)),tg={key:0,class:"text-danger"},eg={key:5,class:"form-group mb-3 col-12"},sg=St(()=>t("label",null,"Publisher",-1)),og={key:0,class:"text-danger"},ag={class:"form-group input-group-sm col-6"},ng=St(()=>t("label",null,"College Department",-1)),lg=["value"],ig={key:0,class:"text-danger"},dg={class:"btn-group btn-sm mt-3"},cg={class:"card-footer"},rg=St(()=>t("i",{class:"bi bi-eye"},null,-1)),ug={__name:"UploadAdmin",setup(D){const f=I=>{const J=("0"+I.getDate()).slice(-2),N=("0"+(I.getMonth()+1)).slice(-2),M=I.getFullYear();return N+"/"+J+"/"+M};st(()=>{R(),O(),U()}),i(null);const d=i([]),p=i([]),a=i({});let n=i([]);const u=i(!1),l=new FormData,$=i(""),h=ft(),b=Tt(),g=i(!0),A=i(!1);at(b,()=>{U()});const U=()=>{b.name==="admin.upload_p"?(g.value=!0,$.value="PUBLISH",w(),a.value={},l.delete("authors[]"),l.delete("keywords[]"),n.value=[],L()):($.value="ARCHIVE",g.value=!1,w(),a.value={},l.delete("authors[]"),l.delete("keywords[]"),n.value=[],L())},S=()=>({title:"",type_of_paper:"",college_department:"",publication_date:"",issue_numbers:"",abstract:"",doi:"",publisher:""}),_=ct(S()),w=()=>Object.assign(_,S()),v=i("submit"),k=i(!1),m=i(""),y=I=>{let J=I.dataTransfer.files;E(J),Y(J)},x=()=>{let I=document.querySelector(".fileupload").files;E(I),Y(I)},E=I=>{["application/pdf"].includes(I[0].type)?(a.value=I[0],u.value=!1):u.value=!0,L()},L=()=>{a.value.name!=null?k.value=!0:k.value=!1},Q=I=>{let J=document.querySelector(".fileupload");J.value="",a.value={},L(),m.value="",A.value=!1},z=I=>{l.delete("keywords[]"),p.value=I},ot=I=>{l.delete("authors[]"),d.value=I},ut=()=>{v.value="processing...",l.append("upload_type",g.value),l.append("file",a.value),l.append("authors[]",d.value.length>0?JSON.stringify(d.value):[]),l.append("keywords[]",p.value.length>0?JSON.stringify(p.value):[]),l.append("title",_.title),l.append("college_department",_.college_department),l.append("type_of_paper",_.type_of_paper),l.append("abstract",_.abstract),l.append("issue_numbers",_.issue_numbers),l.append("publication_date",_.publication_date==""?"":f(_.publication_date)),l.append("doi",_.doi),l.append("publisher",_.publisher),axios.post("/api/document",l,{headers:{"Content-Type":"multipart/form-data"}}).then(I=>{v.value="submit",w(),l.delete("authors[]"),l.delete("keywords[]"),toast.fire({icon:"success",title:"File Documents Uploaded Successfully!"}),h.push("/admin/request"),n.value=[]}).catch(I=>{n.value=I.response.data.errors,v.value="submit"})},it=()=>{u.value=!1},V=i([]),j=i([]),R=()=>{axios.get("/api/list-topapers").then(I=>{V.value=I.data})},O=()=>{axios.get("/api/list-departments").then(I=>{j.value=I.data})},Y=I=>{m.value=window.URL.createObjectURL(I[0])},F=()=>{A.value=!A.value};return(I,J)=>{const N=tt("VueDatePicker"),M=tt("router-link");return e(),s("div",b1,[t("div",g1,[t("div",$1,[t("div",y1,[t("h4",null,[t("i",{class:et(["bi",g.value?"bi-tv":"bi-archive"])},null,2),T(" Â "+o($.value),1)])])])]),t("div",x1,[t("div",w1,[B(oe,{onDrop:y,filePdf:a.value,onDragenter:X(it,["prevent"]),class:et({is_error:u.value}),onRemoveFile:Q,onChange:x},null,8,["filePdf","class"])]),t("div",k1,[t("div",D1,[t("div",C1,[S1,m.value!=""?(e(),s("button",{key:0,type:"button",onClick:F,class:"btn btn-outline-success ms-auto"},[t("i",{class:et(["bi text-white",A.value?"bi-eye-slash":"bi-eye"])},null,2)])):c("",!0)]),C(t("div",P1,[m.value!=""?(e(),wt(jt,{key:0,pdfFile:m.value},null,8,["pdfFile"])):c("",!0)],512),[[nt,m.value!=""&&A.value]]),C(t("div",U1,[t("div",A1,[F1,C(t("input",{type:"text","onUpdate:modelValue":J[0]||(J[0]=P=>_.title=P),class:"form-control form-control-sm",placeholder:"Enter Title"},null,512),[[q,_.title]]),r(n).title?(e(),s("span",E1,o(r(n).title[0]),1)):c("",!0)]),t("div",T1,[V1,C(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":J[1]||(J[1]=P=>_.type_of_paper=P)},[(e(!0),s(H,null,K(V.value,(P,G)=>(e(),s("option",{class:"option",key:G,value:P.id},o(P.description),9,M1))),128))],512),[[pt,_.type_of_paper]]),r(n).type_of_paper?(e(),s("span",L1,o(r(n).type_of_paper[0]),1)):c("",!0)]),t("div",R1,[j1,B(Kt,{urlString:"/api/setting-author",onLoadFilter:ot}),r(n)["authors.0"]?(e(),s("span",I1,o(r(n)["authors.0"][0].replace(".0","")),1)):c("",!0)]),g.value?(e(),s("div",B1,[Y1,B(N,{modelValue:_.publication_date,"onUpdate:modelValue":J[2]||(J[2]=P=>_.publication_date=P),format:f,placeholder:"Enter Publication date"},null,8,["modelValue"]),r(n).publication_date?(e(),s("span",O1,o(r(n).publication_date[0]),1)):c("",!0)])):c("",!0),g.value?(e(),s("div",N1,[q1,C(t("input",{type:"text","onUpdate:modelValue":J[3]||(J[3]=P=>_.issue_numbers=P),class:"form-control form-control-sm",placeholder:"Enter Issue Numbers"},null,512),[[q,_.issue_numbers]]),r(n).issue_numbers?(e(),s("span",H1,o(r(n).issue_numbers[0]),1)):c("",!0)])):c("",!0),g.value?(e(),s("div",K1,[G1,C(t("input",{type:"text","onUpdate:modelValue":J[4]||(J[4]=P=>_.doi=P),class:"form-control form-control-sm",placeholder:"Enter DOI"},null,512),[[q,_.doi]]),r(n).doi?(e(),s("span",J1,o(r(n).doi[0]),1)):c("",!0)])):c("",!0),g.value?(e(),s("div",z1,[W1,C(t("textarea",{"onUpdate:modelValue":J[5]||(J[5]=P=>_.abstract=P),class:"form-control form-control-sm",placeholder:"Enter Abstract"},null,512),[[q,_.abstract]]),r(n).abstract?(e(),s("span",X1,o(r(n).abstract[0]),1)):c("",!0)])):c("",!0),g.value?(e(),s("div",Q1,[Z1,B(Nt,{onShowData:z}),r(n)["keywords.0"]?(e(),s("span",tg,o(r(n)["keywords.0"][0].replace(".0","")),1)):c("",!0)])):c("",!0),g.value?(e(),s("div",eg,[sg,C(t("input",{type:"text","onUpdate:modelValue":J[6]||(J[6]=P=>_.publisher=P),class:"form-control form-control-sm",placeholder:"Enter Publisher"},null,512),[[q,_.publisher]]),r(n).publisher?(e(),s("span",og,o(r(n).publisher[0]),1)):c("",!0)])):c("",!0),t("div",ag,[ng,C(t("select",{class:"form-select","onUpdate:modelValue":J[7]||(J[7]=P=>_.college_department=P)},[(e(!0),s(H,null,K(j.value,(P,G)=>(e(),s("option",{key:G,value:P.id},o(P.description),9,lg))),128))],512),[[pt,_.college_department]]),r(n).college_department?(e(),s("span",ig,o(r(n).college_department[0]),1)):c("",!0)]),t("div",dg,[k.value?(e(),s("button",{key:0,type:"button",onClick:X(ut,["prevent"]),class:"btn btn-primary"},o(v.value),1)):c("",!0)])],512),[[nt,!A.value]]),t("div",cg,[B(M,{to:{name:"admin.request"}},{default:W(()=>[rg,T(" View uploaded documents ")]),_:1})])])])])])}}},zt=lt(ug,[["__scopeId","data-v-c9b3d009"]]),pg={class:"card"},_g={class:"fw-bold fs-5 text-danger"},mg=t("label",{class:"btn btn-primary mb-2",for:"filename"},"Click here to select files",-1),hg=t("h3",null,"Drag or Drop files here!",-1),vg=t("p",{class:"text-muted"},"Only pdf files are accepted to upload!",-1),fg=t("input",{type:"file",class:"hidden fileupload",accept:".pdf",id:"filename"},null,-1),bg={class:"row"},gg={class:"col-md-12 d-flex flex-wrap justify-content-around mt-2 mb-0"},$g={key:0,class:"card file-card m-2"},yg={class:"card-body p-0"},xg=t("i",{class:"fa fa-close"},null,-1),wg=[xg],kg={class:"file-title text-muted truncate text-start"},Dg=t("div",{class:"card-content d-flex justify-content-center position-relative"},[t("div",{class:"position-absolute file-icon d-flex justify-content-center"},[t("img",{class:"img-icon position-absolute",src:"/img/pdf.jpg"})])],-1),Cg={key:0,class:"col-md-12 mt-3"},ae={__name:"EditDrop",props:{filePdf:{type:Object,required:!0},dbpdf:{type:Object,required:!0}},emits:["removeFile","saveUpload"],setup(D,{emit:f}){const d=f,p=i(!1);i(!1);const a=i({}),n=D,u=()=>{p.value=!p.value},l=h=>{d("removeFile",h)};at(()=>n.filePdf,(h,b)=>{a.value=h});const $=()=>{d("saveUpload",null)};return(h,b)=>(e(),s("div",pg,[t("div",{class:et(["card-body upload-file",{is_active:p.value}]),onDragenter:X(u,["prevent"]),onDragleave:X(u,["prevent"]),onDragover:b[1]||(b[1]=X(()=>{},["prevent"])),onDrop:X(u,["prevent"])},[t("span",_g,o(n.dbpdf.original_name),1),mg,hg,vg,fg,t("div",bg,[t("div",gg,[a.value.name!=null?(e(),s("div",$g,[t("div",yg,[t("div",{class:"card-icon",onClick:l},wg),t("label",kg,o(a.value.name),1),Dg])])):c("",!0)]),a.value.name!=null?(e(),s("div",Cg,[t("button",{type:"button",onClick:b[0]||(b[0]=g=>$()),class:"btn btn-outline-success btn-sm"},"Save changes")])):c("",!0)])],34)]))}},Sg={class:"row"},Pg={class:"col-12"},Ug={class:"input-tag"},Ag=["onClick"],Fg={key:0,class:"search-data"},Eg={class:"item-data-none"},Tg={class:"input-group input-group-sm"},Vg=t("span",{class:"input-group-text bg-primary text-white",id:"inputGroup-sizing-default"},"Add Author: ",-1),Mg=t("i",{class:"bi bi-x"},null,-1),Lg=[Mg],Rg=t("i",{class:"bi bi-floppy"},null,-1),jg=[Rg],Ig=t("i",{class:"bi bi-x-octagon"},null,-1),Bg=[Ig],Yg={key:0,class:"text-danger error-message"},Og={key:1,class:"text-danger error-message"},Ng={key:2,class:"text-danger error-message"},qg=t("li",null,[t("hr",{class:"m-0"})],-1),Hg=["onClick"],Kg=t("i",{class:"bi bi-plus-circle me-auto"},null,-1),Gg={class:"item-data text-danger error-message"},ne={__name:"AuthorEdit",props:{urlString:{type:String,required:!0},authors:{type:Array,required:!1}},emits:["loadFilter"],setup(D,{emit:f}){const d=f,p=D,a=i([]),n=()=>({first_name:"",middle_name:"",last_name:"",id:null}),u=ct(n()),l=()=>{$.value="",Object.assign(u,n())},$=i(""),h=i([]);i("");const b=i("");let g=i([]);st(()=>{h.value=p.authors});const A=(m,y)=>{y.id!=null?Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes, delete it!"}).then(x=>{x.isConfirmed&&axios.delete("/api/doc-author/"+y.id).then(E=>{h.value.splice(m,1),b.value="",d("loadFilter",h.value),Swal.fire({title:"Deleted!",text:"Author has been deleted.",icon:"success",confirmButtonColor:"#26884b"})})}):(h.value.splice(m,1),b.value="",d("loadFilter",h.value))},U=m=>{h.value.filter(x=>x.author_id==m.id).length==0?(h.value.push({author_id:m.id,first_name:m.first_name,middle_name:m.middle_name,last_name:m.last_name}),$.value="",b.value="",d("loadFilter",h.value)):b.value="Duplicate Entry!"};at($,()=>{S(p.urlString)});const S=m=>{axios.get(m+"?search="+$.value).then(y=>{a.value=y.data.data})},_=(m=p.urlString)=>{axios.post(m,u).then(y=>{S(p.urlString),g.value=[],l()}).catch(y=>{g.value=y.response.data.errors})},w=()=>{a.value=[],b.value=""},v=()=>{$.value!=""&&S(p.urlString)},k=()=>{u.description=$.value};return(m,y)=>(e(),s("div",Sg,[t("div",Pg,[t("div",Ug,[(e(!0),s(H,null,K(h.value,(x,E)=>(e(),s("div",{key:E,class:"badge rounded-pill text-white me-1 mt-1 tag"},[T(o(x.first_name)+" "+o(x.middle_name)+" "+o(x.last_name)+" ",1),t("i",{class:"bi bi-x-circle-fill close-tag",onClick:L=>A(E,x)},null,8,Ag)]))),128)),C(t("input",{type:"text",class:"text-tag p-0 m-0",onFocus:v,onKeyup:k,"onUpdate:modelValue":y[0]||(y[0]=x=>$.value=x),placeholder:"Enter Author name..."},null,544),[[q,$.value]])]),a.value.length!=0||$.value!=""?(e(),s("ul",Fg,[t("li",null,[t("div",Eg,[t("div",Tg,[Vg,C(t("input",{type:"text","onUpdate:modelValue":y[1]||(y[1]=x=>u.first_name=x),class:"form-control",placeholder:"Enter First name"},null,512),[[q,u.first_name]]),C(t("input",{type:"text","onUpdate:modelValue":y[2]||(y[2]=x=>u.middle_name=x),class:"form-control",placeholder:"Enter Middle name"},null,512),[[q,u.middle_name]]),C(t("input",{type:"text","onUpdate:modelValue":y[3]||(y[3]=x=>u.last_name=x),class:"form-control",placeholder:"Enter Last name"},null,512),[[q,u.last_name]]),t("button",{class:"btn btn-outline-secondary","data-bs-toggle":"tooltip",onClick:y[4]||(y[4]=X(x=>l(),["prevent"])),"data-bs-placement":"top",title:"clear",type:"button"},Lg),t("button",{class:"btn btn-outline-secondary",onClick:y[5]||(y[5]=X(x=>_(),["prevent"])),"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Save author's name",type:"button"},jg),t("button",{class:"btn btn-outline-secondary","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Close",onClick:w,type:"button"},Bg)]),r(g).first_name?(e(),s("span",Yg,o(r(g).first_name[0]),1)):c("",!0),T("Â  "),r(g).middle_name?(e(),s("span",Og,o(r(g).middle_name[0]),1)):c("",!0),T("Â  "),r(g).last_name?(e(),s("span",Ng,o(r(g).last_name[0]),1)):c("",!0)])]),qg,a.value.length!=0?(e(!0),s(H,{key:0},K(a.value,(x,E)=>(e(),s("li",{key:E},[t("a",{class:"item-data start-100",href:"#",onClick:X(L=>U(x),["prevent"])},[Kg,T(" "+o(x.first_name)+" "+o(x.middle_name)+" "+o(x.last_name),1)],8,Hg)]))),128)):c("",!0),t("li",null,[t("span",Gg,o(b.value),1)])])):c("",!0)])]))}},Pt=D=>(_t("data-v-ffdbdb6b"),D=D(),mt(),D),Jg={class:"container mt-3"},zg={class:"row"},Wg={class:"col-12 text-start card head-card"},Xg={class:"card-body p-1"},Qg={class:"row d-flex justify-content-center"},Zg={class:"col-md-3"},t$={class:"col-md-9"},e$={key:0,class:"card text-start"},s$={class:"card-header bg-primary d-flex"},o$=Pt(()=>t("strong",null," Form",-1)),a$={class:"card-body"},n$={class:"card-body row"},l$={class:"form-group mb-3 col-6"},i$=Pt(()=>t("label",null,"Title",-1)),d$={key:0,class:"text-danger"},c$={class:"form-group mb-3 col-6"},r$=Pt(()=>t("label",null,"Type of Papers",-1)),u$=["value"],p$={key:0,class:"text-danger"},_$={class:"form-group mb-3 col-6"},m$=Pt(()=>t("label",null,"Authors",-1)),h$={key:0,class:"text-danger"},v$={key:0,class:"form-group mb-3 col-6"},f$=Pt(()=>t("label",null,"Publication Date",-1)),b$={key:0,class:"text-danger"},g$={key:1,class:"form-group mb-3 col-6"},$$=Pt(()=>t("label",null,"Volume/issue numbers",-1)),y$={key:0,class:"text-danger"},x$={key:2,class:"form-group mb-3 col-6"},w$=Pt(()=>t("label",null,"DOI",-1)),k$={key:0,class:"text-danger"},D$={key:3,class:"form-group mb-3 col-6"},C$=Pt(()=>t("label",null,"Abstract",-1)),S$={key:0,class:"text-danger"},P$={key:4,class:"form-group mb-3 col-6"},U$=Pt(()=>t("label",null,"Keywords: ...use Comma Sign to seperate words ",-1)),A$={key:0,class:"text-danger"},F$={key:5,class:"form-group mb-3 col-12"},E$=Pt(()=>t("label",null,"Publisher",-1)),T$={key:0,class:"text-danger"},V$={class:"form-group input-group-sm col-6"},M$=Pt(()=>t("label",null,"College Department",-1)),L$=["value"],R$={key:0,class:"text-danger"},j$={class:"btn-group btn-sm mt-3"},I$={class:"card-footer"},B$=Pt(()=>t("i",{class:"bi bi-eye"},null,-1)),Y$={__name:"EditUpload",setup(D){i(null),i([]);const f=i([]),d=i([]),p=i({});let a=i([]);const n=i(!1),u=new FormData,l=i(""),$=ft(),h=Tt(),b=i(!0),g=i(!1),A=N=>{const M=("0"+N.getDate()).slice(-2),P=("0"+(N.getMonth()+1)).slice(-2),G=N.getFullYear();return P+"/"+M+"/"+G};st(()=>{const N=h.params.id;y(N),Y(),F(),U()}),at(h,()=>{U()});const U=()=>{h.name==="admin.editupload_p"?(b.value=!0,l.value="PUBLISH",w(),p.value={},a.value=[],Q()):(l.value="ARCHIVE",b.value=!1,w(),p.value={},a.value=[],Q())},S=()=>({title:"",type_of_paper:"",college_department:"",publication_date:"",issue_numbers:"",abstract:"",doi:"",publisher:"",keywords:[],authors:[],upload_type:"",document_file:{},college_department:""}),_=ct(S()),w=()=>Object.assign(_,S()),v=i("save changes"),k=i(!1),m=i(""),y=N=>{axios.get("/api/document/"+N).then(M=>{let P=M.data;f.value=P.authors,d.value=P.keywords,_.id=P.id,_.title=P.title,_.type_of_paper=P.type_of_paper_id,_.publication_date=P.publication_date,_.abstract=P.abstract,_.doi=P.doi,_.issue_numbers=P.issue_numbers,_.publisher=P.publisher,_.keywords=P.keywords,_.authors=P.authors,_.upload_type=P.upload_type,_.document_file=P.document_file,_.college_department=P.department_id})},x=N=>{let M=N.dataTransfer.files;L(M),I(M)},E=()=>{let N=document.querySelector(".fileupload").files;L(N),I(N)},L=N=>{["application/pdf"].includes(N[0].type)?(p.value=N[0],n.value=!1):n.value=!0,Q()},Q=()=>{p.value.name!=null?k.value=!0:k.value=!1},z=N=>{let M=document.querySelector(".fileupload");M.value="",p.value={},Q(),m.value="",g.value=!1},ot=N=>{_.keywords=N},ut=N=>{_.authors=N},it=()=>{v.value="processing...",axios.put("/api/document/"+_.id,_).then(N=>{toast.fire({icon:"success",title:"Document modefied Successfully!"}),$.push("/admin/request"),a.value=[]}).catch(N=>{a.value=N.response.data.errors,v.value="save changes"})},V=()=>{console.log("hello"),u.append("file",p.value),u.append("id",_.id),axios.post("/api/document-upload",u,{headers:{"Content-Type":"multipart/form-data"}}).then(N=>{const M=h.params.id;y(M),p.value={},toast.fire({icon:"success",title:"File Documents Uploaded Successfully!"})}).catch(N=>{})},j=()=>{n.value=!1},R=i([]),O=i([]),Y=()=>{axios.get("/api/list-topapers").then(N=>{R.value=N.data})},F=()=>{axios.get("/api/list-departments").then(N=>{O.value=N.data})},I=N=>{m.value=window.URL.createObjectURL(N[0])},J=()=>{g.value=!g.value};return(N,M)=>{const P=tt("VueDatePicker"),G=tt("router-link");return e(),s("div",Jg,[t("div",zg,[t("div",Wg,[t("div",Xg,[t("h4",null,[t("i",{class:et(["bi",b.value?"bi-tv":"bi-archive"])},null,2),T(" Â "+o(l.value),1)])])])]),t("div",Qg,[t("div",Zg,[B(ae,{onDrop:x,onSaveUpload:V,dbpdf:_.document_file,filePdf:p.value,onDragenter:X(j,["prevent"]),class:et({is_error:n.value}),onRemoveFile:z,onChange:E},null,8,["dbpdf","filePdf","class"])]),t("div",t$,[_.id!=null?(e(),s("div",e$,[t("div",s$,[o$,m.value!=""?(e(),s("button",{key:0,type:"button",onClick:J,class:"btn btn-outline-success ms-auto"},[t("i",{class:et(["bi text-white",g.value?"bi-eye-slash":"bi-eye"])},null,2)])):c("",!0)]),C(t("div",a$,[m.value!=""?(e(),wt(jt,{key:0,pdfFile:m.value},null,8,["pdfFile"])):c("",!0)],512),[[nt,m.value!=""&&g.value]]),C(t("div",n$,[t("div",l$,[i$,C(t("input",{type:"text","onUpdate:modelValue":M[0]||(M[0]=Z=>_.title=Z),class:"form-control form-control-sm",placeholder:"Enter Title"},null,512),[[q,_.title]]),r(a).title?(e(),s("span",d$,o(r(a).title[0]),1)):c("",!0)]),t("div",c$,[r$,C(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":M[1]||(M[1]=Z=>_.type_of_paper=Z)},[(e(!0),s(H,null,K(R.value,(Z,Vt)=>(e(),s("option",{class:"option",key:Vt,value:Z.id},o(Z.description),9,u$))),128))],512),[[pt,_.type_of_paper]]),r(a).type_of_paper?(e(),s("span",p$,o(r(a).type_of_paper[0]),1)):c("",!0)]),t("div",_$,[m$,B(ne,{urlString:"/api/setting-author",authors:f.value,onLoadFilter:ut},null,8,["authors"]),r(a)["authors.0"]?(e(),s("span",h$,o(r(a)["authors.0"][0].replace(".0","")),1)):c("",!0)]),b.value?(e(),s("div",v$,[f$,B(P,{modelValue:_.publication_date,"onUpdate:modelValue":M[2]||(M[2]=Z=>_.publication_date=Z),format:A,placeholder:"Enter Publication date"},null,8,["modelValue"]),r(a).publication_date?(e(),s("span",b$,o(r(a).publication_date[0]),1)):c("",!0)])):c("",!0),b.value?(e(),s("div",g$,[$$,C(t("input",{type:"text","onUpdate:modelValue":M[3]||(M[3]=Z=>_.issue_numbers=Z),class:"form-control form-control-sm",placeholder:"Enter Issue Numbers"},null,512),[[q,_.issue_numbers]]),r(a).issue_numbers?(e(),s("span",y$,o(r(a).issue_numbers[0]),1)):c("",!0)])):c("",!0),b.value?(e(),s("div",x$,[w$,C(t("input",{type:"text","onUpdate:modelValue":M[4]||(M[4]=Z=>_.doi=Z),class:"form-control form-control-sm",placeholder:"Enter DOI"},null,512),[[q,_.doi]]),r(a).doi?(e(),s("span",k$,o(r(a).doi[0]),1)):c("",!0)])):c("",!0),b.value?(e(),s("div",D$,[C$,C(t("textarea",{"onUpdate:modelValue":M[5]||(M[5]=Z=>_.abstract=Z),class:"form-control form-control-sm",placeholder:"Enter Abstract"},null,512),[[q,_.abstract]]),r(a).abstract?(e(),s("span",S$,o(r(a).abstract[0]),1)):c("",!0)])):c("",!0),b.value?(e(),s("div",P$,[U$,B(Nt,{onShowData:ot,keywords:d.value},null,8,["keywords"]),r(a).keywords?(e(),s("span",A$,o(r(a).keywords[0]),1)):c("",!0)])):c("",!0),b.value?(e(),s("div",F$,[E$,C(t("input",{type:"text","onUpdate:modelValue":M[6]||(M[6]=Z=>_.publisher=Z),class:"form-control form-control-sm",placeholder:"Enter Publisher"},null,512),[[q,_.publisher]]),r(a).publisher?(e(),s("span",T$,o(r(a).publisher[0]),1)):c("",!0)])):c("",!0),t("div",V$,[M$,C(t("select",{class:"form-select","onUpdate:modelValue":M[7]||(M[7]=Z=>_.college_department=Z)},[(e(!0),s(H,null,K(O.value,(Z,Vt)=>(e(),s("option",{key:Vt,value:Z.id},o(Z.description),9,L$))),128))],512),[[pt,_.college_department]]),r(a).college_department?(e(),s("span",R$,o(r(a).college_department[0]),1)):c("",!0)]),t("div",j$,[t("button",{type:"button",onClick:M[8]||(M[8]=X(Z=>it(),["prevent"])),class:"btn btn-primary"},o(v.value),1)])],512),[[nt,!g.value]]),t("div",I$,[B(G,{to:{name:"faculty.documents"}},{default:W(()=>[B$,T(" View uploaded documents ")]),_:1})])])):c("",!0)])])])}}},Wt=lt(Y$,[["__scopeId","data-v-ffdbdb6b"]]),dt=D=>(_t("data-v-ecd4b643"),D=D(),mt(),D),O$={class:"container"},N$={class:"row bg-white rounded mt-3 d-print-none"},q$=dt(()=>t("h4",{class:"text-start mt-3"},"Summary Report",-1)),H$={class:"col-md-3"},K$={class:"card border"},G$=dt(()=>t("div",{class:"card-header text-start"},"Date Range",-1)),J$={class:"card-body text-start"},z$={class:"form-group input-group-sm mb-3"},W$=dt(()=>t("label",null,"Reports",-1)),X$=dt(()=>t("option",{value:"1"},"ALL DOCUMENTS",-1)),Q$=dt(()=>t("option",{value:"2"},"PUBLISHED",-1)),Z$=dt(()=>t("option",{value:"3"},"ARCHIVED",-1)),ty=dt(()=>t("option",{value:"4"},"USERS",-1)),ey=[X$,Q$,Z$,ty],sy={class:"form-group input-group-sm mb-3"},oy=dt(()=>t("label",null,"College Department",-1)),ay=dt(()=>t("option",{value:"0"},"ALL DEPARTMENT",-1)),ny=["value"],ly={key:0,class:"form-group input-group-sm mb-3"},iy=dt(()=>t("label",null,"Type of Papers",-1)),dy=dt(()=>t("option",{value:"0"},"ALL TYPE OF PAPERS",-1)),cy=["value"],ry={class:"form-group mb-3"},uy=dt(()=>t("label",null,"From :",-1)),py={class:"form-group mb-3"},_y=dt(()=>t("label",null,"To :",-1)),my={class:"btn-group"},hy=dt(()=>t("i",{class:"bi bi-bullseye"},null,-1)),vy=dt(()=>t("i",{class:"bi bi-printer"},null,-1)),fy={class:"col-md-9 text-start"},by={class:"table-responsive text-start"},gy={class:"fw-bold"},$y={key:0,class:"text-danger"},yy={key:0,class:"table table-bordered"},xy=dt(()=>t("thead",null,[t("tr",null,[t("th",null,"DEPARTMENT"),t("th",null,"NO. OF PUBLISHED"),t("th",null,"NO. OF ARCHIVED"),t("th",null,"NO. OF FACULTY")])],-1)),wy={class:"fw-bold"},ky=dt(()=>t("td",{class:"text-start fw-bold"},"TOTAL",-1)),Dy={key:1,class:"table table-bordered"},Cy=dt(()=>t("thead",null,[t("tr",null,[t("th",null,"TITLE"),t("th",null,"TYPE OF PAPER"),t("th",null,"AUTHOR"),t("th",null,"DATE UPLOADED"),t("th",null,"DEPARTMENT"),t("th",null,"UPLOADED BY")])],-1)),Sy={colspan:"6",class:"text-start"},Py={key:2,class:"table table-bordered"},Uy=dt(()=>t("thead",null,[t("tr",null,[t("th",null,"TITLE"),t("th",null,"TYPE OF PAPER"),t("th",null,"AUTHOR"),t("th",null,"DATE UPLOADED"),t("th",null,"DEPARTMENT"),t("th",null,"UPLOADED BY")])],-1)),Ay={colspan:"6",class:"text-start"},Fy={key:3,class:"table table-bordered"},Ey=dt(()=>t("thead",null,[t("tr",null,[t("th",null,"NAME"),t("th",null,"GMAIL"),t("th",null,"DEPARTMENT")])],-1)),Ty={colspan:"6",class:"text-start"},Vy={class:"row bg-white rounded mt-3 d-print-block d-none"},My=Ot('<div class="col-md-12 d-flex justify-content-between" data-v-ecd4b643><div class="logo" data-v-ecd4b643><img class="img-logo" src="/img/ndmc.png" data-v-ecd4b643></div><div class="text-head" data-v-ecd4b643> RECHIVA | NDMC Research and Department Center <p class="sub-text" data-v-ecd4b643>Quezon Avenue, Midsayap, Cotabato 9410</p></div><div class="logo" data-v-ecd4b643><img class="img-logo-2" src="/img/logo_.png" data-v-ecd4b643></div></div>',1),Ly={class:"col-md-12"},Ry={class:"report-card"},jy={class:"fs-6 fw-bold"},Iy={class:"fw-bold"},By={key:0,class:"text-danger"},Yy={key:0,class:"table table-bordered text-start"},Oy=dt(()=>t("thead",null,[t("tr",null,[t("th",null,"DEPARTMENT"),t("th",null,"NO. OF PUBLISHED"),t("th",null,"NO. OF ARCHIVED"),t("th",null,"NO. OF FACULTY")])],-1)),Ny={class:"fw-bold"},qy=dt(()=>t("td",{class:"text-start fw-bold"},"TOTAL",-1)),Hy={key:1,class:"table table-bordered text-start"},Ky=dt(()=>t("thead",null,[t("tr",null,[t("th",null,"TITLE"),t("th",null,"TYPE OF PAPER"),t("th",null,"AUTHOR"),t("th",null,"DATE UPLOADED"),t("th",null,"DEPARTMENT"),t("th",null,"UPLOADED BY")])],-1)),Gy={colspan:"6",class:"text-start"},Jy={key:2,class:"table table-bordered text-start"},zy=dt(()=>t("thead",null,[t("tr",null,[t("th",null,"TITLE"),t("th",null,"TYPE OF PAPER"),t("th",null,"AUTHOR"),t("th",null,"DATE UPLOADED"),t("th",null,"DEPARTMENT"),t("th",null,"UPLOADED BY")])],-1)),Wy={colspan:"6",class:"text-start"},Xy={key:3,class:"table table-bordered text-start"},Qy=dt(()=>t("thead",null,[t("tr",null,[t("th",null,"NAME"),t("th",null,"GMAIL"),t("th",null,"DEPARTMENT")])],-1)),Zy={colspan:"6",class:"text-start"},t2={class:"text-start"},e2={__name:"Report",setup(D){const f=()=>({date_from:"",date_to:""}),d=R=>ht(R).format("MMMM D, YYYY");i([]),i([]),i([]);const p=i("generate"),a=ct(f());st(()=>{ot(),Q()});const n=ct({report:null,department:0,typeofpapers:null,date_to:null,date_from:null}),u=i(0),l=i(""),$=R=>{l.value=R==1?"ALL DOCUMENTS":R==2?"PUBLISHED":R==3?"ARCHIVED":R==4?"USERS":"",u.value=R},h=R=>{const O=("0"+R.getDate()).slice(-2),Y=("0"+(R.getMonth()+1)).slice(-2),F=R.getFullYear();return Y+"/"+O+"/"+F},b=()=>{window.print()},g=i([]),A=i([]),U=i([]),S=i([]),_=i([]),w=i([]),v=()=>{p.value="generating...",axios.get("/api/report",{params:n}).then(R=>{p.value="generate",g.value=R.data.published,A.value=R.data.archived,U.value=R.data.faculty,S.value=R.data.published_list,_.value=R.data.archived_list,w.value=R.data.users})},k=()=>{let R=0;return g.value.forEach(O=>{n.department==O.department_id,R+=O.published}),R},m=()=>{let R=0;return A.value.forEach(O=>{n.department==O.department_id,R+=O.archived}),R},y=()=>{let R=0;return U.value.forEach(O=>{n.department==O.department_id,R+=O.faculty}),R},x=()=>{a.date_to=""},E=i([]),L=i([]),Q=()=>{axios.get("/api/list-topapers").then(R=>{E.value=R.data})},z=i([]),ot=()=>{axios.get("/api/list-departments").then(R=>{L.value=R.data,z.value=R.data})},ut=R=>{if(R!=0){z.value=L.value.filter(O=>O.id==R);return}ot()},it=R=>{let O=0;return g.value.forEach(Y=>{Y.department_id==R&&(O=Y.published)}),O},V=R=>{let O=0;return A.value.forEach(Y=>{Y.department_id==R&&(O=Y.archived)}),O},j=R=>{let O=0;return U.value.forEach(Y=>{Y.department_id==R&&(O=Y.faculty)}),O};return(R,O)=>{const Y=tt("VueDatePicker");return e(),s("div",O$,[t("div",N$,[q$,t("div",H$,[t("div",K$,[G$,t("div",J$,[t("div",z$,[W$,C(t("select",{class:"form-select","onUpdate:modelValue":O[0]||(O[0]=F=>n.report=F),onChange:O[1]||(O[1]=F=>$(n.report))},ey,544),[[pt,n.report]])]),t("div",sy,[oy,C(t("select",{class:"form-select","onUpdate:modelValue":O[2]||(O[2]=F=>n.department=F),onChange:O[3]||(O[3]=F=>ut(n.department))},[ay,(e(!0),s(H,null,K(L.value,(F,I)=>(e(),s("option",{key:I,value:F.id},o(F.description),9,ny))),128))],544),[[pt,n.department]])]),n.report!=4?(e(),s("div",ly,[iy,C(t("select",{class:"form-select","onUpdate:modelValue":O[4]||(O[4]=F=>n.type_of_paper=F)},[dy,(e(!0),s(H,null,K(E.value,(F,I)=>(e(),s("option",{class:"option",key:I,value:F.id},o(F.description),9,cy))),128))],512),[[pt,n.type_of_paper]])])):c("",!0),t("div",ry,[uy,B(Y,{modelValue:n.date_from,"onUpdate:modelValue":[O[5]||(O[5]=F=>n.date_from=F),O[6]||(O[6]=F=>x())],format:h,placeholder:"Enter Date From"},null,8,["modelValue"])]),t("div",py,[_y,B(Y,{modelValue:n.date_to,"onUpdate:modelValue":O[7]||(O[7]=F=>n.date_to=F),format:h,placeholder:"Enter Date To"},null,8,["modelValue"])]),t("div",my,[t("button",{type:"button",onClick:O[8]||(O[8]=F=>v()),class:"btn btn-success btn-sm"},[hy,T(" "+o(p.value),1)]),t("button",{type:"button",onClick:O[9]||(O[9]=F=>b()),class:"btn btn-warning btn-sm"},[vy,T(" Print ")])])])])]),t("div",fy,[t("div",by,[t("h4",null,o(l.value),1),t("div",gy,[T(" Date: "),n.date_to!=""&&n.date_from?(e(),s("span",$y,o(d(n.date_from))+" - "+o(d(n.date_to)),1)):c("",!0)]),u.value==1?(e(),s("table",yy,[xy,t("tbody",null,[(e(!0),s(H,null,K(z.value,(F,I)=>(e(),s("tr",{key:I},[t("td",null,o(F.description),1),t("td",null,o(parseFloat(it(F.id)).toFixed(2)),1),t("td",null,o(parseFloat(V(F.id)).toFixed(2)),1),t("td",null,o(parseFloat(j(F.id)).toFixed(2)),1)]))),128)),t("tr",wy,[ky,t("td",null,o(parseFloat(k()).toFixed(2)),1),t("td",null,o(parseFloat(m()).toFixed(2)),1),t("td",null,o(parseFloat(y()).toFixed(2)),1)])])])):c("",!0),u.value==2?(e(),s("table",Dy,[Cy,t("tbody",null,[(e(!0),s(H,null,K(S.value,(F,I)=>(e(),s("tr",{key:I},[t("td",null,o(F.title),1),t("td",null,o(F.typeofpaper!=null?F.typeofpaper.description:""),1),t("td",null,[(e(!0),s(H,null,K(F.authors,(J,N)=>(e(),s("div",{class:"d-flex justify-content-start",key:N},o(J.first_name)+" "+o(J.middle_name)+" "+o(J.last_name),1))),128))]),t("td",null,o(d(F.created_at)),1),t("td",null,o(F.department!=null?F.department.description:""),1),t("td",null,o(F.userdoc!=null?F.userdoc.first_name+" "+F.userdoc.middle_initial+" "+F.userdoc.last_name:""),1)]))),128)),t("tr",null,[t("td",Sy,o(S.value.length)+" item/s",1)])])])):c("",!0),u.value==3?(e(),s("table",Py,[Uy,t("tbody",null,[(e(!0),s(H,null,K(_.value,(F,I)=>(e(),s("tr",{key:I},[t("td",null,o(F.title),1),t("td",null,o(F.typeofpaper!=null?F.typeofpaper.description:""),1),t("td",null,[(e(!0),s(H,null,K(F.authors,(J,N)=>(e(),s("div",{class:"d-flex",key:N},o(J.first_name)+" "+o(J.middle_name)+" "+o(J.last_name),1))),128))]),t("td",null,o(d(F.created_at)),1),t("td",null,o(F.department!=null?F.department.description:""),1),t("td",null,o(F.userdoc!=null?F.userdoc.first_name+" "+F.userdoc.middle_initial+" "+F.userdoc.last_name:""),1)]))),128)),t("tr",null,[t("td",Ay,o(_.value.length)+" item/s",1)])])])):c("",!0),u.value==4?(e(),s("table",Fy,[Ey,t("tbody",null,[(e(!0),s(H,null,K(w.value,(F,I)=>(e(),s("tr",{key:I},[t("td",null,o(F.first_name)+" "+o(F.middle_initial)+" "+o(F.last_name),1),t("td",null,o(F.email),1),t("td",null,o(F.department!=null?F.department.description:""),1)]))),128)),t("tr",null,[t("td",Ty,o(w.value.length)+" item/s",1)])])])):c("",!0)])])]),t("div",Vy,[My,t("div",Ly,[t("div",Ry,[t("div",jy,o(l.value),1),t("div",Iy,[T(" Date: "),n.date_to!=""&&n.date_from?(e(),s("span",By,o(d(n.date_from))+" - "+o(d(n.date_to)),1)):c("",!0)]),u.value==1?(e(),s("table",Yy,[Oy,t("tbody",null,[(e(!0),s(H,null,K(z.value,(F,I)=>(e(),s("tr",{key:I},[t("td",null,o(F.description),1),t("td",null,o(parseFloat(it(F.id)).toFixed(2)),1),t("td",null,o(parseFloat(V(F.id)).toFixed(2)),1),t("td",null,o(parseFloat(j(F.id)).toFixed(2)),1)]))),128)),t("tr",Ny,[qy,t("td",null,o(parseFloat(k()).toFixed(2)),1),t("td",null,o(parseFloat(m()).toFixed(2)),1),t("td",null,o(parseFloat(y()).toFixed(2)),1)])])])):c("",!0),u.value==2?(e(),s("table",Hy,[Ky,t("tbody",null,[(e(!0),s(H,null,K(S.value,(F,I)=>(e(),s("tr",{key:I},[t("td",null,o(F.title),1),t("td",null,o(F.typeofpaper!=null?F.typeofpaper.description:""),1),t("td",null,[(e(!0),s(H,null,K(F.authors,(J,N)=>(e(),s("div",{class:"d-flex",key:N},o(J.first_name)+" "+o(J.middle_name)+" "+o(J.last_name),1))),128))]),t("td",null,o(d(F.created_at)),1),t("td",null,o(F.department!=null?F.department.description:""),1),t("td",null,o(F.userdoc!=null?F.userdoc.first_name+" "+F.userdoc.middle_initial+" "+F.userdoc.last_name:""),1)]))),128)),t("tr",null,[t("td",Gy,o(S.value.length)+" item/s",1)])])])):c("",!0),u.value==3?(e(),s("table",Jy,[zy,t("tbody",null,[(e(!0),s(H,null,K(_.value,(F,I)=>(e(),s("tr",{key:I},[t("td",null,o(F.title),1),t("td",null,o(F.typeofpaper!=null?F.typeofpaper.description:""),1),t("td",null,[(e(!0),s(H,null,K(F.authors,(J,N)=>(e(),s("div",{class:"d-flex",key:N},o(J.first_name)+" "+o(J.middle_name)+" "+o(J.last_name),1))),128))]),t("td",null,o(d(F.created_at)),1),t("td",null,o(F.department!=null?F.department.description:""),1),t("td",null,o(F.userdoc!=null?F.userdoc.first_name+" "+F.userdoc.middle_initial+" "+F.userdoc.last_name:""),1)]))),128)),t("tr",null,[t("td",Wy,o(_.value.length)+" item/s",1)])])])):c("",!0),u.value==4?(e(),s("table",Xy,[Qy,t("tbody",null,[(e(!0),s(H,null,K(w.value,(F,I)=>(e(),s("tr",{key:I},[t("td",null,o(F.first_name)+" "+o(F.middle_initial)+" "+o(F.last_name),1),t("td",null,o(F.email),1),t("td",null,o(F.department!=null?F.department.description:""),1)]))),128)),t("tr",null,[t("td",Zy,o(w.value.length)+" item/s",1)])])])):c("",!0),t("div",t2," Printed date: "+o(h(new Date)),1)])])])])}}},s2=lt(e2,[["__scopeId","data-v-ecd4b643"]]),vt=D=>(_t("data-v-1c871556"),D=D(),mt(),D),o2={class:"navbar navbar-expand-lg bg-light mb-0 bg-header custom-nav"},a2={class:"container-fluid"},n2={class:"main-brand"},l2=vt(()=>t("div",{class:"brand-name"},[t("img",{src:"/img/ndmc.png",class:"logo-main"}),t("img",{src:"/img/research.png",class:"sub-logo"})],-1)),i2=vt(()=>t("div",{class:"d-md-inline-flex d-lg-inline-flex"},[t("div",{class:"logo-text d-none d-lg-block d-xl-block d-md-block"}," RECHIVA"),t("img",{src:"/img/rechiva.png",class:"logo-app"})],-1)),d2=vt(()=>t("button",{class:"btn btn-outline-success d-inline-block d-lg-none",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[t("i",{class:"fa fa-bars"})],-1)),c2={class:"collapse navbar-collapse",id:"navbarSupportedContent"},r2={class:"navbar-nav mb-2 mb-lg-0 ms-auto"},u2={key:0,class:"nav-item nav-cus mb-nav"},p2={key:1,class:"nav-item dropdown nav-cus"},_2=vt(()=>t("a",{class:"nav-link",href:"#"},[t("i",{class:"bi bi-upload","aria-hidden":"true"}),T(" Upload Rechiva ")],-1)),m2={class:"dropdown-menu dropdown-menu-end user-menu"},h2=vt(()=>t("i",{class:"bi bi-file-earmark-arrow-up"},null,-1)),v2=vt(()=>t("i",{class:"bi bi-file-earmark-arrow-up-fill"},null,-1)),f2=vt(()=>t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),b2=vt(()=>t("i",{class:"bi bi-file-earmark-text"},null,-1)),g2=vt(()=>t("i",{class:"bi bi-file-earmark-text-fill"},null,-1)),$2=vt(()=>t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),y2={key:2,class:"nav-item nav-cus cus-pad dropdown"},x2={class:"nav-link",href:"#"},w2={class:"bi bi-bell-fill position-relative notify"},k2={key:0,class:"position-absolute top-0 start-100 translate-middle notify-badge"},D2={class:"dropdown-menu dropdown-menu-end user-menu"},C2={key:0},S2=vt(()=>t("div",{class:"ps-2 pe-2"}," Notifications ",-1)),P2=[S2],U2={key:1},A2=vt(()=>t("hr",{class:"dropdown-divider"},null,-1)),F2=[A2],E2={key:2},T2=vt(()=>t("p",{class:"ps-2 pe-2 text-success"},"No notification available!",-1)),V2=[T2],M2={class:"noti-div position-relative"},L2=["onClick"],R2={class:"notification"},j2={class:"d-flex flex-start align-items-center"},I2=vt(()=>t("img",{class:"rounded-circle shadow-1-strong me-3",src:"/img/user.png",alt:"avatar",width:"40",height:"40"},null,-1)),B2=vt(()=>t("div",{class:"arrow text-success w-100 position-absolute text-end"},[t("i",{class:"bi bi-arrow-right-circle icon-mar"})],-1)),Y2={class:"arrow text-success w-100 position-absolute text-end time-ago"},O2=vt(()=>t("h6",{class:"fw-bold text-primary mb-1"}," Administrator ",-1)),N2={class:"text-muted small mb-0"},q2=vt(()=>t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),H2={class:"nav-item dropdown"},K2={class:"nav-link dropdown-toggle",href:"#",role:"button"},G2=["src"],J2={class:"dropdown-menu dropdown-menu-end user-menu"},z2={class:"dropdown-item user-li"},W2={class:"info-user p-0"},X2=vt(()=>t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),Q2=vt(()=>t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),Z2={class:"d-grid gap-2"},tx={class:"content min-h"},ex={__name:"Mainpage",setup(D){const f=ft(),d=i({}),p=i([]);st(()=>{n(),u()});const a=()=>{Swal.fire({title:"Sign out",text:"Do you want sign out?",icon:"question",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",cancelButtonText:"No",confirmButtonText:"Yes"}).then(b=>{b.isConfirmed&&axios.get("/api/auth/out").then(g=>{g.data.success&&(window.location.href="/sign-in")})})},n=()=>{axios.get("/api/user").then(b=>{d.value=b.data})},u=()=>{axios.get("/api/faculty-notification").then(b=>{p.value=b.data})},l=b=>b.length,$=b=>{axios.put("/api/notification/"+b.id,{status:1}).then(g=>{u(),b.role==0||b.role==1?f.push({name:"faculty.document",params:{id:b.document_id}}):b.role==2&&(window.location.href="/faculty")})},h=b=>{let g=!1;return b.activate===1&&(g=!0),g};return(b,g)=>{const A=tt("router-link"),U=tt("timeago"),S=tt("router-view");return e(),s("div",null,[t("nav",o2,[t("div",a2,[t("div",n2,[B(A,{to:{name:"faculty.dashboard"},class:"d-inline-flex p-0"},{default:W(()=>[l2,i2]),_:1})]),d2,t("div",c2,[t("ul",r2,[d.value.id!=null?(e(),s("li",u2,[B(A,{class:"nav-link",to:{name:"publicpage"}},{default:W(()=>[T(" Home ")]),_:1})])):c("",!0),h(d.value)?(e(),s("li",p2,[_2,t("ul",m2,[t("li",null,[B(A,{class:"dropdown-item",to:{name:"faculty.upload_p"}},{default:W(()=>[h2,T(" For Publishing ")]),_:1})]),t("li",null,[B(A,{class:"dropdown-item",to:{name:"faculty.upload_a"}},{default:W(()=>[v2,T(" For Archiving ")]),_:1})]),f2,t("li",null,[B(A,{class:"dropdown-item",to:{name:"faculty.documents"}},{default:W(()=>[b2,T(" Documents Request ")]),_:1})]),t("li",null,[B(A,{class:"dropdown-item",to:{name:"faculty.published"}},{default:W(()=>[g2,T(" Published & Archived ")]),_:1})]),$2])])):c("",!0),h(d.value)?(e(),s("li",y2,[t("a",x2,[t("i",w2,[p.value.length>0?(e(),s("span",k2,o(l(p.value)),1)):c("",!0)])]),t("ul",D2,[p.value.length>0?(e(),s("li",C2,P2)):c("",!0),p.value.length>0?(e(),s("li",U2,F2)):c("",!0),p.value.length==0?(e(),s("li",E2,V2)):c("",!0),t("div",M2,[(e(!0),s(H,null,K(p.value,(_,w)=>(e(),s("li",{class:"dropdown-item user-li",key:w},[t("a",{href:"#",class:"notili",onClick:X(v=>$(_),["prevent"])},[t("div",R2,[t("div",j2,[I2,B2,t("small",Y2,[B(U,{class:et("sub-ago"),datetime:_.created_at},null,8,["datetime"])]),t("div",null,[O2,t("p",N2,o(_.caption),1)])])])],8,L2)]))),128))]),q2])])):c("",!0),t("li",H2,[t("a",K2,[t("img",{class:"img-user rounded-circle",src:d.value.image==""?"/img/user.png":"data:"+d.value.extension+";base64,"+d.value.image,alt:""},null,8,G2)]),t("ul",J2,[t("li",z2,[t("div",W2,o(d.value.first_name)+" "+o(d.value.last_name),1)]),X2,t("li",null,[B(A,{class:"dropdown-item",to:{name:"faculty.myaccount"}},{default:W(()=>[T("My Account")]),_:1})]),t("li",null,[B(A,{class:"dropdown-item",to:{name:"publicpage"}},{default:W(()=>[T("Home page")]),_:1})]),Q2,t("li",Z2,[t("button",{type:"button",onClick:g[0]||(g[0]=X(_=>a(),["prevent"])),class:"btn btn-signout btn-sm"},"Sign Out")])])])])])])]),t("div",tx,[B(S)]),B(ee)])}}},sx=lt(ex,[["__scopeId","data-v-1c871556"]]),Ft=D=>(_t("data-v-66655295"),D=D(),mt(),D),ox={class:"container mt-3"},ax={class:"row"},nx={class:"col-12 text-start card head-card"},lx={class:"card-body p-1"},ix={class:"row d-flex justify-content-center"},dx={class:"col-md-3"},cx={class:"col-md-9"},rx={class:"card text-start"},ux={class:"card-header bg-primary d-flex"},px=Ft(()=>t("strong",null," Form",-1)),_x={class:"card-body"},mx={class:"card-body row"},hx={class:"form-group mb-3 col-6"},vx=Ft(()=>t("label",null,"Title",-1)),fx={key:0,class:"text-danger"},bx={class:"form-group mb-3 col-6"},gx=Ft(()=>t("label",null,"Type of Papers",-1)),$x=["value"],yx={key:0,class:"text-danger"},xx={class:"form-group mb-3 col-6"},wx=Ft(()=>t("label",null,"Authors",-1)),kx={key:0,class:"text-danger"},Dx={key:0,class:"form-group mb-3 col-6"},Cx=Ft(()=>t("label",null,"Publication Date",-1)),Sx={key:0,class:"text-danger"},Px={key:1,class:"form-group mb-3 col-6"},Ux=Ft(()=>t("label",null,"Volume/issue numbers",-1)),Ax={key:0,class:"text-danger"},Fx={key:2,class:"form-group mb-3 col-6"},Ex=Ft(()=>t("label",null,"DOI",-1)),Tx={key:0,class:"text-danger"},Vx={key:3,class:"form-group mb-3 col-6"},Mx=Ft(()=>t("label",null,"Abstract",-1)),Lx={key:0,class:"text-danger"},Rx={key:4,class:"form-group mb-3 col-6"},jx=Ft(()=>t("label",null,"Keywords: ...use Comma Sign to seperate words ",-1)),Ix={key:0,class:"text-danger"},Bx={key:5,class:"form-group mb-3 col-12"},Yx=Ft(()=>t("label",null,"Publisher",-1)),Ox={key:0,class:"text-danger"},Nx={class:"btn-group btn-sm mt-3"},qx={class:"card-footer"},Hx=Ft(()=>t("i",{class:"bi bi-eye"},null,-1)),Kx={__name:"FileUpload",setup(D){const f=I=>{const J=("0"+I.getDate()).slice(-2),N=("0"+(I.getMonth()+1)).slice(-2),M=I.getFullYear();return N+"/"+J+"/"+M};st(()=>{R(),O(),U()}),i(null);const d=i([]),p=i([]),a=i({});let n=i([]);const u=i(!1),l=new FormData,$=i(""),h=ft(),b=Tt(),g=i(!0),A=i(!1);at(b,()=>{U()});const U=()=>{b.name==="faculty.upload_p"?(g.value=!0,$.value="PUBLISH",w(),a.value={},l.delete("authors[]"),l.delete("keywords[]"),n.value=[],L()):($.value="ARCHIVE",g.value=!1,w(),a.value={},l.delete("authors[]"),l.delete("keywords[]"),n.value=[],L())},S=()=>({title:"",type_of_paper:"",college_department:"",publication_date:"",issue_numbers:"",abstract:"",doi:"",publisher:""}),_=ct(S()),w=()=>Object.assign(_,S()),v=i("submit"),k=i(!1),m=i(""),y=I=>{let J=I.dataTransfer.files;E(J),Y(J)},x=()=>{let I=document.querySelector(".fileupload").files;E(I),Y(I)},E=I=>{["application/pdf"].includes(I[0].type)?(a.value=I[0],u.value=!1):u.value=!0,L()},L=()=>{a.value.name!=null?k.value=!0:k.value=!1},Q=I=>{let J=document.querySelector(".fileupload");J.value="",a.value={},L(),m.value="",A.value=!1},z=I=>{l.delete("keywords[]"),p.value=I},ot=I=>{l.delete("authors[]"),d.value=I},ut=()=>{v.value="processing...",l.append("upload_type",g.value),l.append("file",a.value),l.append("authors[]",d.value.length>0?JSON.stringify(d.value):[]),l.append("keywords[]",p.value.length>0?JSON.stringify(p.value):[]),l.append("title",_.title),l.append("college_department",_.college_department),l.append("type_of_paper",_.type_of_paper),l.append("abstract",_.abstract),l.append("issue_numbers",_.issue_numbers),l.append("publication_date",_.publication_date==""?"":f(_.publication_date)),l.append("doi",_.doi),l.append("publisher",_.publisher),axios.post("/api/document",l,{headers:{"Content-Type":"multipart/form-data"}}).then(I=>{v.value="submit",w(),l.delete("authors[]"),l.delete("keywords[]"),toast.fire({icon:"success",title:"File Documents Uploaded Successfully!"}),h.push("/faculty/documents"),n.value=[]}).catch(I=>{n.value=I.response.data.errors,v.value="submit"})},it=()=>{u.value=!1},V=i([]),j=i([]),R=()=>{axios.get("/api/list-topapers").then(I=>{V.value=I.data})},O=()=>{axios.get("/api/list-departments").then(I=>{j.value=I.data})},Y=I=>{m.value=window.URL.createObjectURL(I[0])},F=()=>{A.value=!A.value};return(I,J)=>{const N=tt("VueDatePicker"),M=tt("router-link");return e(),s("div",ox,[t("div",ax,[t("div",nx,[t("div",lx,[t("h4",null,[t("i",{class:et(["bi",g.value?"bi-tv":"bi-archive"])},null,2),T(" Â "+o($.value),1)])])])]),t("div",ix,[t("div",dx,[B(oe,{onDrop:y,filePdf:a.value,onDragenter:X(it,["prevent"]),class:et({is_error:u.value}),onRemoveFile:Q,onChange:x},null,8,["filePdf","class"])]),t("div",cx,[t("div",rx,[t("div",ux,[px,m.value!=""?(e(),s("button",{key:0,type:"button",onClick:F,class:"btn btn-outline-success ms-auto"},[t("i",{class:et(["bi text-white",A.value?"bi-eye-slash":"bi-eye"])},null,2)])):c("",!0)]),C(t("div",_x,[m.value!=""?(e(),wt(jt,{key:0,pdfFile:m.value},null,8,["pdfFile"])):c("",!0)],512),[[nt,m.value!=""&&A.value]]),C(t("div",mx,[t("div",hx,[vx,C(t("input",{type:"text","onUpdate:modelValue":J[0]||(J[0]=P=>_.title=P),class:"form-control form-control-sm",placeholder:"Enter Title"},null,512),[[q,_.title]]),r(n).title?(e(),s("span",fx,o(r(n).title[0]),1)):c("",!0)]),t("div",bx,[gx,C(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":J[1]||(J[1]=P=>_.type_of_paper=P)},[(e(!0),s(H,null,K(V.value,(P,G)=>(e(),s("option",{class:"option",key:G,value:P.id},o(P.description),9,$x))),128))],512),[[pt,_.type_of_paper]]),r(n).type_of_paper?(e(),s("span",yx,o(r(n).type_of_paper[0]),1)):c("",!0)]),t("div",xx,[wx,B(Kt,{urlString:"/api/setting-author",onLoadFilter:ot}),r(n)["authors.0"]?(e(),s("span",kx,o(r(n)["authors.0"][0].replace(".0","")),1)):c("",!0)]),g.value?(e(),s("div",Dx,[Cx,B(N,{modelValue:_.publication_date,"onUpdate:modelValue":J[2]||(J[2]=P=>_.publication_date=P),format:f,placeholder:"Enter Publication date"},null,8,["modelValue"]),r(n).publication_date?(e(),s("span",Sx,o(r(n).publication_date[0]),1)):c("",!0)])):c("",!0),g.value?(e(),s("div",Px,[Ux,C(t("input",{type:"text","onUpdate:modelValue":J[3]||(J[3]=P=>_.issue_numbers=P),class:"form-control form-control-sm",placeholder:"Enter Issue Numbers"},null,512),[[q,_.issue_numbers]]),r(n).issue_numbers?(e(),s("span",Ax,o(r(n).issue_numbers[0]),1)):c("",!0)])):c("",!0),g.value?(e(),s("div",Fx,[Ex,C(t("input",{type:"text","onUpdate:modelValue":J[4]||(J[4]=P=>_.doi=P),class:"form-control form-control-sm",placeholder:"Enter DOI"},null,512),[[q,_.doi]]),r(n).doi?(e(),s("span",Tx,o(r(n).doi[0]),1)):c("",!0)])):c("",!0),g.value?(e(),s("div",Vx,[Mx,C(t("textarea",{"onUpdate:modelValue":J[5]||(J[5]=P=>_.abstract=P),class:"form-control form-control-sm",placeholder:"Enter Abstract"},null,512),[[q,_.abstract]]),r(n).abstract?(e(),s("span",Lx,o(r(n).abstract[0]),1)):c("",!0)])):c("",!0),g.value?(e(),s("div",Rx,[jx,B(Nt,{onShowData:z}),r(n)["keywords.0"]?(e(),s("span",Ix,o(r(n)["keywords.0"][0].replace(".0","")),1)):c("",!0)])):c("",!0),g.value?(e(),s("div",Bx,[Yx,C(t("input",{type:"text","onUpdate:modelValue":J[6]||(J[6]=P=>_.publisher=P),class:"form-control form-control-sm",placeholder:"Enter Publisher"},null,512),[[q,_.publisher]]),r(n).publisher?(e(),s("span",Ox,o(r(n).publisher[0]),1)):c("",!0)])):c("",!0),t("div",Nx,[k.value?(e(),s("button",{key:0,type:"button",onClick:X(ut,["prevent"]),class:"btn btn-primary"},o(v.value),1)):c("",!0)])],512),[[nt,!A.value]]),t("div",qx,[B(M,{to:{name:"faculty.documents"}},{default:W(()=>[Hx,T(" View uploaded documents ")]),_:1})])])])])])}}},Xt=lt(Kx,[["__scopeId","data-v-66655295"]]),Gx={class:"container mt-5"},Jx={class:"row"},zx={class:"col-12 mb-3 mb-lg-5"},Wx={class:"overflow-hidden card table-nowrap table-card"},Xx=t("div",{class:"card-header d-flex justify-content-between align-items-center"},[t("h4",null,[t("i",{class:"bi bi-file-earmark-arrow-up"}),T(" Â Document Request")])],-1),Qx={class:"d-flex"},Zx={class:"input-group input-group-sm p-2"},tw=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),ew={class:"input-group input-group-sm p-2"},sw=t("option",{value:""},"Choose...",-1),ow=t("option",{value:0},"Publish",-1),aw=t("option",{value:1},"Achive",-1),nw=[sw,ow,aw],lw=t("label",{class:"input-group-text bg-select",for:"inputGroupSelect02"},"Upload Type",-1),iw={class:"table-responsive"},dw={class:"table mb-0"},cw=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Title"),t("th",null,"Document Files"),t("th",null,"Type of Papers"),t("th",null,"Date uploaded"),t("th",null,"Status"),t("th",null,"Upload Type"),t("th",{class:"text-end"},"Action")])],-1),rw={class:"d-flex align-items-center"},uw=t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1),pw={class:"text-primary"},_w={class:"d-flex justify-content-start row"},mw={class:"col img-uploaded d-flex mr-5"},hw=t("img",{class:"table-img d-flex",src:"/img/pdf.jpg"},null,-1),vw={class:"title truncate"},fw={class:"text-end"},bw={class:"drodown"},gw=t("a",{"data-bs-toggle":"dropdown",href:"#",class:"p-1","aria-expanded":"false"},[t("i",{class:"bi bi-list list-primary"})],-1),$w={class:"dropdown-menu dropdown-menu-end dd-bg",style:{}},yw=["onClick"],xw={colspan:"6"},ww={key:0,class:"mt-2 d-flex justify-content-end me-2","aria-label":"..."},kw={class:"pagination pagination-sm custom-page"},Dw=["innerHTML","onClick"],Cw={__name:"UploadedFile",setup(D){const f=i([]);let d=i([]),p=i(""),a=i("");const n=i([]);st(()=>{l(),h()});const u=S=>ht(S).format("MMMM D, YYYY | hh:mm a"),l=()=>{axios.get("/api/document?search="+p.value+"&filter="+a.value).then(S=>{f.value=S.data.data,d.value=S.data.links})};at(p,()=>{l()});const $=S=>{!S.url||S.active||axios.get(S.url).then(_=>{f.value=_.data.data,d.value=_.data.links})},h=()=>{axios.get("/api/list-topapers").then(S=>{n.value=S.data})},b=S=>{let _="";return n.value.forEach(w=>{S.type_of_paper_id===w.id&&(_=w.description)}),_},g=S=>{Swal.fire({title:"Are you sure? "+S.title,text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes, delete it!"}).then(_=>{_.isConfirmed&&axios.delete(`/api/document/${S.id}`).then(w=>{Swal.fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success",confirmButtonColor:"#26884b"}),l()})})},A=S=>S==null?!0:S.length>0,U=()=>{l()};return(S,_)=>{const w=tt("router-link");return e(),s("div",Gx,[t("div",Jx,[t("div",zx,[t("div",Wx,[Xx,t("div",Qx,[t("div",Zx,[C(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":_[0]||(_[0]=v=>bt(p)?p.value=v:p=v),"aria-describedby":"button-addon1"},null,512),[[q,r(p)]]),tw]),t("div",ew,[C(t("select",{class:"form-select",id:"inputGroupSelect02","onUpdate:modelValue":_[1]||(_[1]=v=>bt(a)?a.value=v:a=v),onChange:U},nw,544),[[pt,r(a)]]),lw])]),t("div",iw,[t("table",dw,[cw,t("tbody",null,[(e(!0),s(H,null,K(f.value,(v,k)=>(e(),s("tr",{class:"align-middle",key:k},[t("td",null,[t("div",rw,[uw,t("strong",pw,o(v.title),1)])]),t("td",null,[t("div",_w,[t("div",mw,[hw,t("span",vw,o(v.document_file!=null?v.document_file.original_name:""),1)])])]),t("td",null,o(b(v)),1),t("td",null,o(u(v.created_at)),1),t("td",null,[B(At,{statusData:v.status},null,8,["statusData"])]),t("td",null,[B(At,{uploadData:v.upload_type},null,8,["uploadData"])]),t("td",fw,[t("div",bw,[gw,t("div",$w,[B(w,{to:{name:"faculty.document",params:{id:v.id}},class:"dropdown-item dd-item"},{default:W(()=>[T("View Data ")]),_:2},1032,["to"]),v.upload_type===0?(e(),wt(w,{key:0,to:{name:"faculty.editupload_p",params:{id:v.id}},class:"dropdown-item dd-item"},{default:W(()=>[T("Edit ")]),_:2},1032,["to"])):c("",!0),v.upload_type===1?(e(),wt(w,{key:1,to:{name:"faculty.editupload_a",params:{id:v.id}},class:"dropdown-item dd-item"},{default:W(()=>[T("Edit ")]),_:2},1032,["to"])):c("",!0),t("a",{href:"#!",onClick:m=>g(v),class:"dropdown-item dd-item"},"Delete ",8,yw)])])])]))),128)),t("tr",null,[C(t("td",xw," No Result Found! ",512),[[nt,!A(f.value)]])])])]),A(f.value)?(e(),s("nav",ww,[t("ul",kw,[(e(!0),s(H,null,K(r(d),(v,k)=>(e(),s("li",{class:"page-item","aria-current":"page",key:k},[t("a",{class:et(["page-link",{active:v.active,disabled:!v.url}]),href:"#",innerHTML:v.label,onClick:m=>$(v)},null,10,Dw)]))),128))])])):c("",!0)])])])])])}}},$t=D=>(_t("data-v-7431bffd"),D=D(),mt(),D),Sw={class:"container mt-3 mb-5"},Pw={class:"row bg-white p-2 m-1 rounded"},Uw={class:"col-md-12 d-flex justify-content-between"},Aw=$t(()=>t("h4",{class:"text-start m-0 mb-3"},[t("span",{class:"bi bi-file-earmark-richtext"}),T(" Document ")],-1)),Fw={class:"btn-group"},Ew=$t(()=>t("hr",null,null,-1)),Tw={class:"col-md-4 col-lg-4"},Vw={class:"card doc-card custom-border"},Mw={class:"side-badge w-auto"},Lw={class:"text-end p-2"},Rw={class:"card-body"},jw=$t(()=>t("div",{class:"main-img mt-2 mb-0"},[t("img",{class:"img-pdf",src:"/img/pdf.jpg"})],-1)),Iw={class:"upload-status border p-2"},Bw={key:0,class:"p-0"},Yw={key:1,class:"text-start txt-grey"},Ow=$t(()=>t("span",{class:"fw-bold"}," DOI:",-1)),Nw={key:2,class:"mt-0 p-0"},qw={key:3,class:"text-start txt-grey"},Hw=$t(()=>t("span",{class:"fw-bold"}," Volume/Issue no.:",-1)),Kw={key:4,class:"mt-0 p-0"},Gw={key:5,class:"text-start txt-grey"},Jw=$t(()=>t("span",{class:"fw-bold"}," Publication:",-1)),zw={key:6,class:"mt-0 p-0"},Ww={key:7,class:"text-start txt-grey"},Xw=$t(()=>t("span",{class:"fw-bold"}," Department:",-1)),Qw={key:8,class:"mt-0 p-0"},Zw={class:"card-footer bg-white p-0"},t0=$t(()=>t("span",{class:"bi bi-download"},null,-1)),e0={class:"text-download"},s0={class:"card-footer bg-pub"},o0={class:"author-list text-start"},a0=$t(()=>t("i",null,"Author/s:",-1)),n0={class:"list-group list-group-flush"},l0={class:"col-md-8 col-lg-8"},i0={class:"card doc-card"},d0={class:"card-body"},c0={class:"content-doc text-primary border border-success border-2 pt-2"},r0={class:"info-doc"},u0={class:"head-title text-start"},p0={class:"abstract"},_0={key:0,class:"blockquote"},m0=$t(()=>t("small",{class:"text-primary"},"Abstract: ",-1)),h0=$t(()=>t("hr",null,null,-1)),v0={key:1,class:"d-flex flex-wrap pub-date"},f0={class:"d-flex custom-w flex-wrap justify-content-start mb-3"},b0=$t(()=>t("span",{class:"key-title"},"Keywords:",-1)),g0=$t(()=>t("span",{class:"label"}," Publication date : ",-1)),$0={class:"content"},y0={class:"row"},x0={class:"col-md-12"},w0={class:"card doc-card mt-3"},k0={class:"d-flex flex-start align-items-center"},D0=["src"],C0={class:"fw-bold text-primary mb-1"},S0={class:"text-muted small mb-0"},P0={class:"mt-2 pb-0"},U0=$t(()=>t("hr",{class:"p-0 m-0"},null,-1)),A0={class:"card-body text-start"},F0=$t(()=>t("h4",null,"Comment & Suggestions",-1)),E0={class:"form-group"},T0={key:0,class:"text-danger"},V0={class:"btn-group mt-3"},M0=$t(()=>t("i",{class:"bi bi-send"},null,-1)),L0={__name:"ViewDocument",setup(D){const f=Tt();ft();const d=f.params.id,p=i({});let a=i([]);const n=i({}),u=i({}),l=i(""),$=i(!1);at(()=>f.params.id,(x,E)=>{h(x),m()}),st(()=>{h(d)});const h=x=>{axios.get("/api/document/"+x).then(E=>{n.value=E.data,u.value=n.value.document_file,p.value=E.data.typeofpaper,U(u.value)})},b=x=>ht(x).format("MMMM D, YYYY"),g=x=>{const E=A(x.base64,x.mime_type),L=document.createElement("a");L.href=URL.createObjectURL(E),L.download=x.original_name,L.click(),URL.revokeObjectURL(L.href)},A=(x,E="",L=512)=>{const Q=atob(x),z=[];for(let ut=0;ut<Q.length;ut+=L){const it=Q.slice(ut,ut+L),V=new Array(it.length);for(let R=0;R<it.length;R++)V[R]=it.charCodeAt(R);const j=new Uint8Array(V);z.push(j)}return new Blob(z,{type:E})},U=x=>{const E=A(x.base64,x.mime_type);l.value=URL.createObjectURL(E)},S=x=>{console.log(x)},_=()=>{$.value=!$.value},w=x=>{window.open(x,"_blank")},v=i("Send");i(!0);const k=ct({message:"",document_id:d,prove:0}),m=()=>{v.value="Sending...",axios.post("/api/admin-feedback",k).then(x=>{h(d),toast.fire({icon:"success",title:"Feedback Message sent!"}),v.value="Send",k.message=""}).catch(x=>{v.value="Send",a.value=x.response.data.errors})},y=x=>x.role==2?"Administrator":x.first_name+" "+x.last_name;return(x,E)=>{const L=tt("router-link"),Q=tt("timeago");return e(),s("div",Sw,[t("div",Pw,[t("div",Uw,[Aw,t("div",null,[t("div",Fw,[n.value.status==0&&n.value.upload_type==0?(e(),wt(L,{key:0,to:{name:"faculty.editupload_p",params:{id:r(d)}},class:"btn btn-outline-success btn-sm"},{default:W(()=>[T("Edit")]),_:1},8,["to"])):c("",!0),n.value.status==0&&n.value.upload_type==1?(e(),wt(L,{key:1,to:{name:"faculty.editupload_a",params:{id:r(d)}},class:"btn btn-outline-success btn-sm"},{default:W(()=>[T("Edit")]),_:1},8,["to"])):c("",!0)])])]),Ew,t("div",Tw,[t("div",Vw,[t("div",Mw,[B(At,{uploadDataView:n.value},null,8,["uploadDataView"])]),t("div",Lw,[t("button",{type:"button",onClick:_,class:"btn btn-outline-success btn-sm"},[t("i",{class:et(["bi",$.value?"bi-eye-slash":"bi-eye"])},null,2)])]),t("div",Rw,[jw,t("div",Iw,[t("strong",null,o(p.value.description),1),B(At,{statusData:n.value.status},null,8,["statusData"])]),n.value.upload_type==0?(e(),s("hr",Bw)):c("",!0),n.value.upload_type==0?(e(),s("div",Yw,[Ow,T(),t("a",{onClick:E[0]||(E[0]=z=>w(n.value.doi)),href:"#"},o(n.value.doi),1)])):c("",!0),n.value.upload_type==0?(e(),s("hr",Nw)):c("",!0),n.value.upload_type==0?(e(),s("div",qw,[Hw,T(" "+o(n.value.issue_numbers),1)])):c("",!0),n.value.upload_type==0?(e(),s("hr",Kw)):c("",!0),n.value.upload_type==0?(e(),s("div",Gw,[Jw,T(" "+o(n.value.publisher),1)])):c("",!0),n.value.upload_type==0?(e(),s("hr",zw)):c("",!0),n.value.upload_type==0?(e(),s("div",Ww,[Xw,T(" "+o(n.value.department!=null?n.value.department.description:""),1)])):c("",!0),n.value.upload_type==0?(e(),s("hr",Qw)):c("",!0)]),t("div",Zw,[t("a",{href:"#",class:"link-download",onClick:E[1]||(E[1]=z=>g(u.value))},[t0,T("Â "),t("small",e0,o(u.value.original_name),1)])]),t("div",s0,[t("div",o0,[a0,t("ul",n0,[(e(!0),s(H,null,K(n.value.authors,(z,ot)=>(e(),s("li",{class:"list-group-item text-primary p-1",key:ot},o(z.first_name)+" "+o(z.middle_name)+" "+o(z.last_name),1))),128))])])])])]),t("div",l0,[t("div",i0,[t("div",d0,[C(t("div",c0,[T(" Infomation "),B(jt,{pdfFile:l.value,onLoaded:S},null,8,["pdfFile"])],512),[[nt,$.value]]),C(t("div",r0,[t("h5",u0,o(n.value.title),1),t("div",p0,[n.value.upload_type==0?(e(),s("blockquote",_0,[m0,T(" "+o(n.value.abstract),1)])):c("",!0),h0,n.value.upload_type==0?(e(),s("div",v0,[t("div",f0,[b0,(e(!0),s(H,null,K(n.value.keywords,(z,ot)=>(e(),s("span",{class:"badge bg-success me-1 mb-1",key:ot},o(z.description),1))),128))]),g0,t("div",$0,o(b(n.value.publication_date)),1)])):c("",!0)])],512),[[nt,!$.value]])])])])]),t("div",y0,[t("div",x0,[t("div",w0,[(e(!0),s(H,null,K(n.value.feedback,(z,ot)=>(e(),s("div",{class:"card-body text-start",key:ot},[t("div",k0,[t("img",{class:"rounded-circle shadow-1-strong me-3",src:z.sender.image==null?"/img/user.png":"data:"+z.sender.extension+";base64,"+z.sender.image,alt:"avatar",width:"60",height:"60"},null,8,D0),t("div",null,[t("h6",C0,o(y(z.sender)),1),t("p",S0,[T(" Sent - "),B(Q,{datetime:z.created_at},null,8,["datetime"])])])]),t("p",P0,o(z.message),1),U0]))),128)),t("div",A0,[F0,t("div",E0,[C(t("textarea",{"onUpdate:modelValue":E[2]||(E[2]=z=>k.message=z),class:"form-control w-75",placeholder:"Enter Message"},null,512),[[q,k.message]]),r(a).message?(e(),s("span",T0,o(r(a).message[0]),1)):c("",!0)]),t("div",V0,[t("button",{type:"button",onClick:E[3]||(E[3]=X(z=>m(),["prevent"])),class:"btn btn-primary"},[M0,T(" "+o(v.value),1)])])])])])])])}}},R0=lt(L0,[["__scopeId","data-v-7431bffd"]]),j0={},I0={class:"container mt-3"},B0={class:"nav nav-underline me-3"},Y0={class:"nav-item"},O0={class:"nav-item"},N0={class:"nav-item"},q0={class:"row mt-5"},H0={class:"col-md-12"};function K0(D,f){const d=tt("router-link"),p=tt("router-view");return e(),s("div",I0,[t("ul",B0,[t("li",Y0,[B(d,{class:"nav-link nav-line-link",to:{name:"faculty.published"}},{default:W(()=>[T("Published ")]),_:1})]),t("li",O0,[B(d,{class:"nav-link nav-line-link",to:{name:"faculty.archived"}},{default:W(()=>[T("Archived")]),_:1})]),t("li",N0,[B(d,{class:"nav-link nav-line-link",to:{name:"faculty.canceled"}},{default:W(()=>[T("Canceled")]),_:1})])]),t("div",q0,[t("div",H0,[B(p)])])])}const G0=lt(j0,[["render",K0],["__scopeId","data-v-4adbd199"]]),J0={class:"overflow-hidden card table-nowrap table-card"},z0=t("div",{class:"card-header d-flex justify-content-between align-items-center"},[t("h4",null,[t("i",{class:"bi bi-file-earmark-check"}),T(" Â Published Documents")])],-1),W0={class:"d-flex"},X0={class:"input-group input-group-sm p-2 w-50"},Q0=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),Z0={class:"table-responsive"},tk={class:"table mb-0"},ek=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Title"),t("th",null,"Document Files"),t("th",null,"Type of Papers"),t("th",null,"Date uploaded"),t("th",{class:"text-end"},"Action")])],-1),sk={class:"d-flex align-items-center"},ok=t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1),ak={class:"text-primary"},nk={class:"d-flex justify-content-start row"},lk={class:"col img-uploaded d-flex mr-5"},ik=t("img",{class:"table-img d-flex",src:"/img/pdf.jpg"},null,-1),dk={class:"title truncate"},ck={class:"text-end"},rk={class:"drodown"},uk=t("a",{"data-bs-toggle":"dropdown",href:"#",class:"p-1","aria-expanded":"false"},[t("i",{class:"bi bi-list list-primary"})],-1),pk={class:"dropdown-menu dropdown-menu-end dd-bg",style:{}},_k=["onClick"],mk={colspan:"6"},hk={key:0,class:"mt-2 d-flex justify-content-end me-2","aria-label":"..."},vk={class:"pagination pagination-sm custom-page"},fk=["innerHTML","onClick"],bk={__name:"Published",setup(D){const f=i([]);let d=i([]),p=i("");i("");const a=i([]);st(()=>{u(),$()});const n=U=>ht(U).format("MMMM d, YYYY | hh:mm a"),u=()=>{axios.get("/api/document-published?search="+p.value).then(U=>{f.value=U.data.data,d.value=U.data.links})};at(p,()=>{u()});const l=U=>{!U.url||U.active||axios.get(U.url).then(S=>{f.value=S.data.data,d.value=S.data.links})},$=()=>{axios.get("/api/list-topapers").then(U=>{a.value=U.data})},h=U=>{let S="";return a.value.forEach(_=>{U.type_of_paper_id===_.id&&(S=_.description)}),S},b=U=>U==null?!0:U.length>0,g=U=>U==null?" ":U.original_name,A=U=>{Swal.fire({title:"Are you sure? ",text:"You want to move to archived!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes!",cancelButtonText:"No"}).then(S=>{S.isConfirmed&&axios.delete(`/api/document-to-archived/${U.id}`).then(_=>{Swal.fire({title:"Success!",text:"Your document has been moved",icon:"success",confirmButtonColor:"#26884b"}),u()})})};return(U,S)=>{const _=tt("router-link");return e(),s("div",J0,[z0,t("div",W0,[t("div",X0,[C(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":S[0]||(S[0]=w=>bt(p)?p.value=w:p=w),"aria-describedby":"button-addon1"},null,512),[[q,r(p)]]),Q0])]),t("div",Z0,[t("table",tk,[ek,t("tbody",null,[(e(!0),s(H,null,K(f.value,(w,v)=>(e(),s("tr",{class:"align-middle",key:v},[t("td",null,[t("div",sk,[ok,t("strong",ak,o(w.title),1)])]),t("td",null,[t("div",nk,[t("div",lk,[ik,t("span",dk,o(g(w.document_file)),1)])])]),t("td",null,o(h(w)),1),t("td",null,o(n(w.created_at)),1),t("td",ck,[t("div",rk,[uk,t("div",pk,[B(_,{to:{name:"faculty.document",params:{id:w.id}},class:"dropdown-item dd-item"},{default:W(()=>[T("View Data ")]),_:2},1032,["to"]),t("a",{href:"#",onClick:k=>A(w),class:"dropdown-item dd-item"},"Move to Archived ",8,_k)])])])]))),128)),t("tr",null,[C(t("td",mk," No Result Found! ",512),[[nt,!b(f.value)]])])])]),b(f.value)?(e(),s("nav",hk,[t("ul",vk,[(e(!0),s(H,null,K(r(d),(w,v)=>(e(),s("li",{class:"page-item","aria-current":"page",key:v},[t("a",{class:et(["page-link",{active:w.active,disabled:!w.url}]),href:"#",innerHTML:w.label,onClick:k=>l(w)},null,10,fk)]))),128))])])):c("",!0)])])}}},gk={class:"overflow-hidden card table-nowrap table-card"},$k=t("div",{class:"card-header d-flex justify-content-between align-items-center"},[t("h4",null,[t("i",{class:"bi bi-file-earmark-check"}),T(" Â Archived Documents")])],-1),yk={class:"d-flex"},xk={class:"input-group input-group-sm p-2 w-50"},wk=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),kk={class:"table-responsive"},Dk={class:"table mb-0"},Ck=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Title"),t("th",null,"Document Files"),t("th",null,"Type of Papers"),t("th",null,"Date uploaded"),t("th",{class:"text-end"},"Action")])],-1),Sk={class:"d-flex align-items-center"},Pk=t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1),Uk={class:"text-primary"},Ak={class:"d-flex justify-content-start row"},Fk={class:"col img-uploaded d-flex mr-5"},Ek=t("img",{class:"table-img d-flex",src:"/img/pdf.jpg"},null,-1),Tk={class:"title truncate"},Vk={class:"text-end"},Mk={class:"drodown"},Lk=t("a",{"data-bs-toggle":"dropdown",href:"#",class:"p-1","aria-expanded":"false"},[t("i",{class:"bi bi-list list-primary"})],-1),Rk={class:"dropdown-menu dropdown-menu-end dd-bg",style:{}},jk={colspan:"6"},Ik={key:0,class:"mt-2 d-flex justify-content-end me-2","aria-label":"..."},Bk={class:"pagination pagination-sm custom-page"},Yk=["innerHTML","onClick"],Ok={__name:"Archived",setup(D){const f=i([]);let d=i([]),p=i("");i("");const a=i([]);st(()=>{u(),$()});const n=g=>ht(g).format("MMMM d, YYYY | hh:mm a"),u=()=>{axios.get("/api/document-archived?search="+p.value).then(g=>{f.value=g.data.data,d.value=g.data.links})};at(p,()=>{u()});const l=g=>{!g.url||g.active||axios.get(g.url).then(A=>{f.value=A.data.data,d.value=A.data.links})},$=()=>{axios.get("/api/list-topapers").then(g=>{a.value=g.data})},h=g=>{let A="";return a.value.forEach(U=>{g.type_of_paper_id===U.id&&(A=U.description)}),A},b=g=>g==null?!0:g.length>0;return(g,A)=>{const U=tt("router-link");return e(),s("div",gk,[$k,t("div",yk,[t("div",xk,[C(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":A[0]||(A[0]=S=>bt(p)?p.value=S:p=S),"aria-describedby":"button-addon1"},null,512),[[q,r(p)]]),wk])]),t("div",kk,[t("table",Dk,[Ck,t("tbody",null,[(e(!0),s(H,null,K(f.value,(S,_)=>(e(),s("tr",{class:"align-middle",key:_},[t("td",null,[t("div",Sk,[Pk,t("strong",Uk,o(S.title),1)])]),t("td",null,[t("div",Ak,[t("div",Fk,[Ek,t("span",Tk,o(S.document_file.original_name),1)])])]),t("td",null,o(h(S)),1),t("td",null,o(n(S.created_at)),1),t("td",Vk,[t("div",Mk,[Lk,t("div",Rk,[B(U,{to:{name:"faculty.document",params:{id:S.id}},class:"dropdown-item dd-item"},{default:W(()=>[T("View Data ")]),_:2},1032,["to"])])])])]))),128)),t("tr",null,[C(t("td",jk," No Result Found! ",512),[[nt,!b(f.value)]])])])]),b(f.value)?(e(),s("nav",Ik,[t("ul",Bk,[(e(!0),s(H,null,K(r(d),(S,_)=>(e(),s("li",{class:"page-item","aria-current":"page",key:_},[t("a",{class:et(["page-link",{active:S.active,disabled:!S.url}]),href:"#",innerHTML:S.label,onClick:w=>l(S)},null,10,Yk)]))),128))])])):c("",!0)])])}}},Nk={class:"overflow-hidden card table-nowrap table-card"},qk=t("div",{class:"card-header d-flex justify-content-between align-items-center"},[t("h4",null,[t("i",{class:"bi bi-file-earmark-excel"}),T(" Â Canceled Documents")])],-1),Hk={class:"d-flex"},Kk={class:"input-group input-group-sm p-2"},Gk=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),Jk={class:"input-group input-group-sm p-2"},zk=t("option",{value:""},"Choose...",-1),Wk=t("option",{value:0},"Publish",-1),Xk=t("option",{value:1},"Achive",-1),Qk=[zk,Wk,Xk],Zk=t("label",{class:"input-group-text bg-select",for:"inputGroupSelect02"},"Upload Type",-1),t3={class:"table-responsive"},e3={class:"table mb-0"},s3=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Title"),t("th",null,"Document Files"),t("th",null,"Type of Papers"),t("th",null,"Date uploaded"),t("th",null,"Status"),t("th",null,"Upload Type"),t("th",{class:"text-end"},"Action")])],-1),o3={class:"d-flex align-items-center"},a3=t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1),n3={class:"text-primary"},l3={class:"d-flex justify-content-start row"},i3={class:"col img-uploaded d-flex mr-5"},d3=t("img",{class:"table-img d-flex",src:"/img/pdf.jpg"},null,-1),c3={class:"title truncate"},r3={class:"text-end"},u3={class:"drodown"},p3=t("a",{"data-bs-toggle":"dropdown",href:"#",class:"p-1","aria-expanded":"false"},[t("i",{class:"bi bi-list list-primary"})],-1),_3={class:"dropdown-menu dropdown-menu-end dd-bg",style:{}},m3={colspan:"6"},h3={key:0,class:"mt-2 d-flex justify-content-end me-2","aria-label":"..."},v3={class:"pagination pagination-sm custom-page"},f3=["innerHTML","onClick"],b3={__name:"Canceled",setup(D){const f=i([]);let d=i([]),p=i(""),a=i("");const n=i([]);st(()=>{l(),h()});const u=U=>ht(U).format("MMMM D, YYYY | hh:mm a"),l=()=>{axios.get("/api/document-canceled?search="+p.value+"&filter="+a.value).then(U=>{f.value=U.data.data,d.value=U.data.links})};at(p,()=>{l()});const $=U=>{!U.url||U.active||axios.get(U.url).then(S=>{f.value=S.data.data,d.value=S.data.links})},h=()=>{axios.get("/api/list-topapers").then(U=>{n.value=U.data})},b=U=>{let S="";return n.value.forEach(_=>{U.type_of_paper_id===_.id&&(S=_.description)}),S},g=U=>U==null?!0:U.length>0,A=()=>{l()};return(U,S)=>{const _=tt("router-link");return e(),s("div",Nk,[qk,t("div",Hk,[t("div",Kk,[C(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":S[0]||(S[0]=w=>bt(p)?p.value=w:p=w),"aria-describedby":"button-addon1"},null,512),[[q,r(p)]]),Gk]),t("div",Jk,[C(t("select",{class:"form-select",id:"inputGroupSelect02","onUpdate:modelValue":S[1]||(S[1]=w=>bt(a)?a.value=w:a=w),onChange:A},Qk,544),[[pt,r(a)]]),Zk])]),t("div",t3,[t("table",e3,[s3,t("tbody",null,[(e(!0),s(H,null,K(f.value,(w,v)=>(e(),s("tr",{class:"align-middle",key:v},[t("td",null,[t("div",o3,[a3,t("strong",n3,o(w.title),1)])]),t("td",null,[t("div",l3,[t("div",i3,[d3,t("span",c3,o(w.document_file.original_name),1)])])]),t("td",null,o(b(w)),1),t("td",null,o(u(w.created_at)),1),t("td",null,[B(At,{statusData:w.status},null,8,["statusData"])]),t("td",null,[B(At,{uploadData:w.upload_type},null,8,["uploadData"])]),t("td",r3,[t("div",u3,[p3,t("div",_3,[B(_,{to:{name:"faculty.document",params:{id:w.id}},class:"dropdown-item dd-item"},{default:W(()=>[T("View Data ")]),_:2},1032,["to"])])])])]))),128)),t("tr",null,[C(t("td",m3," No Result Found! ",512),[[nt,!g(f.value)]])])])]),g(f.value)?(e(),s("nav",h3,[t("ul",v3,[(e(!0),s(H,null,K(r(d),(w,v)=>(e(),s("li",{class:"page-item","aria-current":"page",key:v},[t("a",{class:et(["page-link",{active:w.active,disabled:!w.url}]),href:"#",innerHTML:w.label,onClick:k=>$(w)},null,10,f3)]))),128))])])):c("",!0)])])}}},Lt=D=>(_t("data-v-737cf599"),D=D(),mt(),D),g3={class:"container bg-white mt-3 rounded vh-100"},$3={class:"row"},y3={class:"col-md-12 text-start me-4 mt-3"},x3=Lt(()=>t("h4",{class:"m-0"},"Dashboard",-1)),w3=Lt(()=>t("hr",null,null,-1)),k3={class:"col-md-12"},D3={key:0,class:"alert alert-warning alert-dismissible mt-3 text-start",role:"alert"},C3=Lt(()=>t("h4",{class:"alert-heading"},"You need to activate your account!",-1)),S3=Lt(()=>t("hr",null,null,-1)),P3={class:"mb-0"},U3={class:"fw-bold"},A3=Lt(()=>t("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1)),F3={key:1,class:"my-recent text-start"},E3=Lt(()=>t("p",{class:""},"MY RECENT UPLOAD",-1)),T3={class:"table-responsive"},V3={class:"table mb-0"},M3={class:"d-flex align-items-center"},L3=Lt(()=>t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1)),R3={class:"text-primary"},j3={class:"text-abstract w-50"},I3={class:"text-truncate-message"},B3=Lt(()=>t("td",null,null,-1)),Y3={__name:"Dashboard",setup(D){const f=h=>ht(h).format("MMMM D, YYYY | hh:mm a"),d=i({});st(()=>{p();const h=window.winsdev.user;window.winsdev.isLoggedin&&h.activate==0?u():$()});const p=()=>{axios.get("/api/user").then(h=>{d.value=h.data})},a=h=>{let b=!1;return h.activate===1&&(b=!0),b},n=i({}),u=()=>{axios.get("/api/admin-contact").then(h=>{n.value=h.data})},l=i([]),$=()=>{axios.get("/api/faculty-recent").then(h=>{l.value=h.data})};return(h,b)=>{const g=tt("timeago"),A=tt("router-link");return e(),s("div",g3,[t("div",$3,[t("div",y3,[x3,t("p",null,o(f(new Date)),1),w3]),t("div",k3,[d.value.activate==0?(e(),s("div",D3,[C3,t("p",null,o(n.value.information),1),S3,t("p",P3,[T(" Contact #:Â  "),t("span",U3,o(n.value.contact_number),1)]),A3])):c("",!0),a(d.value)?(e(),s("div",F3,[E3,t("div",T3,[t("table",V3,[t("tbody",null,[(e(!0),s(H,null,K(l.value,(U,S)=>(e(),s("tr",{class:"align-middle",key:S},[t("td",null,[B(A,{to:{name:"faculty.document",params:{id:U.id}}},{default:W(()=>[t("div",M3,[L3,t("strong",R3,o(U.title),1)]),B(g,{class:et("sub-ago"),datetime:U.created_at},null,8,["datetime"])]),_:2},1032,["to"])]),t("td",j3,[t("span",I3,o(U.abstract),1)]),B3]))),128))])])])])):c("",!0)])])])}}},O3=lt(Y3,[["__scopeId","data-v-737cf599"]]),Ut=D=>(_t("data-v-3f7c0c14"),D=D(),mt(),D),N3={class:"container rounded bg-white mb-5 mt-3"},q3={class:"row"},H3={class:"col-md-3 border-right"},K3={class:"d-flex flex-column align-items-center text-center p-3 py-5"},G3=["src"],J3={class:"font-weight-bold"},z3={class:"text-black-50"},W3=Ut(()=>t("span",null,null,-1)),X3={class:"col-md-5 border-right text-start"},Q3={class:"p-3 py-5"},Z3=Ut(()=>t("div",{class:"d-flex justify-content-between align-items-center mb-3"},[t("h4",{class:"text-right"},"Profile Settings")],-1)),t4={class:"row mt-2"},e4={class:"col-md-6"},s4=Ut(()=>t("label",{class:"labels"},"First name",-1)),o4={key:0,class:"text-danger"},a4={class:"col-md-6"},n4=Ut(()=>t("label",{class:"labels"},"Middle Initial",-1)),l4={key:0,class:"text-danger"},i4={class:"col-md-6"},d4=Ut(()=>t("label",{class:"labels"},"Last name",-1)),c4={key:0,class:"text-danger"},r4={class:"row mt-3"},u4={class:"col-md-12"},p4=Ut(()=>t("label",{class:"labels"},"Email",-1)),_4={key:0,class:"text-danger"},m4={class:"mt-5"},h4={class:"col-md-4"},v4={class:"p-3 py-5"},f4=Ut(()=>t("div",{class:"d-flex justify-content-between align-items-center experience"},[t("h4",null,"Change Password")],-1)),b4=Ut(()=>t("br",null,null,-1)),g4={class:"col-md-12 text-start"},$4=Ut(()=>t("label",{class:"labels"},"Password",-1)),y4={key:0,class:"text-danger"},x4={class:"col-md-12 text-start"},w4=Ut(()=>t("label",{class:"labels"},"Password Confirmation",-1)),k4={key:0,class:"text-danger"},D4={class:"mt-5"},C4={class:"modal-dialog"},S4={class:"modal-content"},P4=Ut(()=>t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLabel"},"Profile Picture"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),U4={class:"modal-body text-start mb-3 row"},A4=["src"],F4={class:"modal-footer"},E4=Ut(()=>t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)),T4={__name:"Myaccount",setup(D){const f=i(null);let d=null;st(()=>{h(),d=new Bt(f.value)});const p=new FormData;ft();const a=i({});let n=i([]);const u=i(""),$=ct({first_name:"",middle_initial:"",last_name:"",email:"",id:null,password:"",password_confirmation:""}),h=()=>{axios.get("/api/user").then(k=>{a.value=k.data;let m=k.data;$.first_name=m.first_name,$.middle_initial=m.middle_initial,$.last_name=m.last_name,$.email=m.email,$.id=m.id})},b=()=>{axios.put("/api/users/"+$.id,$).then(k=>{h(),toast.fire({icon:"success",title:"Profile has been modified!"}),n.value=[]}).catch(k=>{n.value=k.response.data.errors})},g=()=>{axios.put("/api/users-password/"+$.id,$).then(k=>{h(),toast.fire({icon:"success",title:"Password has been changed!"}),window.location.href="/sign-in",n.value=[]}).catch(k=>{n.value=k.response.data.errors})},A=()=>{d.show()},U=k=>{document.querySelector(".fileupload").click()},S=k=>{const m=k.target.files||k.dataTransfer.files;u.value=m[0],w(m[0])};let _=i("");const w=k=>{if(_.value=k,k){const m=new FileReader;m.onload=y=>{_.value=y.target.result},m.readAsDataURL(k)}},v=()=>{p.append("file",u.value),axios.post("/api/upload-profile",p,{headers:{"Content-Type":"multipart/form-data"}}).then(k=>{d.hide(),h()})};return(k,m)=>(e(),s("div",N3,[t("div",q3,[t("div",H3,[t("div",K3,[t("img",{class:"rounded-circle mt-5",width:"150px",src:a.value.image==""?"/img/user.png":"data:"+a.value.extension+";base64,"+a.value.image},null,8,G3),t("a",{href:"#",onClick:m[0]||(m[0]=y=>A())},"edit"),t("span",J3,o(a.value.first_name)+" "+o(a.value.middle_initial)+". "+o(a.value.last_name),1),t("span",z3,o(a.value.email),1),W3])]),t("div",X3,[t("div",Q3,[Z3,t("div",t4,[t("div",e4,[s4,C(t("input",{type:"text","onUpdate:modelValue":m[1]||(m[1]=y=>$.first_name=y),class:"form-control",placeholder:"Enter First name",value:""},null,512),[[q,$.first_name]]),r(n).first_name?(e(),s("span",o4,o(r(n).first_name[0]),1)):c("",!0)]),t("div",a4,[n4,C(t("input",{type:"text","onUpdate:modelValue":m[2]||(m[2]=y=>$.middle_initial=y),class:"form-control",value:"",placeholder:"Enter Middle initial"},null,512),[[q,$.middle_initial]]),r(n).middle_initial?(e(),s("span",l4,o(r(n).middle_initial[0]),1)):c("",!0)]),t("div",i4,[d4,C(t("input",{type:"text","onUpdate:modelValue":m[3]||(m[3]=y=>$.last_name=y),class:"form-control",value:"",placeholder:"Enter Last name"},null,512),[[q,$.last_name]]),r(n).last_name?(e(),s("span",c4,o(r(n).last_name[0]),1)):c("",!0)])]),t("div",r4,[t("div",u4,[p4,C(t("input",{type:"text","onUpdate:modelValue":m[4]||(m[4]=y=>$.email=y),class:"form-control",placeholder:"Enter Email",value:""},null,512),[[q,$.email]]),r(n).email?(e(),s("span",_4,o(r(n).email[0]),1)):c("",!0)])]),t("div",m4,[t("button",{class:"btn btn-primary profile-button",onClick:m[5]||(m[5]=X(y=>b(),["prevent"])),type:"button"},"Save Profile")])])]),t("div",h4,[t("div",v4,[f4,b4,t("div",g4,[$4,C(t("input",{type:"Password","onUpdate:modelValue":m[6]||(m[6]=y=>$.password=y),class:"form-control",placeholder:"Enter Password",value:""},null,512),[[q,$.password]]),r(n).password?(e(),s("span",y4,o(r(n).password[0]),1)):c("",!0)]),t("div",x4,[w4,C(t("input",{type:"password","onUpdate:modelValue":m[7]||(m[7]=y=>$.password_confirmation=y),class:"form-control",placeholder:"Enter Password Confirmation",value:""},null,512),[[q,$.password_confirmation]]),r(n).password_confirmation?(e(),s("span",k4,o(r(n).password_confirmation[0]),1)):c("",!0)]),t("div",D4,[t("button",{class:"btn btn-primary profile-button",onClick:m[8]||(m[8]=X(y=>g(),["prevent"])),type:"button"},"Change Password")])])])]),t("div",{class:"modal fade",ref_key:"profilepic",ref:f,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",C4,[t("div",S4,[P4,t("div",U4,[t("img",{src:r(_)==""?"/img/user.png":r(_),class:"rounded mx-auto d-block img-profile",for:"filename"},null,8,A4),t("a",{href:"#",onClick:m[9]||(m[9]=y=>U())},"change profile picture"),t("input",{type:"file",class:"hidden fileupload",onChange:S,accept:".jpeg, .png,.jpg, .ping",id:"filename"},null,32)]),t("div",F4,[t("button",{type:"button",class:"btn btn-primary",onClick:m[10]||(m[10]=y=>v())},"Upload profile"),E4])])])],512)]))}},V4=lt(T4,[["__scopeId","data-v-3f7c0c14"]]),Et=D=>(_t("data-v-9b2fda50"),D=D(),mt(),D),M4={class:"container mt-3"},L4={class:"row"},R4={class:"col-12 text-start card head-card"},j4={class:"card-body p-1"},I4={class:"row d-flex justify-content-center"},B4={class:"col-md-3"},Y4={class:"col-md-9"},O4={key:0,class:"card text-start"},N4={class:"card-header bg-primary d-flex"},q4=Et(()=>t("strong",null," Form",-1)),H4={class:"card-body"},K4={class:"card-body row"},G4={class:"form-group mb-3 col-6"},J4=Et(()=>t("label",null,"Title",-1)),z4={key:0,class:"text-danger"},W4={class:"form-group mb-3 col-6"},X4=Et(()=>t("label",null,"Type of Papers",-1)),Q4=["value"],Z4={key:0,class:"text-danger"},t5={class:"form-group mb-3 col-6"},e5=Et(()=>t("label",null,"Authors",-1)),s5={key:0,class:"text-danger"},o5={key:0,class:"form-group mb-3 col-6"},a5=Et(()=>t("label",null,"Publication Date",-1)),n5={key:0,class:"text-danger"},l5={key:1,class:"form-group mb-3 col-6"},i5=Et(()=>t("label",null,"Volume/issue numbers",-1)),d5={key:0,class:"text-danger"},c5={key:2,class:"form-group mb-3 col-6"},r5=Et(()=>t("label",null,"DOI",-1)),u5={key:0,class:"text-danger"},p5={key:3,class:"form-group mb-3 col-6"},_5=Et(()=>t("label",null,"Abstract",-1)),m5={key:0,class:"text-danger"},h5={key:4,class:"form-group mb-3 col-6"},v5=Et(()=>t("label",null,"Keywords: ...use Comma Sign to seperate words ",-1)),f5={key:0,class:"text-danger"},b5={key:5,class:"form-group mb-3 col-12"},g5=Et(()=>t("label",null,"Publisher",-1)),$5={key:0,class:"text-danger"},y5={class:"btn-group btn-sm mt-3"},x5={class:"card-footer"},w5=Et(()=>t("i",{class:"bi bi-eye"},null,-1)),k5={__name:"EditUpload",setup(D){i(null),i([]);const f=i([]),d=i([]),p=i({});let a=i([]);const n=i(!1),u=new FormData,l=i(""),$=ft(),h=Tt(),b=i(!0),g=i(!1),A=N=>{const M=("0"+N.getDate()).slice(-2),P=("0"+(N.getMonth()+1)).slice(-2),G=N.getFullYear();return P+"/"+M+"/"+G};st(()=>{const N=h.params.id;y(N),Y(),F(),U()}),at(h,()=>{U()});const U=()=>{h.name==="faculty.editupload_p"?(b.value=!0,l.value="PUBLISH",w(),p.value={},a.value=[],Q()):(l.value="ARCHIVE",b.value=!1,w(),p.value={},a.value=[],Q())},S=()=>({title:"",type_of_paper:"",college_department:"",publication_date:"",issue_numbers:"",abstract:"",doi:"",publisher:"",keywords:[],authors:[],upload_type:"",document_file:{}}),_=ct(S()),w=()=>Object.assign(_,S()),v=i("save changes"),k=i(!1),m=i(""),y=N=>{axios.get("/api/document/"+N).then(M=>{let P=M.data;f.value=P.authors,d.value=P.keywords,_.id=P.id,_.title=P.title,_.type_of_paper=P.type_of_paper_id,_.publication_date=P.publication_date,_.abstract=P.abstract,_.doi=P.doi,_.issue_numbers=P.issue_numbers,_.publisher=P.publisher,_.keywords=P.keywords,_.authors=P.authors,_.upload_type=P.upload_type,_.document_file=P.document_file})},x=N=>{let M=N.dataTransfer.files;L(M),I(M)},E=()=>{let N=document.querySelector(".fileupload").files;L(N),I(N)},L=N=>{["application/pdf"].includes(N[0].type)?(p.value=N[0],n.value=!1):n.value=!0,Q()},Q=()=>{p.value.name!=null?k.value=!0:k.value=!1},z=N=>{let M=document.querySelector(".fileupload");M.value="",p.value={},Q(),m.value="",g.value=!1},ot=N=>{_.keywords=N},ut=N=>{_.authors=N},it=()=>{v.value="processing...",axios.put("/api/document/"+_.id,_).then(N=>{toast.fire({icon:"success",title:"Document modefied Successfully!"}),$.push("/faculty/documents"),a.value=[]}).catch(N=>{a.value=N.response.data.errors,v.value="save changes"})},V=()=>{console.log("hello"),u.append("file",p.value),u.append("id",_.id),axios.post("/api/document-upload",u,{headers:{"Content-Type":"multipart/form-data"}}).then(N=>{const M=h.params.id;y(M),p.value={},toast.fire({icon:"success",title:"File Documents Uploaded Successfully!"})}).catch(N=>{})},j=()=>{n.value=!1},R=i([]),O=i([]),Y=()=>{axios.get("/api/list-topapers").then(N=>{R.value=N.data})},F=()=>{axios.get("/api/list-departments").then(N=>{O.value=N.data})},I=N=>{m.value=window.URL.createObjectURL(N[0])},J=()=>{g.value=!g.value};return(N,M)=>{const P=tt("VueDatePicker"),G=tt("router-link");return e(),s("div",M4,[t("div",L4,[t("div",R4,[t("div",j4,[t("h4",null,[t("i",{class:et(["bi",b.value?"bi-tv":"bi-archive"])},null,2),T(" Â "+o(l.value),1)])])])]),t("div",I4,[t("div",B4,[B(ae,{onDrop:x,onSaveUpload:V,dbpdf:_.document_file,filePdf:p.value,onDragenter:X(j,["prevent"]),class:et({is_error:n.value}),onRemoveFile:z,onChange:E},null,8,["dbpdf","filePdf","class"])]),t("div",Y4,[_.id!=null?(e(),s("div",O4,[t("div",N4,[q4,m.value!=""?(e(),s("button",{key:0,type:"button",onClick:J,class:"btn btn-outline-success ms-auto"},[t("i",{class:et(["bi text-white",g.value?"bi-eye-slash":"bi-eye"])},null,2)])):c("",!0)]),C(t("div",H4,[m.value!=""?(e(),wt(jt,{key:0,pdfFile:m.value},null,8,["pdfFile"])):c("",!0)],512),[[nt,m.value!=""&&g.value]]),C(t("div",K4,[t("div",G4,[J4,C(t("input",{type:"text","onUpdate:modelValue":M[0]||(M[0]=Z=>_.title=Z),class:"form-control form-control-sm",placeholder:"Enter Title"},null,512),[[q,_.title]]),r(a).title?(e(),s("span",z4,o(r(a).title[0]),1)):c("",!0)]),t("div",W4,[X4,C(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":M[1]||(M[1]=Z=>_.type_of_paper=Z)},[(e(!0),s(H,null,K(R.value,(Z,Vt)=>(e(),s("option",{class:"option",key:Vt,value:Z.id},o(Z.description),9,Q4))),128))],512),[[pt,_.type_of_paper]]),r(a).type_of_paper?(e(),s("span",Z4,o(r(a).type_of_paper[0]),1)):c("",!0)]),t("div",t5,[e5,B(ne,{urlString:"/api/setting-author",authors:f.value,onLoadFilter:ut},null,8,["authors"]),r(a)["authors.0"]?(e(),s("span",s5,o(r(a)["authors.0"][0].replace(".0","")),1)):c("",!0)]),b.value?(e(),s("div",o5,[a5,B(P,{modelValue:_.publication_date,"onUpdate:modelValue":M[2]||(M[2]=Z=>_.publication_date=Z),format:A,placeholder:"Enter Publication date"},null,8,["modelValue"]),r(a).publication_date?(e(),s("span",n5,o(r(a).publication_date[0]),1)):c("",!0)])):c("",!0),b.value?(e(),s("div",l5,[i5,C(t("input",{type:"text","onUpdate:modelValue":M[3]||(M[3]=Z=>_.issue_numbers=Z),class:"form-control form-control-sm",placeholder:"Enter Issue Numbers"},null,512),[[q,_.issue_numbers]]),r(a).issue_numbers?(e(),s("span",d5,o(r(a).issue_numbers[0]),1)):c("",!0)])):c("",!0),b.value?(e(),s("div",c5,[r5,C(t("input",{type:"text","onUpdate:modelValue":M[4]||(M[4]=Z=>_.doi=Z),class:"form-control form-control-sm",placeholder:"Enter DOI"},null,512),[[q,_.doi]]),r(a).doi?(e(),s("span",u5,o(r(a).doi[0]),1)):c("",!0)])):c("",!0),b.value?(e(),s("div",p5,[_5,C(t("textarea",{"onUpdate:modelValue":M[5]||(M[5]=Z=>_.abstract=Z),class:"form-control form-control-sm",placeholder:"Enter Abstract"},null,512),[[q,_.abstract]]),r(a).abstract?(e(),s("span",m5,o(r(a).abstract[0]),1)):c("",!0)])):c("",!0),b.value?(e(),s("div",h5,[v5,B(Nt,{onShowData:ot,keywords:d.value},null,8,["keywords"]),r(a).keywords?(e(),s("span",f5,o(r(a).keywords[0]),1)):c("",!0)])):c("",!0),b.value?(e(),s("div",b5,[g5,C(t("input",{type:"text","onUpdate:modelValue":M[6]||(M[6]=Z=>_.publisher=Z),class:"form-control form-control-sm",placeholder:"Enter Publisher"},null,512),[[q,_.publisher]]),r(a).publisher?(e(),s("span",$5,o(r(a).publisher[0]),1)):c("",!0)])):c("",!0),t("div",y5,[t("button",{type:"button",onClick:M[7]||(M[7]=X(Z=>it(),["prevent"])),class:"btn btn-primary"},o(v.value),1)])],512),[[nt,!g.value]]),t("div",x5,[B(G,{to:{name:"faculty.documents"}},{default:W(()=>[w5,T(" View uploaded documents ")]),_:1})])])):c("",!0)])])])}}},Qt=lt(k5,[["__scopeId","data-v-9b2fda50"]]),D5=[{path:"/",name:"rechiva",component:Qs,children:[{path:"",name:"publicpage",component:mi},{path:"/sign-in",name:"signin",component:bo},{path:"about",name:"about",component:$i},{path:"/sign-up",name:"signup",component:oa},{path:"/search",name:"search",component:Dn},{path:"/document/:id",name:"main.document",component:Dl}]},{path:"/document/:id",name:"document.edit",component:Ke},{path:"/list-documents",name:"listDocument",component:os},{path:"/doc-viewer",name:"docviewer",component:bs},{path:"/admin",name:"admin",component:Vd,children:[{path:"",name:"dashboard",component:gc},{path:"settings",name:"settings",component:Uc,children:[{path:"",name:"setting.authors",component:ur},{path:"departments",name:"setting.departments",component:qr},{path:"type-of-papers",name:"setting.typeofpapers",component:$u}]},{path:"request",name:"admin.request",component:Zu},{path:"request-document/:id",name:"admin.requestdoc",component:Jh},{path:"published",name:"admin.published",component:Vp},{path:"archived",name:"admin.archived",component:u_},{path:"canceled",name:"admin.canceled",component:N_},{path:"account",name:"admin.account",component:Mm},{path:"users",name:"admin.users",component:tb},{path:"user/:id",name:"admin.user",component:Eb},{path:"upload-document",name:"admin.upload_p",component:zt},{path:"upload-document-archive",name:"admin.upload_a",component:zt},{path:"upload-edit-publish/:id",name:"admin.editupload_p",component:Wt},{path:"upload-edit-archive/:id",name:"admin.editupload_a",component:Wt},{path:"report",name:"admin.report",component:s2}]},{path:"/faculty",name:"faculty",component:sx,children:[{path:"",name:"faculty.dashboard",component:O3},{path:"upload-publish",name:"faculty.upload_p",component:Xt},{path:"upload-archive",name:"faculty.upload_a",component:Xt},{path:"upload-edit-publish/:id",name:"faculty.editupload_p",component:Qt},{path:"upload-edit-archive/:id",name:"faculty.editupload_a",component:Qt},{path:"documents",name:"faculty.documents",component:Cw},{path:"document/:id",name:"faculty.document",component:R0},{path:"myaccount",name:"faculty.myaccount",component:V4},{path:"approved-docs",name:"faculty.approved",component:G0,children:[{path:"published",name:"faculty.published",component:bk},{path:"archived",name:"faculty.archived",component:Ok},{path:"canceled",name:"faculty.canceled",component:b3}]},{path:"input-tag",name:"faculty.inputtag",component:Kt}]},{path:"/:pathMatch(.*)*",name:"notfound",component:ks}],le=re({history:ue(),routes:D5}),C5=["about","publicpage","rechiva","signin","search","signup","main.document","notfound"],S5=["about","search","main.document","rechiva","publicpage","admin","dashboard","settings","setting.authors","setting.departments","setting.typeofpapers","admin.request","admin.requestdoc","admin.published","admin.archived","admin.account","admin.canceled","notfound","admin.users","admin.user","admin.upload_p","admin.upload_a","admin.editupload_p","admin.editupload_a","admin.report"],P5=["about","rechiva","publicpage","signin","search","signup","main.document","notfound","faculty","faculty.upload_a","faculty.upload_p","faculty.documents","faculty.document","faculty.approved","faculty.published","faculty.canceled","faculty.archived","faculty.myaccount","faculty.dashboard","faculty.editupload_p","faculty.editupload_a"],U5=["about","rechiva","publicpage","signin","main.document","search","signup","notfound","faculty","faculty.dashboard","faculty.myaccount"];le.beforeEach((D,f,d)=>{if(window.winsdev.isLoggedin){let p=window.winsdev.user;return S5.includes(D.name)&&p.role===2?d():p.role===1?P5.includes(D.name)&&p.activate==1||U5.includes(D.name)&&p.activate==0?d():d({name:"notfound"}):d({name:"notfound"})}else return C5.includes(D.name)?d():d({name:"notfound"})});window.PSPDFKit=ge;qt.defaults.withCredentials=!0;qt.defaults.baseURL="/";window.Swal=te;const A5=te.mixin({toast:!0,position:"center",timer:2e3,showConfirmButton:!1,timerProgressBar:!0});window.toast=A5;const Gt=de(ke);Gt.use($e);Gt.component("VueDatePicker",ce);Gt.use(le).mount("#app");
