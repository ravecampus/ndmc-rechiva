import{a as qt}from"./axios-CdtiCRuU.js";import{b1 as et,e,v as xt,r as ct,a as l,o as ot,f as s,B as t,L as S,bu as Y,p as u,E as o,x as r,F as q,i as H,A as st,aZ as _t,aW as mt,g as B,J as E,j as Z,N as Yt,D as X,bt as pt,w as lt,bq as Wt,M as nt,ah as Ht,s as bt,ac as de}from"./@vue-DzBqrbP6.js";/* empty css                        */import{V as ce}from"./@vuepic-B_4EERVT.js";import{u as ft,a as Vt,c as re,b as ue}from"./vue-router-Do-2yFwA.js";import{d as ht}from"./dayjs-19KvoO9f.js";import{V as pe}from"./vue3-pdf-app-BdLgcDrN.js";import{$ as Rt}from"./jquery-TReGEqwj.js";import{B as ee}from"./vue-chartjs-li-Ob3no.js";import{C as _e,p as me,a as he,b as ve,c as fe,d as be,L as ge}from"./chart.js-BFjF2n9C.js";import{M as It}from"./bootstrap-BeBKEeZt.js";import{P as $e}from"./pspdfkit-CckChD-A.js";import{S as ye}from"./vue-timeago3-DF_P-prz.js";import{S as se}from"./sweetalert2-DpiOt7ce.js";import"./date-fns-C7_rVUPb.js";import"./vue-IligXus1.js";import"./@kurkle-BZxJdD1U.js";import"./@popperjs-WhmJkuoZ.js";window.axios=qt;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var xe=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));xe.map(function(k){return new bootstrap.Tooltip(k)});const it=(k,b)=>{const c=k.__vccOpts||k;for(const[_,a]of b)c[_]=a;return c},we={};function ke(k,b){const c=et("router-view");return e(),xt(c)}const De=it(we,[["render",ke]]),Ce={class:"container mt-5"},Se={class:"card"},Pe=t("div",{class:"card-header"}," Add Document ",-1),Ae={class:"card-body"},Ue={class:"mb-3 row"},Fe=t("label",{for:"staticEmail",class:"col-sm-2 col-form-label"},"Title",-1),Ee={class:"col-sm-10"},Te={key:0,class:"errors-material"},Ve={class:"mb-3 row"},Me=t("label",{class:"col-sm-2 col-form-label"},"Description",-1),Le={class:"col-sm-10"},Re={key:0,class:"errors-material"},Be={class:"mb-3 row"},je=t("label",{class:"col-sm-2 col-form-label"},"Author",-1),Ie={class:"col-sm-10"},Ye={class:"mb-3 row"},Oe=t("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"Year",-1),Ne={class:"col-sm-10"},qe={class:"mb-3 row"},He=t("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"Type of Paper",-1),Ke={class:"col-sm-10"},Ge={__name:"Two",setup(k){const b=ft(),c=ct({title:"",description:"",author:"",year:"",type_of_paper:"",keywords:""}),_=l(!1),a=Vt();ot(()=>{a.name==="document.edit"&&(n(),_.value=!0)});const n=()=>{axios.get(`/api/document/${a.params.id}`).then(g=>{c.title=g.data.title,c.description=g.data.description})};let p=l([]);const i=()=>{_.value===!0?h():y()},y=()=>{axios.post("/api/document/",c).then(g=>{b.push("/list-documents"),toast.fire({icon:"success",title:"Documents added successfully!"})}).then(g=>{}).catch(g=>{g.response.status==422&&(p.value=g.response.data.errors)})},h=()=>{axios.put(`/api/document/${a.params.id}`,c).then(g=>{b.push("/list-documents"),toast.fire({icon:"success",title:"Documents update successfully!"})}).then(g=>{}).catch(g=>{g.response.status==422&&(p.value=g.response.data.errors)})};return(g,$)=>(e(),s("div",Ce,[t("div",Se,[Pe,t("div",Ae,[t("div",Ue,[Fe,t("div",Ee,[S(t("input",{type:"text",class:"form-control","onUpdate:modelValue":$[0]||($[0]=U=>c.title=U),id:"staticEmail"},null,512),[[Y,c.title]]),u(p).title?(e(),s("span",Te,o(u(p).title[0]),1)):r("",!0)])]),t("div",Ve,[Me,t("div",Le,[S(t("input",{type:"text","onUpdate:modelValue":$[1]||($[1]=U=>c.description=U),class:"form-control"},null,512),[[Y,c.description]]),u(p).description?(e(),s("span",Re,o(u(p).description[0]),1)):r("",!0)])]),t("div",Be,[je,t("div",Ie,[S(t("input",{type:"password","onUpdate:modelValue":$[2]||($[2]=U=>c.author=U),class:"form-control"},null,512),[[Y,c.author]])])]),t("div",Ye,[Oe,t("div",Ne,[S(t("input",{type:"password","onUpdate:modelValue":$[3]||($[3]=U=>c.year=U),class:"form-control"},null,512),[[Y,c.year]])])]),t("div",qe,[He,t("div",Ke,[S(t("input",{type:"password","onUpdate:modelValue":$[4]||($[4]=U=>c.type_of_paper=U),class:"form-control"},null,512),[[Y,c.type_of_paper]])])]),t("button",{type:"button",onClick:i,class:"btn btn-primary"},"save")])])]))}},ze={class:"container mt-5 mb-3"},Je={class:"list-group"},We={class:"list-group-item-heading"},Qe={class:"list-group-item-text"},Ze={class:""},Xe=["onClick"],ts=["onClick"],es={class:"mt-2","aria-label":"..."},ss={class:"pagination"},os=["innerHTML","onClick"],as={__name:"ListOfDocs",setup(k){let b=l([]),c=l([]);const _=ft();ot(async()=>{a()});const a=async()=>{await axios.get("/api/document").then(y=>{b.value=y.data.data,c.value=y.data.links})},n=y=>{!y.url||y.active||axios.get(y.url).then(h=>{b.value=h.data.data,c.value=h.data.links})},p=y=>{_.push("/document/"+y)},i=y=>{Swal.fire({title:"Are you sure? "+y.title,text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(h=>{h.isConfirmed&&axios.delete(`/api/document/${y.id}`).then(g=>{Swal.fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success"}),a()})})};return(y,h)=>(e(),s("div",ze,[t("div",Je,[(e(!0),s(q,null,H(u(b),g=>(e(),s("a",{href:"#",class:"list-group-item",key:g.id},[t("h4",We,o(g.title),1),t("p",Qe,o(g.description),1),t("div",Ze,[t("button",{type:"button",onClick:$=>p(g.id),class:"btn btn-primary"},"Edit",8,Xe),t("button",{type:"button",onClick:$=>i(g),class:"btn btn-danger"},"Delete",8,ts)])]))),128))]),t("nav",es,[t("ul",ss,[(e(!0),s(q,null,H(u(c),(g,$)=>(e(),s("li",{class:"page-item","aria-current":"page",key:$},[t("a",{class:st(["page-link",{active:g.active,disabled:!g.url}]),href:"#",innerHTML:g.label,onClick:U=>n(g)},null,10,os)]))),128))])])]))}},ns={name:"PSPDFKit",props:{wordFile:{type:String,required:!0}},mounted(){this.loadPSPDFKit().then(k=>{this.$emit("loaded",k)})},watch:{wordFile(k){k&&this.loadPSPDFKit()}},methods:{async loadPSPDFKit(){PSPDFKit.unload(".doc-container");const k=new PSPDFKit.ViewState({readOnly:!0});return PSPDFKit.load({licenseKey:"ATi46klU5_QpWWkkfceNCcIkMuN6chgNJ5QOkbLZ7QmbfS1V2qgdRWRHyH2f3gTDcvCjTTUQPa3GqgWzEPC6DKkjTvzbZv75wRbuYAniIHLRddCgA2zP7AHnNMCGms_7Pl9WOe9A5hcbEiF_EpgJQsDRpvEHm3VxcYz2uvWJFecL-wAWzlYAGpE6_sppFu4r66dxAfn4vgEEclJ4",document:this.wordFile,container:".doc-container",initialViewState:k}).then(b=>{b.exportPDF()})}},beforeUnmount(){PSPDFKit.unload(".doc-container")}},ls=k=>(_t("data-v-e830c4e9"),k=k(),mt(),k),is=ls(()=>t("div",{class:"doc-container"},null,-1)),ds=[is];function cs(k,b,c,_,a,n){return e(),s("div",null,ds)}const rs=it(ns,[["render",cs],["__scopeId","data-v-e830c4e9"]]),us={data(){return{wordFile:this.wordFile||"data:application/pdf;base64"}},components:{PSPDFKitContainer:rs},methods:{handleLoaded(k){console.log(k.exportPDF()),k.exportPDF()},openDocument(){this.wordFile&&window.URL.revokeObjectURL(this.wordFile),this.wordFile=window.URL.createObjectURL(event.target.files[0])}}},ps={id:"app"},_s=t("label",{for:"file-upload",class:"custom-file-upload"}," Open Word ",-1),ms={class:"container"},hs={class:"row"},vs={class:"col-md-8"},fs=t("div",{class:"sample"},null,-1);function bs(k,b,c,_,a,n){const p=et("PSPDFKitContainer");return e(),s("div",ps,[_s,t("input",{id:"file-upload",type:"file",onChange:b[0]||(b[0]=(...i)=>n.openDocument&&n.openDocument(...i)),class:"btn"},null,32),t("div",ms,[t("div",hs,[t("div",vs,[B(p,{wordFile:a.wordFile,onLoaded:n.handleLoaded},null,8,["wordFile","onLoaded"])])])]),fs])}const gs=it(us,[["render",bs]]),Kt=k=>(_t("data-v-232ce906"),k=k(),mt(),k),$s={class:"container page-notfound"},ys=Kt(()=>t("h1",{class:"font-title"},"Page not found!",-1)),xs=Kt(()=>t("p",{class:"sub-font"},"Notre Dame of Midsayap College - Rechiva ",-1)),ws=Kt(()=>t("i",{class:"bi bi-arrow-clockwise"},null,-1)),ks={__name:"NotFound",setup(k){const b=()=>{window.location.reload()};return(c,_)=>(e(),s("div",$s,[ys,xs,t("button",{type:"button",onClick:_[0]||(_[0]=a=>b()),class:"btn btn-outline-success btn-sm"},[ws,E(" Reload ")])]))}},Ds=it(ks,[["__scopeId","data-v-232ce906"]]),jt=k=>(_t("data-v-24f49949"),k=k(),mt(),k),Cs={class:"footer d-print-none"},Ss={class:"row"},Ps=jt(()=>t("div",{class:"col-md-6 text-start"},[t("div",{class:"site-name"}," RECHIVA | NDMC Research and Department Center "),E(" Quezon Avenue, Midsayap, Cotabato 9410 ")],-1)),As={class:"col-md-6 p-0 text-end"},Us=jt(()=>t("section",{class:"mb-4 text-white"},[t("a",{"data-mdb-ripple-init":"",class:"btn btn-link btn-floating btn-lg text-light m-1",href:"#!",role:"button","data-mdb-ripple-color":"dark"},[t("i",{class:"bi bi-facebook"})]),t("a",{"data-mdb-ripple-init":"",class:"btn btn-link btn-floating btn-lg text-light m-1",href:"#!",role:"button","data-mdb-ripple-color":"dark"},[t("i",{class:"bi bi-twitter"})]),t("a",{"data-mdb-ripple-init":"",class:"btn btn-link btn-floating btn-lg text-light m-1",href:"#!",role:"button","data-mdb-ripple-color":"dark"},[t("i",{class:"bi bi-google"})]),t("a",{"data-mdb-ripple-init":"",class:"btn btn-link btn-floating btn-lg text-light m-1",href:"#!",role:"button","data-mdb-ripple-color":"dark"},[t("i",{class:"bi bi-instagram"})]),t("a",{"data-mdb-ripple-init":"",class:"btn btn-link btn-floating btn-lg text-light m-1",href:"#!",role:"button","data-mdb-ripple-color":"dark"},[t("i",{class:"bi bi-linkedin"})])],-1)),Fs={key:0,class:"btn-group dropup"},Es=jt(()=>t("button",{type:"button",class:"btn btn-sm btn-outline-light dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"}," Join us   ",-1)),Ts={class:"dropdown-menu"},Vs=jt(()=>t("i",{class:"bi bi-box-arrow-in-right"},null,-1)),Ms=jt(()=>t("i",{class:"bi bi-box-arrow-in-left"},null,-1)),Ls=jt(()=>t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),Rs={__name:"Footer",setup(k){const b=l(!1);return ot(()=>{window.winsdev.isLoggedin?b.value=!0:b.value=!1}),(c,_)=>{const a=et("router-link");return e(),s("div",Cs,[t("div",Ss,[Ps,t("div",As,[Us,b.value?r("",!0):(e(),s("div",Fs,[Es,t("ul",Ts,[t("li",null,[B(a,{class:"dropdown-item",to:{name:"signin"}},{default:Z(()=>[Vs,E(" Sign In ")]),_:1})]),t("li",null,[B(a,{class:"dropdown-item",to:{name:"signup"}},{default:Z(()=>[Ms,E(" Sign Up ")]),_:1})]),Ls])]))])])])}}},Gt=it(Rs,[["__scopeId","data-v-24f49949"]]),Bs={class:"bg-header-main"},js={class:"navbar navbar-expand-lg bg-light mb-0 custom-nav main-nav fixed-top"},Is={class:"container-fluid"},Ys={class:"main-brand"},Os=t("div",{class:"brand-name"},[t("img",{src:"/img/ndmc.png",class:"logo-main"}),t("img",{src:"/img/research.png",class:"sub-logo"})],-1),Ns=t("div",{class:"d-md-inline-flex d-lg-inline-flex"},[t("div",{class:"logo-text d-none d-lg-block d-xl-block d-md-block"}," RECHIVA"),t("img",{src:"/img/rechiva.png",class:"logo-app"})],-1),qs=t("button",{class:"btn btn-outline-success d-inline-block d-lg-none",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[t("i",{class:"fa fa-bars"})],-1),Hs={class:"collapse navbar-collapse",id:"navbarSupportedContent"},Ks={class:"navbar-nav mb-2 mb-lg-0 ms-auto"},Gs={class:"nav-item nav-cus mb-nav"},zs={class:"nav-item nav-cus mb-nav"},Js={class:"nav-item nav-cus mb-nav"},Ws={class:"navbar-nav mb-2 mb-lg-0 ms-auto"},Qs={class:"nav-item dropdown nav-cus mb-nav"},Zs={class:"content-body"},Xs={__name:"Mainpage",setup(k){const b=l({}),c=l(!1),_=()=>{b.value=window.winsdev.user},a=()=>{b.value.role===2?n.push("/admin"):n.push("/faculty")},n=ft();ot(()=>{_(),p(),window.winsdev.isLoggedin?c.value=!0:c.value=!1;let i=window.winsdev.user;window.winsdev.isLoggedin&&i.role});const p=()=>{axios.post("/api/visitor").then(i=>{})};return(i,y)=>{const h=et("router-link"),g=et("router-view");return e(),s("div",Bs,[t("nav",js,[t("div",Is,[t("div",Ys,[B(h,{to:{name:"publicpage"},class:"d-inline-flex p-0"},{default:Z(()=>[Os,Ns]),_:1})]),qs,t("div",Hs,[t("ul",Ks,[t("li",Gs,[B(h,{class:"nav-link",to:{name:"publicpage"}},{default:Z(()=>[E(" Home ")]),_:1})]),t("li",zs,[B(h,{class:"nav-link",to:{name:"about"}},{default:Z(()=>[E(" About ")]),_:1})]),t("li",Js,[B(h,{to:{name:"search"},class:"nav-link"},{default:Z(()=>[E(" Search ")]),_:1})])]),t("ul",Ws,[t("li",Qs,[c.value?(e(),s("button",{key:0,type:"button",class:"btn btn-outline-success",onClick:y[0]||(y[0]=$=>a())},"Dashboard")):r("",!0)])])])])]),t("div",Zs,[B(g)]),B(Gt)])}}},to={class:"container mt-5 text-start min-h"},eo={class:"rowc d-flex justify-content-center"},so={class:"col-4"},oo={class:"card login mt-5"},ao=t("div",{class:"card-header header-login d-flex justify-content-center p-0"},[t("img",{class:"img-login",src:"/img/rechiva.png"})],-1),no={class:"card-body"},lo=t("h2",null,"SIGN-IN",-1),io={class:"login-body mt-4"},co={key:0,class:"badge text-danger mb-2"},ro={class:"input-group"},uo=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-envelope-at"})],-1),po=["onKeyup"],_o={key:1,class:"text-danger"},mo={class:"input-group mt-3"},ho=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-braces-asterisk"})],-1),vo=["onKeyup"],fo={key:2,class:"text-danger"},bo=t("div",{class:"row mb-4"},[t("div",{class:"col-md-6 d-flex justify-content-center"}),t("div",{class:"col-md-6 d-flex justify-content-center"})],-1),go={__name:"Signin",setup(k){const b=ft(),c=l("Login"),_=ct({email:"",password:""});let a=l([]);const n=()=>{c.value="Logging...",axios.post("/api/auth/in",_).then(p=>{let i=p.data;i.role===1&&(window.location.href="/faculty"),i.role===2&&(window.location.href="/admin"),c.value="Login",a.value=[]}).catch(p=>{c.value="Login",a.value=p.response.data.errors})};return ot(()=>{let p=window.winsdev.user;window.winsdev.isLoggedin&&p.role===1&&b.push("/faculty"),window.winsdev.isLoggedin&&p.role===2&&b.push("/admin")}),(p,i)=>(e(),s("div",to,[t("div",eo,[t("div",so,[t("div",oo,[ao,t("div",no,[lo,t("div",io,[u(a).errs?(e(),s("div",co,o(u(a).errs[0]),1)):r("",!0),t("div",ro,[uo,S(t("input",{type:"email",onKeyup:Yt(X(n,["prevent"]),["enter"]),"onUpdate:modelValue":i[0]||(i[0]=y=>_.email=y),class:"form-control",placeholder:"Enter Email"},null,40,po),[[Y,_.email]])]),u(a).email?(e(),s("span",_o,o(u(a).email[0]),1)):r("",!0),t("div",mo,[ho,S(t("input",{type:"password",onKeyup:Yt(X(n,["prevent"]),["enter"]),"onUpdate:modelValue":i[1]||(i[1]=y=>_.password=y),class:"form-control",placeholder:"Enter Password"},null,40,vo),[[Y,_.password]])]),u(a).password?(e(),s("span",fo,o(u(a).password[0]),1)):r("",!0),bo,t("button",{type:"button",onClick:X(n,["prevent"]),"data-mdb-button-init":"","data-mdb-ripple-init":"",class:"btn btn-primary btn-block mb-4"},o(c.value),1)])])])])])]))}},$o={class:"container mt-5 text-start min-h"},yo={class:"rowc d-flex justify-content-center"},xo={class:"col-8"},wo={class:"card login"},ko=t("div",{class:"card-header header-login d-flex justify-content-center p-0"},[t("img",{class:"img-login",src:"/img/rechiva.png"})],-1),Do={class:"card-body"},Co=t("h2",null,"SIGN-UP",-1),So={class:"login-body mt-4"},Po={key:0,class:"alert alert-danger"},Ao={class:"row mb-3"},Uo={class:"form-group col-6"},Fo={class:"input-group"},Eo=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-type"})],-1),To={key:0,class:"text-danger"},Vo={class:"form-group col-6"},Mo={class:"input-group"},Lo=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-type"})],-1),Ro={key:0,class:"text-danger"},Bo={class:"row mb-3"},jo={class:"form-group col-6"},Io={class:"input-group"},Yo=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-type"})],-1),Oo={key:0,class:"text-danger"},No={class:"form-group col-6"},qo={class:"input-group"},Ho=t("span",{class:"input-group-text"}," Dept. ",-1),Ko=["value"],Go={key:0,class:"text-danger"},zo={class:"input-group"},Jo=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-envelope-at"})],-1),Wo={key:1,class:"text-danger"},Qo={class:"input-group mt-3"},Zo=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-braces-asterisk"})],-1),Xo={key:2,class:"text-danger"},ta={class:"input-group mt-3"},ea=t("span",{class:"input-group-text"},[t("i",{class:"bi bi-braces-asterisk"})],-1),sa={key:3,class:"text-danger"},oa=t("div",{class:"row mb-4"},null,-1),aa={__name:"Signup",setup(k){const b=ft(),c=l("Submit"),_=l([]);let a=l([]);const n=ct({email:"",password:"",password_confirmation:"",first_name:"",middle_initial:"",last_name:"",college_department:""});ot(()=>{i()});const p=()=>{c.value="Submitting...",axios.post("/api/auth",n).then(y=>{toast.fire({icon:"success",title:"Sign up Sucess!"}),c.value="Submit",b.push({name:"signin"}),a.value=[]}).catch(y=>{c.value="Submit",y.response.status==422&&(a.value=y.response.data.errors)})},i=()=>{axios.get("/api/list-departments").then(y=>{_.value=y.data})};return(y,h)=>(e(),s("div",$o,[t("div",yo,[t("div",xo,[t("div",wo,[ko,t("div",Do,[Co,t("div",So,[u(a).errs?(e(),s("div",Po,o(u(a).errs[0]),1)):r("",!0),t("div",Ao,[t("div",Uo,[t("div",Fo,[Eo,S(t("input",{type:"text","onUpdate:modelValue":h[0]||(h[0]=g=>n.first_name=g),class:"form-control",placeholder:"Enter First name"},null,512),[[Y,n.first_name]])]),u(a).first_name?(e(),s("span",To,o(u(a).first_name[0]),1)):r("",!0)]),t("div",Vo,[t("div",Mo,[Lo,S(t("input",{type:"text","onUpdate:modelValue":h[1]||(h[1]=g=>n.middle_initial=g),class:"form-control",placeholder:"Enter Middle Initial"},null,512),[[Y,n.middle_initial]])]),u(a).middle_initial?(e(),s("span",Ro,o(u(a).middle_initial[0]),1)):r("",!0)])]),t("div",Bo,[t("div",jo,[t("div",Io,[Yo,S(t("input",{type:"text","onUpdate:modelValue":h[2]||(h[2]=g=>n.last_name=g),class:"form-control",placeholder:"Enter Last name"},null,512),[[Y,n.last_name]])]),u(a).last_name?(e(),s("span",Oo,o(u(a).last_name[0]),1)):r("",!0)]),t("div",No,[t("div",qo,[Ho,S(t("select",{class:"form-select","onUpdate:modelValue":h[3]||(h[3]=g=>n.college_department=g),placeholder:"Enter College Department"},[(e(!0),s(q,null,H(_.value,(g,$)=>(e(),s("option",{key:$,value:g.id},o(g.description),9,Ko))),128))],512),[[pt,n.college_department]])]),u(a).college_department?(e(),s("span",Go,o(u(a).college_department[0]),1)):r("",!0)])]),t("div",zo,[Jo,S(t("input",{type:"email","onUpdate:modelValue":h[4]||(h[4]=g=>n.email=g),class:"form-control",placeholder:"Enter Email"},null,512),[[Y,n.email]])]),u(a).email?(e(),s("span",Wo,o(u(a).email[0]),1)):r("",!0),t("div",Qo,[Zo,S(t("input",{type:"password","onUpdate:modelValue":h[5]||(h[5]=g=>n.password=g),class:"form-control",placeholder:"Enter Password"},null,512),[[Y,n.password]])]),u(a).password?(e(),s("span",Xo,o(u(a).password[0]),1)):r("",!0),t("div",ta,[ea,S(t("input",{type:"password","onUpdate:modelValue":h[6]||(h[6]=g=>n.password_confirmation=g),class:"form-control",placeholder:"Enter Password Confirmation"},null,512),[[Y,n.password_confirmation]])]),u(a).password_confirmation?(e(),s("span",sa,o(u(a).password_confirmation[0]),1)):r("",!0),oa,t("button",{type:"button",onClick:X(p,["prevent"]),"data-mdb-button-init":"","data-mdb-ripple-init":"",class:"btn btn-primary btn-block mb-4"},o(c.value),1)])])])])])]))}},Dt=k=>(_t("data-v-35cc1026"),k=k(),mt(),k),na={class:"card mt-3 card-search mh-card"},la={class:"card-body"},ia={class:"row"},da={class:"col-md-3 text-start"},ca={class:"d-flex justify-content-between"},ra=Dt(()=>t("h4",null,"Filters :",-1)),ua=Dt(()=>t("i",{class:"bi bi-arrow-clockwise"},null,-1)),pa={class:"text-start mb-4 filter-card mt-2 p-2"},_a=Dt(()=>t("small",null,"College Department",-1)),ma=Dt(()=>t("option",{value:"0",selected:""},"All Department",-1)),ha=["value"],va={class:"card filter-card p-0"},fa={class:"card-body p-1"},ba=Dt(()=>t("small",null,"Authors",-1)),ga={class:"author-tag"},$a=["onClick"],ya={class:"author-filter overflow-auto mt-1"},xa={class:"form-check"},wa=["onUpdate:modelValue","onChange","value","id"],ka=["for"],Da={key:0},Ca={class:"card-footer"},Sa={class:"input-group input-group-sm"},Pa=Dt(()=>t("i",{class:"bi bi-search"},null,-1)),Aa=[Pa],Ua={class:"card filter-card p-0"},Fa={class:"card-body p-1"},Ea=Dt(()=>t("small",null,"Type of Papers",-1)),Ta={class:"author-tag"},Va=["onClick"],Ma={class:"author-filter overflow-auto mt-1"},La={class:"form-check"},Ra=["onUpdate:modelValue","onChange","value","id"],Ba=["for"],ja={key:0},Ia={class:"card filter-card p-0"},Ya={class:"card-body p-1 pb-5"},Oa=Dt(()=>t("small",null,"Publication Date",-1)),Na={class:"text-danger"},qa={class:"d-flex justify-content-between"},Ha={class:"form-group me-1"},Ka=Dt(()=>t("label",null,"From:",-1)),Ga={class:"form-group"},za=Dt(()=>t("label",null,"To:",-1)),Ja={class:"col-md-9"},Wa={class:"row mb-2"},Qa={class:"col-md-12"},Za={class:"message text-truncate-message",style:{"max-width":"100em"}},Xa={class:"keyword"},tn={key:0,class:"card filter-card"},en={class:"card-body"},sn=Dt(()=>t("h4",null,"No result found! ",-1)),on=Dt(()=>t("i",{class:"bi bi-arrow-clockwise"},null,-1)),an={class:"mt-4"},nn={class:"pagination pagination-sm custom-page custom-paginate"},ln=["innerHTML","onClick"],dn={__name:"SearchContent",props:["authors","typeofpapers","departments","filterResult","links","infomessage"],emits:["search","authorfeedback","typeoffeedback","changePage","departmentselected","dateyear","reload"],setup(k,{emit:b}){const c=l([]),_=l([]),a=l([]),n=l([]),p=l([]),i=l([]),y=l(""),h=l(""),g=l(!0);l([]);const $=k,U=b,P=l(new Date().getFullYear()),C=l(new Date().getFullYear()),d=(V,N)=>{V.forEach((T,K)=>{if(T){const O=i.value.filter(A=>A.id==N.id);K==N.id&&O.length==0&&(i.value.push(N),p.value.push(N.id))}!T&&K==N.id&&(i.value.splice(i.value.indexOf(N),1),p.value.splice(p.value.indexOf(N.id),1))}),U("authorfeedback",p.value)},w=(V,N)=>{V.forEach((T,K)=>{if(T){const O=n.value.filter(A=>A.id==N.id);K==N.id&&O.length==0&&(a.value.push(N.id),n.value.push(N))}!T&&K==N.id&&(a.value.splice(a.value.indexOf(N.id),1),n.value.splice(n.value.indexOf(N),1))}),U("typeoffeedback",a.value)},v=V=>{i.value.splice(i.value.indexOf(V),1),c.value[V.id]=!1,p.value.splice(p.value.indexOf(V.id),1),U("authorfeedback",p.value)},D=V=>{n.value.splice(n.value.indexOf(V),1),_.value[V.id]=!1,a.value.splice(a.value.indexOf(V.id),1),U("typeoffeedback",a.value)},m=V=>{U("search",V)};lt($,()=>{f()});const f=V=>$.filterResult.length==0?g.value=!0:g.value=!1,x=V=>V.length>0,L=V=>{U("changePage",V)},R=()=>{h.value=0,U("departmentselected",h.value),p.value=[],i.value.forEach(V=>{c.value[V.id]=!1}),i.value=[],U("authorfeedback",p.value),a.value=[],n.value.forEach(V=>{_.value[V.id]=!1}),n.value=[],U("typeoffeedback",a.value),C.value=new Date().getFullYear(),P.value=new Date().getFullYear(),U("dateyear",{to:null,from:null}),tt.value=""},W=V=>{U("departmentselected",V)},tt=l(""),dt=()=>{tt.value="",P.value>=C.value?(C.value="",tt.value="From year must greater than To year!"):U("dateyear",{to:C.value,from:P.value})},ut=()=>{C.value=new Date().getFullYear()},Q=()=>{U("reload",null),R()};return(V,N)=>{const T=et("VueDatePicker"),K=et("router-link");return e(),s("div",na,[t("div",la,[t("div",ia,[t("div",da,[t("div",ca,[ra,t("button",{type:"button",onClick:N[0]||(N[0]=O=>R()),class:"btn btn-success btn-sm"},[ua,E(" Reset ")])]),t("div",pa,[_a,S(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":N[1]||(N[1]=O=>h.value=O),onChange:N[2]||(N[2]=X(O=>W(h.value),["prevent"]))},[ma,(e(!0),s(q,null,H($.departments,(O,A)=>(e(),s("option",{key:A,value:O.id},o(O.description),9,ha))),128))],544),[[pt,h.value]])]),t("div",va,[t("div",fa,[ba,t("div",ga,[(e(!0),s(q,null,H(i.value,(O,A)=>(e(),s("div",{class:"badge rounded-pill text-white me-1 mt-1 tag sub-a-tag",key:A},[E(o(O.first_name)+" "+o(O.middle_name)+" "+o(O.last_name)+" ",1),t("i",{class:"bi bi-x-circle close-tag",onClick:j=>v(O)},null,8,$a)]))),128))]),t("ul",ya,[(e(!0),s(q,null,H($.authors,(O,A)=>(e(),s("li",{key:A},[t("div",xa,[S(t("input",{class:"form-check-input","onUpdate:modelValue":j=>c.value[O.id]=j,onChange:j=>d(c.value,O),type:"checkbox",value:O.id,id:O.id},null,40,wa),[[Wt,c.value[O.id]]]),t("label",{class:"form-check-label",for:O.id},o(O.first_name)+" "+o(O.middle_name)+" "+o(O.last_name),9,ka)])]))),128)),$.authors.length==0?(e(),s("li",Da," No result found! ")):r("",!0)])]),t("div",Ca,[t("div",Sa,[S(t("input",{type:"text","onUpdate:modelValue":N[3]||(N[3]=O=>y.value=O),onKeyup:N[4]||(N[4]=X(O=>m(y.value),["prevent"])),class:"form-control",placeholder:"Search..."},null,544),[[Y,y.value]]),t("button",{class:"btn btn-primary",onClick:N[5]||(N[5]=O=>m(y.value)),type:"button",id:"button-addon2"},Aa)])])]),t("div",Ua,[t("div",Fa,[Ea,t("div",Ta,[(e(!0),s(q,null,H(n.value,(O,A)=>(e(),s("div",{class:"badge rounded-pill text-white me-1 mt-1 tag sub-a-tag",key:A},[E(o(O.description)+" ",1),t("i",{class:"bi bi-x-circle close-tag",onClick:j=>D(O)},null,8,Va)]))),128))]),t("ul",Ma,[(e(!0),s(q,null,H($.typeofpapers,(O,A)=>(e(),s("li",{key:A},[t("div",La,[S(t("input",{class:"form-check-input","onUpdate:modelValue":j=>_.value[O.id]=j,onChange:j=>w(_.value,O),type:"checkbox",value:O.id,id:"top"+O.id},null,40,Ra),[[Wt,_.value[O.id]]]),t("label",{class:"form-check-label",for:"top"+O.id},o(O.description),9,Ba)])]))),128)),$.typeofpapers.length==0?(e(),s("li",ja," No result found! ")):r("",!0)])])]),t("div",Ia,[t("div",Ya,[Oa,t("div",null,[t("span",Na,o(tt.value),1)]),t("div",qa,[t("div",Ha,[Ka,B(T,{class:st("me-1"),modelValue:P.value,"onUpdate:modelValue":[N[6]||(N[6]=O=>P.value=O),N[7]||(N[7]=O=>ut())],"year-picker":""},null,8,["modelValue"])]),t("div",Ga,[za,B(T,{modelValue:C.value,"onUpdate:modelValue":[N[8]||(N[8]=O=>C.value=O),N[9]||(N[9]=O=>dt())],"year-picker":""},null,8,["modelValue"])])])])])]),t("div",Ja,[t("div",Wa,[t("div",Qa,o($.infomessage),1)]),(e(!0),s(q,null,H($.filterResult,(O,A)=>(e(),s("div",{class:"content-message-group",key:A},[B(K,{to:{name:"main.document",params:{id:O.id}},class:"title"},{default:Z(()=>[E(o(O.title),1)]),_:2},1032,["to"]),t("div",Za,o(O.abstract),1),t("div",Xa,[(e(!0),s(q,null,H(O.keywords,(j,G)=>(e(),s("span",{class:"kword",key:G},o(j.description)+",",1))),128))])]))),128)),f($.filterResult)?(e(),s("div",tn,[t("div",en,[sn,t("button",{type:"button",onClick:N[10]||(N[10]=O=>Q()),class:"btn btn-outline-success btn-sm"},[on,E(" Reload ")])])])):r("",!0),S(t("nav",an,[t("ul",nn,[(e(!0),s(q,null,H($.links,(O,A)=>(e(),s("li",{class:"page-item","aria-current":"page",key:A},[t("a",{class:st(["page-link text-sm",{active:O.active,disabled:!O.url}]),href:"#",innerHTML:O.label,onClick:j=>L(O)},null,10,ln)]))),128))])],512),[[nt,x($.filterResult)]])])])])])}}},cn=it(dn,[["__scopeId","data-v-35cc1026"]]),oe=k=>(_t("data-v-59905e53"),k=k(),mt(),k),rn={class:"container-fluid mb-5"},un={class:"d-flex justify-content-center"},pn={class:"search w-50 mt-4 position-absolute"},_n={class:"input-group input-group-lg border-white"},mn=oe(()=>t("i",{class:"bi bi-search"},null,-1)),hn=[mn],vn={key:0,class:"search-history"},fn={key:0,class:"clear-search d-flex justify-content-between p-1"},bn=oe(()=>t("span",null,"Search History",-1)),gn={class:"dropdown-con"},$n=["onClick"],yn={class:"d-flex justify-content-center search-display"},xn={class:"message w-100"},wn={class:"title"},kn={key:0},Dn={__name:"SearchData",setup(k){l("");const b=l([]),c=l([]),_=l(""),a=l([]),n=l([]),p=l([]),i=l(""),y=l([]),h=ct({authors:null,typeofpapers:null,search:"",department:0,toyear:null,fromyear:null});ot(()=>{g(),$(),U(),m()});const g=()=>{axios.get("/api/list-author?search="+_.value).then(V=>{c.value=V.data})},$=()=>{axios.get("/api/list-departments").then(V=>{a.value=V.data})},U=()=>{axios.get("/api/list-topapers").then(V=>{n.value=V.data})};lt(_,()=>{g()});const P=V=>{_.value=V},C=V=>{h.authors=V,w()},d=V=>{h.typeofpapers=V,w()},w=()=>{m(),y.value=[],h.search!=""&&D()};let v=[];const D=()=>{let V=JSON.parse(localStorage.getItem("search_history"));v=V,V!=null?V.filter(T=>T.title==h.search).length==0&&(v.length>0?(v.push({title:h.search}),localStorage.setItem("search_history",JSON.stringify(v))):(v.push({title:h.search}),localStorage.setItem("search_history",JSON.stringify(v)))):(v.push({title:h.search}),localStorage.setItem("search_history",JSON.stringify(v)))},m=()=>{i.value="Searching...",axios.get("/api/public-document",{params:h}).then(V=>{i.value="",b.value=V.data.data,p.value=V.data.links})},f=V=>{!V.url||V.active||axios.get(V.url).then(N=>{b.value=N.data.data,p.value=N.data.links})},x=V=>{h.department=V,w()},L=V=>{h.toyear=V.to,h.fromyear=V.from,w()},R=()=>{h.search=""},W=l(!1),tt=l(""),dt=V=>{V.key!="Enter"?axios.get("/api/search-list",{params:h}).then(N=>{if(h.search==""){W.value=!0;let T=JSON.parse(localStorage.getItem("search_history"));T!=null&&(y.value=T.reverse())}else y.value=N.data,W.value=!1}):tt.value=h.search},ut=V=>{h.search=V,w(),tt.value=V},Q=()=>{localStorage.setItem("search_history",JSON.stringify([])),y.value=[]};return(V,N)=>(e(),s("div",rn,[t("div",un,[t("div",pn,[t("div",_n,[S(t("input",{type:"text",class:"form-control","onUpdate:modelValue":N[0]||(N[0]=T=>h.search=T),onKeyup:X(dt,["prevent"]),onFocus:dt,onKeydown:N[1]||(N[1]=Yt(X(T=>w(),["prevent"]),["enter"])),placeholder:"Search..."},null,544),[[Y,h.search]]),t("button",{class:"btn btn-primary",onClick:N[2]||(N[2]=X(T=>w(),["prevent"])),type:"button",id:"button-addon2"},hn)]),y.value.length>0?(e(),s("div",vn,[W.value?(e(),s("div",fn,[bn,t("a",{href:"#",onClick:Q},"clear")])):r("",!0),t("ul",gn,[(e(!0),s(q,null,H(y.value,(T,K)=>(e(),s("li",{class:"list",key:K},[t("a",{class:"link",onClick:X(O=>ut(T.title),["prevent"]),href:"#"},o(T.title),9,$n)]))),128))])])):r("",!0)])]),t("div",yn,[t("div",xn,[t("div",wn,o(tt.value),1),tt.value!=""?(e(),s("span",kn,o(b.value.length)+' item/s found for "'+o(tt.value)+'"',1)):r("",!0)])]),B(cn,{class:st("content-output"),infomessage:i.value,links:p.value,filterResult:b.value,authors:c.value,departments:a.value,typeofpapers:n.value,onSearch:P,onAuthorfeedback:C,onTypeoffeedback:d,onChangePage:f,onDepartmentselected:x,onDateyear:L,onReload:R},null,8,["infomessage","links","filterResult","authors","departments","typeofpapers"])]))}},Cn=it(Dn,[["__scopeId","data-v-59905e53"]]),Sn={key:1},Ft={__name:"GenStatus",props:{statusData:{type:Number,required:!1},uploadData:{type:Number,required:!1},uploadDataView:{type:Object,required:!1}},setup(k){const b=l(""),c=l(!1),_=k;lt(_,()=>{console.log(_.statusData!=null),_.statusData!=null||_.uploadData!=null?(c.value=!0,a(),n()):_.uploadDataView!=null&&(c.value=!1,p())}),ot(()=>{_.statusData!=null||_.uploadData!=null?(c.value=!0,a(),n()):_.uploadDataView!=null&&(c.value=!1,p())});const a=()=>{const i=_.statusData;i===0?b.value="On Checking...":i===1?b.value="Approved":i===2&&(b.value="Disapproved")},n=()=>{const i=_.uploadData;i===0?b.value="Publish":i===1&&(b.value="Archive")},p=()=>{const i=_.uploadDataView;i.status===1&&i.upload_type===0?b.value="Published":i.status===1&&i.upload_type===1?b.value="Archived":i.status===0&&i.upload_type===0?b.value="Publish":i.status===0&&i.upload_type===1?b.value="Archive":i.status===2&&i.upload_type===1?b.value="Not Archived":i.status===2&&i.upload_type===0&&(b.value="Unplublished")};return(i,y)=>(e(),s("div",null,[c.value?(e(),s("div",{key:0,class:st(["badge rounded-pill",_.statusData==2?"bg-danger":"bg-secondary"])},o(b.value),3)):r("",!0),c.value?r("",!0):(e(),s("div",Sn,o(b.value),1))]))}},Pn={__name:"PDFViewer2",props:{pdfFile:{type:Object,required:!0}},setup(k){const b=l({toolbar:{toolbarViewerRight:{download:!1,openFile:!1}}});return(c,_)=>k.pdfFile!=null?(e(),xt(u(pe),{key:0,class:"pdf-index","page-scale":c.page-c.fit,config:b.value,style:{height:"100vh"},pdf:k.pdfFile},null,8,["page-scale","config","pdf"])):r("",!0)}},Bt=it(Pn,[["__scopeId","data-v-a2c8c10f"]]),wt=k=>(_t("data-v-41ce0845"),k=k(),mt(),k),An={class:"container mt-5 mb-5 pt-5"},Un={class:"row bg-white p-2 m-1 rounded"},Fn=wt(()=>t("div",{class:"col-md-12"},[t("h4",{class:"text-start m-0 mb-3"},[t("span",{class:"bi bi-file-earmark-richtext"}),E(" Document ")])],-1)),En=wt(()=>t("hr",null,null,-1)),Tn={class:"col-md-4 col-lg-4"},Vn={class:"card doc-card custom-border"},Mn={class:"side-badge w-auto"},Ln={class:"text-end p-2"},Rn={class:"card-body"},Bn=wt(()=>t("div",{class:"main-img mt-2 mb-0"},[t("img",{class:"img-pdf",src:"/img/pdf.jpg"})],-1)),jn={class:"upload-status border p-2"},In={key:0,class:"p-0"},Yn={key:1,class:"text-start txt-grey"},On=wt(()=>t("span",{class:"fw-bold"}," DOI:",-1)),Nn={key:2,class:"mt-0 p-0"},qn={key:3,class:"text-start txt-grey"},Hn=wt(()=>t("span",{class:"fw-bold"}," Volume/Issue no.:",-1)),Kn={key:4,class:"mt-0 p-0"},Gn={key:5,class:"text-start txt-grey"},zn=wt(()=>t("span",{class:"fw-bold"}," Publication:",-1)),Jn={key:6,class:"mt-0 p-0"},Wn={key:7,class:"text-start txt-grey"},Qn=wt(()=>t("span",{class:"fw-bold"}," Department:",-1)),Zn={key:8,class:"mt-0 p-0"},Xn={class:"card-footer bg-white p-0"},tl=wt(()=>t("span",{class:"bi bi-download"},null,-1)),el={class:"text-download"},sl={class:"card-footer bg-pub"},ol={class:"author-list text-start"},al=wt(()=>t("i",null,"Author/s:",-1)),nl={class:"list-group list-group-flush"},ll={class:"col-md-8 col-lg-8"},il={class:"card doc-card"},dl={class:"card-body"},cl={class:"content-doc text-primary border border-success border-2 pt-2"},rl={class:"info-doc"},ul={class:"head-title text-start"},pl={class:"abstract"},_l={key:0,class:"blockquote"},ml=wt(()=>t("small",{class:"text-primary"},"Abstract: ",-1)),hl={key:1,class:"link-doi mt-3"},vl=wt(()=>t("hr",null,null,-1)),fl={key:2,class:"d-flex flex-wrap pub-date"},bl={class:"d-flex flex-wrap custom-w justify-content-start mb-3"},gl=wt(()=>t("span",{class:"key-title"},"Keywords:",-1)),$l=wt(()=>t("span",{class:"label"}," Publication date : ",-1)),yl={class:"content"},xl={__name:"ViewDocument",setup(k){const b=Vt();ft();const c=b.params.id,_=l({}),a=l({}),n=l({}),p=l(""),i=l(!1);ot(()=>{y(c)});const y=d=>{axios.get("/api/public-document/"+d).then(w=>{a.value=w.data,n.value=a.value.document_file,_.value=w.data.typeofpaper,U(n.value)})},h=d=>ht(d).format("MMMM, YYYY"),g=d=>{const w=$(d.base64,d.mime_type),v=document.createElement("a");v.href=URL.createObjectURL(w),v.download=d.original_name,v.click(),URL.revokeObjectURL(v.href),axios.post("/api/download",{id:d.document_id}).then(D=>{})},$=(d,w="",v=512)=>{const D=atob(d),m=[];for(let x=0;x<D.length;x+=v){const L=D.slice(x,x+v),R=new Array(L.length);for(let tt=0;tt<L.length;tt++)R[tt]=L.charCodeAt(tt);const W=new Uint8Array(R);m.push(W)}return new Blob(m,{type:w})},U=d=>{const w=$(d.base64,d.mime_type);p.value=URL.createObjectURL(w)},P=()=>{y(c),i.value=!i.value},C=d=>{window.open(d,"_blank")};return(d,w)=>(e(),s("div",An,[t("div",Un,[Fn,En,t("div",Tn,[t("div",Vn,[t("div",Mn,[B(Ft,{uploadDataView:a.value},null,8,["uploadDataView"])]),t("div",Ln,[t("button",{type:"button",onClick:P,class:"btn btn-outline-success btn-sm"},[t("i",{class:st(["bi",i.value?"bi-eye-slash":"bi-eye"])},null,2)])]),t("div",Rn,[Bn,t("div",jn,[t("strong",null,o(_.value.description),1)]),a.value.upload_type==0?(e(),s("hr",In)):r("",!0),a.value.upload_type==0?(e(),s("div",Yn,[On,E(),t("a",{onClick:w[0]||(w[0]=v=>C(a.value.doi)),href:"#"},o(a.value.doi),1)])):r("",!0),a.value.upload_type==0?(e(),s("hr",Nn)):r("",!0),a.value.upload_type==0?(e(),s("div",qn,[Hn,E(" "+o(a.value.issue_numbers),1)])):r("",!0),a.value.upload_type==0?(e(),s("hr",Kn)):r("",!0),a.value.upload_type==0?(e(),s("div",Gn,[zn,E(" "+o(a.value.publisher),1)])):r("",!0),a.value.upload_type==0?(e(),s("hr",Jn)):r("",!0),a.value.upload_type==0?(e(),s("div",Wn,[Qn,E(" "+o(a.value.department!=null?a.value.department.description:""),1)])):r("",!0),a.value.upload_type==0?(e(),s("hr",Zn)):r("",!0)]),t("div",Xn,[t("a",{href:"#",class:"link-download",onClick:w[1]||(w[1]=v=>g(n.value))},[tl,E(" "),t("small",el,o(n.value.original_name),1)])]),t("div",sl,[t("div",ol,[al,t("ul",nl,[(e(!0),s(q,null,H(a.value.authors,(v,D)=>(e(),s("li",{class:"list-group-item text-primary p-1",key:D},o(v.first_name)+" "+o(v.middle_name)+" "+o(v.last_name),1))),128))])])])])]),t("div",ll,[t("div",il,[t("div",dl,[S(t("div",cl,[B(Bt,{pdfFile:p.value},null,8,["pdfFile"])],512),[[nt,i.value]]),S(t("div",rl,[t("h5",ul,o(a.value.title),1),t("div",pl,[a.value.upload_type==0?(e(),s("blockquote",_l,[ml,E(" "+o(a.value.abstract),1)])):r("",!0),a.value.upload_type==0?(e(),s("div",hl)):r("",!0),vl,a.value.upload_type==0?(e(),s("div",fl,[t("div",bl,[gl,(e(!0),s(q,null,H(a.value.keywords,(v,D)=>(e(),s("span",{class:"badge bg-success me-1 mb-1",key:D},o(v.description),1))),128))]),$l,t("div",yl,o(h(a.value.publication_date)),1)])):r("",!0)])],512),[[nt,!i.value]])])])])])]))}},wl=it(xl,[["__scopeId","data-v-41ce0845"]]),kt=k=>(_t("data-v-dcad609d"),k=k(),mt(),k),kl={class:"container-fluid"},Dl={class:"row"},Cl=Ht('<div class="col-md-12" data-v-dcad609d><div class="row mt-2" data-v-dcad609d><div class="col-md-3 text-left" data-v-dcad609d><img src="/img/rechiva.png" width="130" height="130" data-v-dcad609d></div><div class="col-md-9 text-start text-white mt-2 rechiva-cap pe-5" data-v-dcad609d><h4 class="title" data-v-dcad609d>RECHIVA</h4><p class="caption" data-v-dcad609d> The Institutional Repository of Notre Dame of Midsayap College </p></div></div></div>',1),Sl={class:"col-md-6 mtop recent-submission ps-5"},Pl={class:"container rs-content"},Al=kt(()=>t("div",{class:"rs-content-head"}," Recent Submissions ",-1)),Ul={class:"title"},Fl={class:"content rs-truncate"},El={class:"col-md-6 mt-4"},Tl={class:"row"},Vl=kt(()=>t("div",{class:"col-md-12 p-0"},[t("div",{class:"link-fb"},[t("a",{target:"_blank",href:"https://www.facebook.com/NDMCResearchandDevelopmentCenter","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Facebook Page NDMC RDC"},[t("img",{class:"img-link",src:"/img/school.png"})])])],-1)),Ml={class:"col-md-12"},Ll={class:"most-download text-start mt-4 bg-white p-2"},Rl=kt(()=>t("h4",{class:"text-uppercase"},"Top most download documents",-1)),Bl={class:"most-list"},jl={class:"most-title text-truncate-message"},Il=kt(()=>t("span",{class:"square"},null,-1)),Yl={class:"most-count"},Ol=kt(()=>t("i",{class:"bi bi-cloud-arrow-down"},null,-1)),Nl={class:"col-md-12 mt-5 d-flex justify-content-around mb-5"},ql={class:"round-info"},Hl={class:"round-icon"},Kl=kt(()=>t("i",{class:"bi bi-people"},null,-1)),Gl={class:"round-count"},zl=kt(()=>t("div",{class:"round-title text-start"},"Total Visitors",-1)),Jl={class:"round-info"},Wl={class:"round-icon"},Ql=kt(()=>t("i",{class:"bi bi-folder-check"},null,-1)),Zl={class:"round-count"},Xl=kt(()=>t("div",{class:"round-title text-start"},"Total Collections",-1)),ti={class:"col-md-12 mt-5 d-flex justify-content-around"},ei={class:"round-info"},si={class:"round-icon"},oi=kt(()=>t("i",{class:"bi bi-box-arrow-in-down"},null,-1)),ai={class:"round-count"},ni=kt(()=>t("div",{class:"round-title text-start"},"Total Downloads",-1)),li={class:"round-info"},ii={class:"round-icon"},di=kt(()=>t("i",{class:"bi bi-people"},null,-1)),ci={class:"round-count"},ri=kt(()=>t("div",{class:"round-title text-start"},"Total Members",-1)),ui={__name:"PublicPage",setup(k){const b=l({});ot(()=>{c(),i(),h(),g()});const c=()=>{axios.get("/api/statistic").then($=>{b.value=$.data})},_=l([]);let a=[],n=[];const p=l([]),i=()=>{axios.get("/api/department-stat").then($=>{_.value=$.data,$.data.forEach(P=>{a.push(P.abbreviation),n.push(P.docs.length)})})},y=l([]),h=()=>{axios.get("/api/recent-submission").then($=>{y.value=$.data})},g=()=>{axios.get("/api/most-download").then($=>{p.value=$.data})};return($,U)=>{const P=et("router-link");return e(),s("div",kl,[t("div",Dl,[Cl,t("div",Sl,[t("div",Pl,[Al,(e(!0),s(q,null,H(y.value,(C,d)=>(e(),s("div",{class:"rs-content-body",key:d},[t("div",Ul,[B(P,{to:{name:"main.document",params:{id:C.id}},class:"link"},{default:Z(()=>[E(o(C.title),1)]),_:2},1032,["to"])]),t("div",Fl,o(C.abstract),1)]))),128))])]),t("div",El,[t("div",Tl,[Vl,t("div",Ml,[t("div",Ll,[Rl,t("ul",Bl,[(e(!0),s(q,null,H(p.value,(C,d)=>(e(),s("li",{class:"d-flex justify-content-between",key:d},[B(P,{to:{name:"main.document",params:{id:C.document_id}}},{default:Z(()=>[t("span",jl,[Il,E(" "+o(C.title),1)])]),_:2},1032,["to"]),t("span",Yl,[E(o(C.download)+" ",1),Ol])]))),128))])])]),t("div",Nl,[t("div",ql,[t("div",Hl,[Kl,t("div",Gl,o(b.value.visitors),1)]),zl]),t("div",Jl,[t("div",Wl,[Ql,t("div",Zl,o(b.value.collections),1)]),Xl])]),t("div",ti,[t("div",ei,[t("div",si,[oi,t("div",ai,o(b.value.downloads),1)]),ni]),t("div",li,[t("div",ii,[di,t("div",ci,o(b.value.members),1)]),ri])])])])])])}}},pi=it(ui,[["__scopeId","data-v-dcad609d"]]),_i={},mi={class:"container mt-5 pt-5"},hi=Ht('<div class="row bg-container" data-v-9d8ed378><div class="col-md-12 mt-3 mb-5" data-v-9d8ed378><div class="head-about" data-v-9d8ed378> About </div></div><div class="col-md-12" data-v-9d8ed378><div class="content-about" data-v-9d8ed378><div class="title" data-v-9d8ed378> RECHIVA </div><p class="content" data-v-9d8ed378>     Is a web-based repository system designed to simplify the management and sharing of research publications in academic institutions. Our platform provides a smooth experience for students, faculty, and administrators to access, submit, and manage scholarly work. </p><p class="content" data-v-9d8ed378>     Acts as a central hub for academic research, making it easy to manage and access publications. We aim to improve the visibility and accessibility of scholarly materials, support collaboration, and promote research excellence. </p></div></div><div class="col-md-6 mt-3" data-v-9d8ed378><div class="content-about" data-v-9d8ed378><div class="title" data-v-9d8ed378> Vision : </div><p class="content text-start text-size" data-v-9d8ed378> Our mission is to support and enrich the academic community by providing a comprehensive, intuitive platform for the management of research publications. We are committed to facilitating seamless collaboration among students, faculty, and administrators. By enhancing the visibility and accessibility of scholarly work, we aim to contribute significantly to the progress of research and education, fostering an environment where academic excellence can thrive. </p></div></div><div class="col-md-6 mt-3" data-v-9d8ed378><div class="content-about" data-v-9d8ed378><div class="title" data-v-9d8ed378> Mission : </div><p class="content text-start text-size" data-v-9d8ed378> To establish ourselves as the leading platform in academic research management, dedicated to advancing knowledge through cutting-edge, user-centric solutions. We envision a future where our innovative tools and services empower the academic community to achieve new heights in research and collaboration. </p></div></div><div class="col-md-12 mt-3" data-v-9d8ed378><div class="contact text-start p-5" data-v-9d8ed378><h4 class="head-title" data-v-9d8ed378>Contact Information:</h4><div class="contact-email" data-v-9d8ed378><div class="title" data-v-9d8ed378> Research and Development Center (RDC): </div><p data-v-9d8ed378> Email address : rdc@ndmc.edu.ph </p></div><div class="contact-social mt-2" data-v-9d8ed378><div class="title" data-v-9d8ed378> Follow Us: </div><p data-v-9d8ed378> Stay connected and updated with our latest news and updates through our social media channels: </p><div class="title" data-v-9d8ed378> Facebook: <a target="_blank" href="https://www.facebook.com/NDMCResearchandDevelopmentCenter" data-v-9d8ed378>https://www.facebook.com/NDMCResearchandDevelopmentCenter</a></div></div></div></div></div>',1),vi=[hi];function fi(k,b){return e(),s("div",mi,vi)}const bi=it(_i,[["render",fi],["__scopeId","data-v-9d8ed378"]]),rt=k=>(_t("data-v-584c9084"),k=k(),mt(),k),gi={class:"navbar navbar-expand-lg bg-light mb-0 bg-header custom-nav d-print-none"},$i={class:"container-fluid"},yi=rt(()=>t("button",{type:"button",class:"btn text-white sidebarCollapse d-inline-block d-lg-none"},[t("i",{class:"fa fa-bars"}),t("span",{class:"sr-only"},"Toggle Menu")],-1)),xi={class:"main-brand"},wi=rt(()=>t("div",{class:"brand-name"},[t("img",{src:"/img/ndmc.png",class:"logo-main"}),t("img",{src:"/img/research.png",class:"sub-logo"})],-1)),ki=rt(()=>t("div",{class:"d-md-inline-flex d-lg-inline-flex"},[t("div",{class:"logo-text d-none d-lg-block d-xl-block d-md-block p-0"}," RECHIVA "),t("img",{src:"/img/rechiva.png",class:"logo-app"})],-1)),Di=rt(()=>t("button",{class:"btn btn-outline-success d-inline-block d-lg-none",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[t("i",{class:"fa fa-bars"})],-1)),Ci={class:"collapse navbar-collapse",id:"navbarSupportedContent"},Si={class:"navbar-nav mb-2 mb-lg-0 ms-auto"},Pi={class:"nav-item nav-cus mb-nav"},Ai=rt(()=>t("span",{class:"bi bi-globe"},null,-1)),Ui={class:"nav-item nav-cus mb-nav"},Fi=rt(()=>t("span",{class:"bi bi-plus-circle"},null,-1)),Ei={class:"nav-item nav-cus mb-nav"},Ti=rt(()=>t("span",{class:"bi bi-plus-circle"},null,-1)),Vi={class:"nav-item nav-cus mb-nav"},Mi=rt(()=>t("span",{class:"bi bi-file-earmark-bar-graph"},null,-1)),Li={class:"nav-item nav-cus cus-pad dropdown"},Ri={class:"nav-link",href:"#"},Bi={class:"bi bi-bell-fill position-relative notify"},ji={key:0,class:"position-absolute top-0 start-100 translate-middle notify-badge"},Ii={class:"dropdown-menu dropdown-menu-end user-menu"},Yi={key:0},Oi=rt(()=>t("div",{class:"ps-2 pe-2"}," Notifications ",-1)),Ni=[Oi],qi={key:1},Hi=rt(()=>t("hr",{class:"dropdown-divider"},null,-1)),Ki=[Hi],Gi={key:2},zi=rt(()=>t("p",{class:"ps-2 pe-2 text-success"},"No notification available!",-1)),Ji=[zi],Wi={class:"noti-div position-relative"},Qi=["onClick"],Zi={class:"notification"},Xi={class:"d-flex flex-start align-items-center"},td=["src"],ed=rt(()=>t("div",{class:"arrow text-success w-100 position-absolute text-end"},[t("i",{class:"bi bi-arrow-right-circle icon-mar"})],-1)),sd={class:"arrow text-success w-100 position-absolute text-end time-ago"},od={class:"fw-bold text-primary mb-1"},ad={class:"text-muted small mb-0"},nd=rt(()=>t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),ld={class:"nav-item dropdown justify-content-center"},id={class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},dd={class:"d-flex"},cd={class:"admin-info d-none d-lg-block d-xl-block"},rd=["src"],ud={class:"dropdown-menu dropdown-menu-end user-menu"},pd={class:"dropdown-item user-li d-inline-block d-lg-none"},_d={class:"info-user"},md=rt(()=>t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),hd={class:"d-grid gap-2"},vd={class:"wrapper d-flex align-items-stretch"},fd={id:"sidebar",class:"active d-print-none"},bd={class:"list-unstyled components mb-5"},gd=rt(()=>t("li",{class:"ms-auto"},[t("a",{href:"#",class:"sidebarCollapse d-none d-lg-block d-xl-block"},[t("i",{class:"fa fa-bars"})])],-1)),$d=rt(()=>t("span",{class:"bi bi-speedometer"},null,-1)),yd=rt(()=>t("span",{class:"bi bi-file-earmark-arrow-down"},null,-1)),xd=rt(()=>t("span",{class:"bi bi-file-earmark-pdf"},null,-1)),wd=rt(()=>t("span",{class:"bi bi-archive"},null,-1)),kd=rt(()=>t("span",{class:"bi bi-file-earmark-excel"},null,-1)),Dd=rt(()=>t("span",{class:"bi bi-people"},null,-1)),Cd=rt(()=>t("span",{class:"bi bi-gear"},null,-1)),Sd=rt(()=>t("div",{class:"footer"},[t("p")],-1)),Pd={id:"content",class:"p-4 p-md-5 pt-md-2"},Ad={mounted(){var k=function(){Rt(".js-fullheight").css("height",Rt(window).height()),Rt(window).resize(function(){Rt(".js-fullheight").css("height",Rt(window).height())})};k(),Rt(".sidebarCollapse").on("click",function(){Rt("#sidebar").toggleClass("active")})}},Ud=Object.assign(Ad,{__name:"Dashboard",setup(k){const b=l({}),c=l([]),_=ft(),a=()=>{Swal.fire({title:"Sign out",text:"Do you want sign out?",icon:"question",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",cancelButtonText:"No",confirmButtonText:"Yes"}).then(g=>{g.isConfirmed&&axios.get("/api/auth/out").then($=>{$.data.success&&(window.location.href="/sign-in")})})};ot(()=>{n(),p()}),lt(c,()=>{c.length>0&&p()});const n=()=>{axios.get("/api/user").then(g=>{b.value=g.data})},p=()=>{axios.get("/api/notification").then(g=>{c.value=g.data})},i=g=>{if(g!=null)return g.first_name+" "+(g.last_name!=null?g.last_name:"")},y=g=>g.length,h=g=>{axios.put("/api/notification/"+g.id,{status:1}).then($=>{p(),g.role==0||g.role==1?_.push({name:"admin.requestdoc",params:{id:g.document_id}}):g.role==2&&_.push({name:"admin.user",params:{id:g.sender_id}})})};return(g,$)=>{const U=et("router-link"),P=et("timeago"),C=et("router-view");return e(),s("div",null,[t("nav",gi,[t("div",$i,[yi,t("div",xi,[B(U,{to:{name:"dashboard"},class:"d-inline-flex p-0"},{default:Z(()=>[wi,ki]),_:1})]),Di,t("div",Ci,[t("ul",Si,[t("li",Pi,[B(U,{class:"btn btn-outline-success",to:{name:"publicpage"}},{default:Z(()=>[Ai,E(" Home ")]),_:1})]),t("li",Ui,[B(U,{class:"nav-link",to:{name:"admin.upload_p"}},{default:Z(()=>[Fi,E(" Publish ")]),_:1})]),t("li",Ei,[B(U,{class:"nav-link",to:{name:"admin.upload_a"}},{default:Z(()=>[Ti,E(" Archive ")]),_:1})]),t("li",Vi,[B(U,{class:"nav-link",to:{name:"admin.report"}},{default:Z(()=>[Mi,E(" Report ")]),_:1})]),t("li",Li,[t("a",Ri,[t("i",Bi,[c.value.length>0?(e(),s("span",ji,o(y(c.value)),1)):r("",!0)])]),t("ul",Ii,[c.value.length>0?(e(),s("li",Yi,Ni)):r("",!0),c.value.length>0?(e(),s("li",qi,Ki)):r("",!0),c.value.length==0?(e(),s("li",Gi,Ji)):r("",!0),t("div",Wi,[(e(!0),s(q,null,H(c.value,(d,w)=>(e(),s("li",{class:"dropdown-item user-li",key:w},[t("a",{href:"#",class:"notili",onClick:X(v=>h(d),["prevent"])},[t("div",Zi,[t("div",Xi,[t("img",{class:"rounded-circle shadow-1-strong me-3",src:d.sender!=null?d.sender.image==null?"/img/user.png":"data:"+d.sender.extension+";base64,"+d.sender.image:"/img/user.png",alt:"avatar",width:"40",height:"40"},null,8,td),ed,t("small",sd,[B(P,{class:st("sub-ago"),datetime:d.created_at},null,8,["datetime"])]),t("div",null,[t("h6",od,o(i(d.sender)),1),t("p",ad,o(d.caption),1)])])])],8,Qi)]))),128))]),nd])]),t("li",ld,[t("a",id,[t("div",dd,[t("div",cd,o(b.value.first_name)+" "+o(b.value.middle_initial)+" "+o(b.value.last_name),1),t("img",{class:"img-user rounded-circle",src:b.value.image==""?"/img/user.png":"data:"+b.value.extension+";base64,"+b.value.image,alt:""},null,8,rd)])]),t("ul",ud,[t("li",pd,[t("div",_d,o(b.value.first_name)+" "+o(b.value.middle_initial)+" "+o(b.value.last_name),1)]),t("li",null,[B(U,{to:{name:"admin.account"},class:"dropdown-item"},{default:Z(()=>[E("Profile")]),_:1})]),md,t("li",hd,[t("button",{type:"button",onClick:$[0]||($[0]=X(d=>a(),["prevent"])),class:"btn btn-signout btn-sm"},"Sign Out")])])])])])])]),t("div",vd,[t("nav",fd,[t("ul",bd,[gd,t("li",null,[B(U,{to:{name:"dashboard"}},{default:Z(()=>[$d,E(" Dashboard")]),_:1})]),t("li",null,[B(U,{to:{name:"admin.request"}},{default:Z(()=>[yd,E(" Submission")]),_:1})]),t("li",null,[B(U,{to:{name:"admin.published"}},{default:Z(()=>[xd,E(" Published")]),_:1})]),t("li",null,[B(U,{to:{name:"admin.archived"}},{default:Z(()=>[wd,E(" Archived")]),_:1})]),t("li",null,[B(U,{to:{name:"admin.canceled"}},{default:Z(()=>[kd,E(" Canceled")]),_:1})]),t("li",null,[B(U,{to:{name:"admin.users"}},{default:Z(()=>[Dd,E(" Users")]),_:1})]),t("li",null,[B(U,{to:{name:"setting.authors"}},{default:Z(()=>[Cd,E(" Data Mgmt.")]),_:1})])]),Sd]),t("div",Pd,[B(C)])]),B(Gt)])}}}),Fd=it(Ud,[["__scopeId","data-v-584c9084"]]),Ct=k=>(_t("data-v-71a5bf47"),k=k(),mt(),k),Ed={class:"container mt-2"},Td={class:"row"},Vd={class:"col-md-12 text-start me-4"},Md=Ct(()=>t("h4",{class:"m-0"},"Dashboard",-1)),Ld=Ct(()=>t("hr",null,null,-1)),Rd={class:"col-md-12 d-flex justify-content-between"},Bd={class:"card w-100 me-4 panel-card"},jd={class:"card-body pb-2"},Id={class:"d-flex justify-content-between head-panel"},Yd={class:"count-panel"},Od=Ct(()=>t("div",{class:"icon-panel"},[t("i",{class:"bi bi-people"})],-1)),Nd=Ct(()=>t("div",{class:"title-panel"}," Total Visitors ",-1)),qd={class:"card w-100 me-4 panel-card"},Hd={class:"card-body pb-2"},Kd={class:"d-flex justify-content-between head-panel"},Gd={class:"count-panel"},zd=Ct(()=>t("div",{class:"icon-panel"},[t("i",{class:"bi bi-folder-check"})],-1)),Jd=Ct(()=>t("div",{class:"title-panel"}," Total Collections ",-1)),Wd={class:"card w-100 me-4 panel-card"},Qd={class:"card-body pb-2"},Zd={class:"d-flex justify-content-between head-panel"},Xd={class:"count-panel"},tc=Ct(()=>t("div",{class:"icon-panel"},[t("i",{class:"bi bi-box-arrow-in-down"})],-1)),ec=Ct(()=>t("div",{class:"title-panel"}," Total Downloads ",-1)),sc={class:"card w-100 me-4 panel-card"},oc={class:"card-body pb-2"},ac={class:"d-flex justify-content-between head-panel"},nc={class:"count-panel"},lc=Ct(()=>t("div",{class:"icon-panel"},[t("i",{class:"bi bi-people"})],-1)),ic=Ct(()=>t("div",{class:"title-panel"}," Total Members ",-1)),dc={class:"col-md-12 text-start"},cc={class:"card me-4 card-report"},rc=Ct(()=>t("div",{class:"card-header pb-1 bg-white"},[t("h4",null,"Report")],-1)),uc={class:"card-body"},pc=Ct(()=>t("div",{class:"verticaltext position-absolute"},[t("h4",null," Number of Submission")],-1)),_c={class:"h-100"};_e.register(me,he,ve,fe,be,ge);const mc={name:"BarChart",components:{Bar:ee},data(){return{chartData:{labels:["cite","cas","cce","cbe","coe"],datasets:[{label:"College Department Submission",backgroundColor:"#26884b",data:[40,20,12]}]},chartOptions:{responsive:!0,maintainAspectRatio:!1}}}},hc=Object.assign(mc,{setup(k){const b=l({}),c=h=>ht(h).format("MMMM D, YYYY | hh:mm a");ot(()=>{_(),y()});const _=()=>{axios.get("/api/statistic").then(h=>{b.value=h.data})},a=l([]);let n={},p=[],i=[];const y=()=>{axios.get("/api/department-stat").then(h=>{a.value=h.data,h.data.forEach($=>{p.push($.abbreviation),i.push($.docs.length)})}),n={labels:p,datasets:[{label:"College Department Submission",backgroundColor:"#26884b",data:i}]}};return(h,g)=>(e(),s("div",Ed,[t("div",Td,[t("div",Vd,[Md,t("p",null,o(c(new Date)),1),Ld]),t("div",Rd,[t("div",Bd,[t("div",jd,[t("div",Id,[t("div",Yd,o(b.value.visitors),1),Od]),Nd])]),t("div",qd,[t("div",Hd,[t("div",Kd,[t("div",Gd,o(b.value.collections),1),zd]),Jd])]),t("div",Wd,[t("div",Qd,[t("div",Zd,[t("div",Xd,o(b.value.downloads),1),tc]),ec])]),t("div",sc,[t("div",oc,[t("div",ac,[t("div",nc,o(b.value.members),1),lc]),ic])])]),t("div",dc,[t("div",cc,[rc,t("div",uc,[pc,t("div",_c,[a.value.length>0?(e(),xt(u(ee),{key:0,class:st("ms-5"),id:"my-chart-id",options:h.chartOptions,data:u(n)},null,8,["options","data"])):r("",!0)])])])])])]))}}),vc=it(hc,[["__scopeId","data-v-71a5bf47"]]),fc={class:"container mt-2"},bc={class:"col-md-12 text-start"},gc=t("h4",{class:"m-0"},"Data Management",-1),$c=t("hr",null,null,-1),yc={class:"nav nav-tabs"},xc={class:"nav-item"},wc={class:"nav-item"},kc={class:"nav-item"},Dc={class:"content bg-white"},Cc={__name:"Settings",setup(k){const b=c=>ht(c).format("MMMM D, YYYY | hh:mm a");return(c,_)=>{const a=et("router-link"),n=et("router-view");return e(),s("div",fc,[t("div",bc,[gc,t("p",null,o(b(new Date)),1),$c]),t("ul",yc,[t("li",xc,[B(a,{to:{name:"setting.authors"},class:"nav-link nav-cus-link","aria-current":"page"},{default:Z(()=>[E("Authors")]),_:1})]),t("li",wc,[B(a,{to:{name:"setting.departments"},class:"nav-link nav-cus-link"},{default:Z(()=>[E("College Departments")]),_:1})]),t("li",kc,[B(a,{class:"nav-link nav-cus-link",to:{name:"setting.typeofpapers"}},{default:Z(()=>[E("Type of Papers")]),_:1})])]),t("div",Dc,[B(n,{class:"pt-4"})])])}}},Sc={class:"container text-start"},Pc=t("h2",null,[t("i",{class:"fa fa-cogs"}),E(" Authors")],-1),Ac={class:"row"},Uc={class:"col-md-4 pt-4 mb-2"},Fc={class:"form-group"},Ec=t("label",null,"First name",-1),Tc={key:0,class:"text-danger"},Vc={class:"form-group"},Mc=t("label",null,"Middle name",-1),Lc={key:0,class:"text-danger"},Rc={class:"form-group mb-3"},Bc=t("label",null,"Last name",-1),jc={key:0,class:"text-danger"},Ic={class:"btn-group btn-sm"},Yc={class:"col-md-8"},Oc={class:"card custom-card"},Nc={class:"card-body"},qc={class:"input-group input-group-sm mb-3"},Hc=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),Kc={class:"table-responsive mt-3"},Gc={class:"table table-striped table-hover table-sm mb-0"},zc=t("thead",null,[t("tr",{class:"text-success"},[t("th",null,[E("Description "),t("i",{class:"bx bx-up-arrow-alt ms-2"})]),t("th",null,"Last Modified"),t("th",null,"Action")])],-1),Jc={class:"d-flex align-items-center"},Wc={class:"font-weight-bold text-primary"},Qc={class:"input-group"},Zc=["onClick"],Xc=t("i",{class:"fa fa-edit"},null,-1),tr=[Xc],er=["onClick"],sr=t("i",{class:"fa fa-trash"},null,-1),or=[sr],ar={colspan:"6"},nr={key:0,class:"mt-2","aria-label":"..."},lr={class:"pagination pagination-sm custom-page"},ir=["innerHTML","onClick"],dr={__name:"SettingAuthor",setup(k){let b=l([]);const c=l(null);let _=l(""),a=l([]);const n=()=>({first_name:"",middle_name:"",last_name:"",id:null}),p=ct(n()),i=()=>Object.assign(p,n()),y=l(!1),h=x=>ht(x).format("MMMM D, YYYY | hh:mm a");ot(async()=>{P()}),lt(_,()=>{P()});const g=x=>{!x.url||x.active||axios.get(x.url).then(L=>{b.value=L.data.data,a.value=L.data.linkslinks.value=L.data.links})},$=()=>{D.value="saving...",axios.post("/api/setting-author",p).then(x=>{toast.fire({icon:"success",title:"Description Added Successfully!"}),v.value=[],D.value="save",P(),i()}).catch(x=>{v.value=x.response.data.errors,D.value="save"})},U=()=>{D.value="updating...",axios.put(`/api/setting-author/${p.id}`,p).then(x=>{P(),toast.fire({icon:"success",title:"Description Updated Successfully!"}),v.value=[],D.value="save",y.value=!1,i()}).catch(x=>{v.value=x.response.data.errors,D.value="update"})},P=async()=>{await axios.get("/api/setting-author?search="+_.value).then(x=>{b.value=x.data.data,a.value=x.data.links})},C=()=>{y.value===!0?U():$()},d=x=>{c.value.focus(),D.value="update",y.value=!0,axios.get(`/api/setting-author/${x.id}`).then(L=>{p.first_name=L.data.first_name,p.middle_name=L.data.middle_name,p.last_name=L.data.last_name,p.id=L.data.id})},w=()=>{D.value="save",i(),y.value=!1,v.value=""};let v=l([]);const D=l("Save"),m=x=>{Swal.fire({title:"Are you sure? "+x.description,text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes, delete it!"}).then(L=>{L.isConfirmed&&axios.delete(`/api/setting-author/${x.id}`).then(R=>{Swal.fire({title:"Deleted!",text:"Description has been deleted.",icon:"success",confirmButtonColor:"#26884b"}),P()})})},f=x=>x==null?!0:x.length>0;return(x,L)=>(e(),s("div",Sc,[Pc,t("div",Ac,[t("div",Uc,[t("div",Fc,[Ec,S(t("input",{type:"text",ref_key:"input",ref:c,"onUpdate:modelValue":L[0]||(L[0]=R=>p.first_name=R),class:"form-control form-control form-control-sm",placeholder:"Enter First name"},null,512),[[Y,p.first_name]]),u(v).first_name?(e(),s("span",Tc,o(u(v).first_name[0]),1)):r("",!0)]),t("div",Vc,[Mc,S(t("input",{type:"text","onUpdate:modelValue":L[1]||(L[1]=R=>p.middle_name=R),class:"form-control form-control form-control-sm",placeholder:"Enter Middle name"},null,512),[[Y,p.middle_name]]),u(v).middle_name?(e(),s("span",Lc,o(u(v).middle_name[0]),1)):r("",!0)]),t("div",Rc,[Bc,S(t("input",{type:"text","onUpdate:modelValue":L[2]||(L[2]=R=>p.last_name=R),class:"form-control form-control form-control-sm",placeholder:"Enter Last name"},null,512),[[Y,p.last_name]]),u(v).last_name?(e(),s("span",jc,o(u(v).last_name[0]),1)):r("",!0)]),t("div",Ic,[t("button",{type:"button",onClick:C,class:"btn btn-primary btn-sm"},o(D.value),1),t("button",{type:"button",onClick:w,class:"btn btn-warning text-white btn-sm"},"Clear")])]),t("div",Yc,[t("div",Oc,[t("div",Nc,[t("div",qc,[S(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":L[3]||(L[3]=R=>bt(_)?_.value=R:_=R),"aria-describedby":"button-addon1"},null,512),[[Y,u(_)]]),Hc]),t("div",Kc,[t("table",Gc,[zc,t("tbody",null,[(e(!0),s(q,null,H(u(b),(R,W)=>(e(),s("tr",{key:W},[t("td",null,[t("div",Jc,[t("div",Wc,[t("strong",null,o(R.first_name)+" "+o(R.middle_name)+" "+o(R.last_name),1)])])]),t("td",null,o(h(R.updated_at)),1),t("td",null,[t("div",Qc,[t("a",{href:"#",onClick:tt=>d(R),class:"btn btn-outline-success btn-sm"},tr,8,Zc),t("a",{href:"#",onClick:tt=>m(R),class:"btn btn-outline-success btn-sm"},or,8,er)])])]))),128)),t("tr",null,[S(t("td",ar," No Result Found! ",512),[[nt,!f(u(b))]])])])])]),f(u(b))?(e(),s("nav",nr,[t("ul",lr,[(e(!0),s(q,null,H(u(a),(R,W)=>(e(),s("li",{class:"page-item","aria-current":"page",key:W},[t("a",{class:st(["page-link text-sm",{active:R.active,disabled:!R.url}]),href:"#",innerHTML:R.label,onClick:tt=>g(R)},null,10,ir)]))),128))])])):r("",!0)])])])])]))}},cr={class:"container text-start"},rr=t("h2",null,[t("i",{class:"fa fa-cogs"}),E(" College Departments")],-1),ur={class:"row"},pr={class:"col-md-4 pt-4 mb-2"},_r={class:"form-group mb-3"},mr=t("label",null,"Description",-1),hr={key:0,class:"text-danger"},vr={class:"form-group mb-3"},fr=t("label",null,"Abbreviation",-1),br={key:0,class:"text-danger"},gr={class:"btn-group btn-sm"},$r={class:"col-md-8"},yr={class:"card custom-card"},xr={class:"card-body"},wr={class:"input-group input-group-sm mb-3"},kr=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),Dr={class:"table-responsive mt-3"},Cr={class:"table table-striped table-hover table-sm mb-0"},Sr=t("thead",null,[t("tr",{class:"text-success"},[t("th",null,[E("Description "),t("i",{class:"bx bx-up-arrow-alt ms-2"})]),t("th",null,"Abbreviation"),t("th",null,"Last Modified"),t("th",null,"Action")])],-1),Pr={class:"d-flex align-items-center"},Ar={class:"font-weight-bold text-primary"},Ur={class:"input-group"},Fr=["onClick"],Er=t("i",{class:"fa fa-edit"},null,-1),Tr=[Er],Vr=["onClick"],Mr=t("i",{class:"fa fa-trash"},null,-1),Lr=[Mr],Rr={colspan:"6"},Br={key:0,class:"mt-2","aria-label":"..."},jr={class:"pagination pagination-sm custom-page"},Ir=["innerHTML","onClick"],Yr={__name:"SettingDepartment",setup(k){let b=l([]);const c=l(null);let _=l(""),a=l([]);const n=()=>({description:"",abbreviation:"",id:null}),p=ct(n()),i=()=>Object.assign(p,n()),y=l(!1),h=x=>ht(x).format("MMMM D, YYYY | hh:mm a");ot(async()=>{P()}),lt(_,()=>{P()});const g=x=>{!x.url||x.active||axios.get(x.url).then(L=>{b.value=L.data.data,a.value=L.data.links})},$=()=>{D.value="saving...",axios.post("/api/setting-department",p).then(x=>{toast.fire({icon:"success",title:"Description Added Successfully!"}),v.value=[],D.value="save",P(),i()}).catch(x=>{v.value=x.response.data.errors,D.value="save"})},U=()=>{D.value="updating...",axios.put(`/api/setting-department/${p.id}`,p).then(x=>{P(),toast.fire({icon:"success",title:"Description Updated Successfully!"}),v.value=[],D.value="save",i(),y.value=!1}).catch(x=>{v.value=x.response.data.errors,D.value="update"})},P=async()=>{await axios.get("/api/setting-department?search="+_.value).then(x=>{b.value=x.data.data,a.value=x.data.links})},C=()=>{y.value===!0?U():$()},d=x=>{c.value.focus(),D.value="update",y.value=!0,axios.get(`/api/setting-department/${x.id}`).then(L=>{p.description=L.data.description,p.abbreviation=L.data.abbreviation,p.id=L.data.id})},w=()=>{D.value="save",i(),y.value=!1,v.value=""};let v=l([]);const D=l("Save"),m=x=>{Swal.fire({title:"Are you sure? "+x.description,text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes, delete it!"}).then(L=>{L.isConfirmed&&axios.delete(`/api/setting-department/${x.id}`).then(R=>{Swal.fire({title:"Deleted!",text:"Description has been deleted.",icon:"success",confirmButtonColor:"#26884b"}),P()})})},f=x=>x==null?!0:x.length>0;return(x,L)=>(e(),s("div",cr,[rr,t("div",ur,[t("div",pr,[t("div",_r,[mr,S(t("input",{type:"text",ref_key:"input",ref:c,"onUpdate:modelValue":L[0]||(L[0]=R=>p.description=R),class:"form-control form-control form-control-sm",placeholder:"Enter Description"},null,512),[[Y,p.description]]),u(v).description?(e(),s("span",hr,o(u(v).description[0]),1)):r("",!0)]),t("div",vr,[fr,S(t("input",{type:"text",ref_key:"input",ref:c,"onUpdate:modelValue":L[1]||(L[1]=R=>p.abbreviation=R),class:"form-control form-control form-control-sm",placeholder:"Enter Abbreviation"},null,512),[[Y,p.abbreviation]]),u(v).abbreviation?(e(),s("span",br,o(u(v).abbreviation[0]),1)):r("",!0)]),t("div",gr,[t("button",{type:"button",onClick:C,class:"btn btn-primary btn-sm"},o(D.value),1),t("button",{type:"button",onClick:w,class:"btn btn-warning text-white btn-sm"},"Clear")])]),t("div",$r,[t("div",yr,[t("div",xr,[t("div",wr,[S(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":L[2]||(L[2]=R=>bt(_)?_.value=R:_=R),"aria-describedby":"button-addon1"},null,512),[[Y,u(_)]]),kr]),t("div",Dr,[t("table",Cr,[Sr,t("tbody",null,[(e(!0),s(q,null,H(u(b),(R,W)=>(e(),s("tr",{key:W},[t("td",null,[t("div",Pr,[t("div",Ar,[t("strong",null,o(R.description),1)])])]),t("td",null,o(R.abbreviation),1),t("td",null,o(h(R.updated_at)),1),t("td",null,[t("div",Ur,[t("a",{href:"#",onClick:tt=>d(R),class:"btn btn-outline-success btn-sm"},Tr,8,Fr),t("a",{href:"#",onClick:tt=>m(R),class:"btn btn-outline-success btn-sm"},Lr,8,Vr)])])]))),128)),t("tr",null,[S(t("td",Rr," No Result Found! ",512),[[nt,!f(u(b))]])])])])]),f(u(b))?(e(),s("nav",Br,[t("ul",jr,[(e(!0),s(q,null,H(u(a),(R,W)=>(e(),s("li",{class:"page-item","aria-current":"page",key:W},[t("a",{class:st(["page-link text-sm",{active:R.active,disabled:!R.url}]),href:"#",innerHTML:R.label,onClick:tt=>g(R)},null,10,Ir)]))),128))])])):r("",!0)])])])])]))}},Or={class:"container text-start"},Nr=t("h2",null,[t("i",{class:"fa fa-cogs"}),E(" Type of Papers")],-1),qr={class:"row"},Hr={class:"col-md-4 pt-4 mb-2"},Kr={class:"form-group mb-3"},Gr=t("label",null,"Description",-1),zr={key:0,class:"text-danger"},Jr={class:"btn-group btn-sm"},Wr={class:"col-md-8"},Qr={class:"card custom-card"},Zr={class:"card-body"},Xr={class:"input-group input-group-sm mb-3"},tu=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),eu={class:"table-responsive mt-3"},su={class:"table table-striped table-hover table-sm mb-0"},ou=t("thead",null,[t("tr",{class:"text-success"},[t("th",null,[E("Description "),t("i",{class:"bx bx-up-arrow-alt ms-2"})]),t("th",null,"Last Modified"),t("th",null,"Action")])],-1),au={class:"d-flex align-items-center"},nu={class:"font-weight-bold text-primary"},lu={class:"input-group"},iu=["onClick"],du=t("i",{class:"fa fa-edit"},null,-1),cu=[du],ru=["onClick"],uu=t("i",{class:"fa fa-trash"},null,-1),pu=[uu],_u={colspan:"6"},mu={key:0,class:"mt-2","aria-label":"..."},hu={class:"pagination pagination-sm custom-page"},vu=["innerHTML","onClick"],fu={__name:"SettingTypeOfPaper",setup(k){let b=l([]);const c=l(null);let _=l(""),a=l([]);const n=()=>({description:"",id:null}),p=ct(n()),i=()=>Object.assign(p,n()),y=l(!1),h=x=>ht(x).format("MMMM D, YYYY | hh:mm a");ot(async()=>{P()}),lt(_,()=>{P()});const g=x=>{!x.url||x.active||axios.get(x.url).then(L=>{b.value=L.data.data,a.value=L.data.links})},$=()=>{D.value="saving...",axios.post("/api/setting-type-of-paper",p).then(x=>{toast.fire({icon:"success",title:"Description Added Successfully!"}),v.value=[],D.value="save",P(),i()}).catch(x=>{v.value=x.response.data.errors,D.value="save"})},U=()=>{D.value="updating...",axios.put(`/api/setting-type-of-paper/${p.id}`,p).then(x=>{P(),toast.fire({icon:"success",title:"Description Updated Successfully!"}),v.value=[],D.value="save",i(),y.value=!1}).catch(x=>{v.value=x.response.data.errors,D.value="update"})},P=async()=>{await axios.get("/api/setting-type-of-paper?search="+_.value).then(x=>{b.value=x.data.data,a.value=x.data.links})},C=()=>{y.value===!0?U():$()},d=x=>{c.value.focus(),D.value="update",y.value=!0,axios.get(`/api/setting-type-of-paper/${x.id}`).then(L=>{p.description=L.data.description,p.id=L.data.id})},w=()=>{D.value="save",i(),y.value=!1,v.value=""};let v=l([]);const D=l("Save"),m=x=>{Swal.fire({title:"Are you sure? "+x.description,text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes, delete it!"}).then(L=>{L.isConfirmed&&axios.delete(`/api/setting-type-of-paper/${x.id}`).then(R=>{Swal.fire({title:"Deleted!",text:"Description has been deleted.",icon:"success",confirmButtonColor:"#26884b"}),P()})})},f=x=>x==null?!0:x.length>0;return(x,L)=>(e(),s("div",Or,[Nr,t("div",qr,[t("div",Hr,[t("div",Kr,[Gr,S(t("input",{type:"text",ref_key:"input",ref:c,"onUpdate:modelValue":L[0]||(L[0]=R=>p.description=R),class:"form-control form-control form-control-sm",placeholder:"Enter Description"},null,512),[[Y,p.description]]),u(v).description?(e(),s("span",zr,o(u(v).description[0]),1)):r("",!0)]),t("div",Jr,[t("button",{type:"button",onClick:C,class:"btn btn-primary btn-sm"},o(D.value),1),t("button",{type:"button",onClick:w,class:"btn btn-warning text-white btn-sm"},"Clear")])]),t("div",Wr,[t("div",Qr,[t("div",Zr,[t("div",Xr,[S(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":L[1]||(L[1]=R=>bt(_)?_.value=R:_=R),"aria-describedby":"button-addon1"},null,512),[[Y,u(_)]]),tu]),t("div",eu,[t("table",su,[ou,t("tbody",null,[(e(!0),s(q,null,H(u(b),(R,W)=>(e(),s("tr",{key:W},[t("td",null,[t("div",au,[t("div",nu,[t("strong",null,o(R.description),1)])])]),t("td",null,o(h(R.updated_at)),1),t("td",null,[t("div",lu,[t("a",{href:"#",onClick:tt=>d(R),class:"btn btn-outline-success btn-sm"},cu,8,iu),t("a",{href:"#",onClick:tt=>m(R),class:"btn btn-outline-success btn-sm"},pu,8,ru)])])]))),128)),t("tr",null,[S(t("td",_u," No Result Found! ",512),[[nt,!f(u(b))]])])])])]),f(u(b))?(e(),s("nav",mu,[t("ul",hu,[(e(!0),s(q,null,H(u(a),(R,W)=>(e(),s("li",{class:"page-item","aria-current":"page",key:W},[t("a",{class:st(["page-link text-sm",{active:R.active,disabled:!R.url}]),href:"#",innerHTML:R.label,onClick:tt=>g(R)},null,10,vu)]))),128))])])):r("",!0)])])])])]))}},bu={class:"container mt-2"},gu={class:"row"},$u={class:"col-md-12 text-start"},yu=t("h4",{class:"m-0"},"Submission",-1),xu=t("hr",null,null,-1),wu={class:"col-12 mb-3 mb-lg-5"},ku={class:"overflow-hidden card table-nowrap table-card"},Du=t("div",{class:"card-header d-flex justify-content-between align-items-center"},[t("h5",{class:"mb-0"},"Documents"),t("div",{class:""})],-1),Cu={class:"d-flex"},Su={class:"input-group input-group-sm p-2"},Pu=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),Au={class:"input-group input-group-sm p-2"},Uu=t("option",{value:""},"Choose...",-1),Fu=t("option",{value:0},"Publish",-1),Eu=t("option",{value:1},"Achive",-1),Tu=[Uu,Fu,Eu],Vu=t("label",{class:"input-group-text bg-select",for:"inputGroupSelect02"},"Upload Type",-1),Mu={class:"table-responsive"},Lu={class:"table mb-0"},Ru=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Title"),t("th",null,"College Department"),t("th",null,"Uploaded By"),t("th",null,"Type of Papers"),t("th",null,"Upload Type"),t("th",null,"Date uploaded"),t("th",{class:"text-end"},"Action")])],-1),Bu={class:"d-flex align-items-center"},ju=t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1),Iu={class:"text-primary"},Yu={class:"text-end"},Ou={class:"drodown"},Nu=t("a",{"data-bs-toggle":"dropdown",href:"#",class:"btn p-1","aria-expanded":"false"},[t("i",{class:"fa fa-bars","aria-hidden":"true"})],-1),qu={class:"dropdown-menu dropdown-menu-end dd-bg",style:{}},Hu=["onClick"],Ku={colspan:"6"},Gu={key:0,class:"mt-2 d-flex justify-content-start ms-1","aria-label":"..."},zu={class:"pagination pagination-sm custom-page"},Ju=["innerHTML","onClick"],Wu={__name:"Request",setup(k){const b=l([]);let c=l([]),_=l(""),a=l("");const n=l([]);ot(()=>{i(),h(),P()});const p=v=>ht(v).format("MMMM D, YYYY | hh:mm a"),i=()=>{axios.get("/api/admin-document?search="+_.value+"&filter="+a.value).then(v=>{b.value=v.data.data,c.value=v.data.links})};lt(_,()=>{i()});const y=v=>{!v.url||v.active||axios.get(v.url).then(D=>{b.value=D.data.data,c.value=D.data.links})},h=()=>{axios.get("/api/list-topapers").then(v=>{n.value=v.data})},g=v=>{let D="";return n.value.forEach(m=>{v.type_of_paper_id===m.id&&(D=m.description)}),D},$=v=>v==null?!0:v.length>0,U=l([]),P=()=>{axios.get("/api/list-departments").then(v=>{U.value=v.data})},C=v=>{if(v!=null)return v.first_name+" "+(v.last_name==null?"":v.last_name)},d=()=>{i()},w=v=>{Swal.fire({title:"Are you sure? "+v.title,text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes, delete it!"}).then(D=>{D.isConfirmed&&axios.delete(`/api/document/${v.id}`).then(m=>{Swal.fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success",confirmButtonColor:"#26884b"}),i()})})};return(v,D)=>{const m=et("router-link");return e(),s("div",bu,[t("div",gu,[t("div",$u,[yu,t("p",null,o(p(new Date)),1),xu]),t("div",wu,[t("div",ku,[Du,t("div",Cu,[t("div",Su,[S(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":D[0]||(D[0]=f=>bt(_)?_.value=f:_=f),"aria-describedby":"button-addon1"},null,512),[[Y,u(_)]]),Pu]),t("div",Au,[S(t("select",{class:"form-select",id:"inputGroupSelect02","onUpdate:modelValue":D[1]||(D[1]=f=>bt(a)?a.value=f:a=f),onChange:d},Tu,544),[[pt,u(a)]]),Vu])]),t("div",Mu,[t("table",Lu,[Ru,t("tbody",null,[(e(!0),s(q,null,H(b.value,(f,x)=>(e(),s("tr",{class:"align-middle",key:x},[t("td",null,[t("div",Bu,[ju,t("strong",Iu,o(f.title),1)])]),t("td",null,o(f.department!=null?f.department.description:""),1),t("td",null,o(C(f.userdoc)),1),t("td",null,o(g(f)),1),t("td",null,[B(Ft,{uploadData:f.upload_type},null,8,["uploadData"])]),t("td",null,o(p(f.created_at)),1),t("td",Yu,[t("div",Ou,[Nu,t("div",qu,[B(m,{to:{name:"admin.requestdoc",params:{id:f.id}},class:"dropdown-item dd-item"},{default:Z(()=>[E("View")]),_:2},1032,["to"]),f.upload_type===0&&f.userdoc.role==2?(e(),xt(m,{key:0,to:{name:"admin.editupload_p",params:{id:f.id}},class:"dropdown-item dd-item"},{default:Z(()=>[E("Edit ")]),_:2},1032,["to"])):r("",!0),f.upload_type===1&&f.userdoc.role==2?(e(),xt(m,{key:1,to:{name:"admin.editupload_a",params:{id:f.id}},class:"dropdown-item dd-item"},{default:Z(()=>[E("Edit ")]),_:2},1032,["to"])):r("",!0),f.userdoc.role==2?(e(),s("a",{key:2,href:"#!",onClick:L=>w(f),class:"dropdown-item dd-item"},"Delete ",8,Hu)):r("",!0)])])])]))),128)),t("tr",null,[S(t("td",Ku," No Result Found! ",512),[[nt,!$(b.value)]])])])]),$(b.value)?(e(),s("nav",Gu,[t("ul",zu,[(e(!0),s(q,null,H(u(c),(f,x)=>(e(),s("li",{class:"page-item","aria-current":"page",key:x},[t("a",{class:st(["page-link",{active:f.active,disabled:!f.url}]),href:"#",innerHTML:f.label,onClick:L=>y(f)},null,10,Ju)]))),128))])])):r("",!0)])])])])])}}},Qu={class:"container mt-2"},Zu={class:"row"},Xu={class:"col-md-12 text-start"},tp=t("h4",{class:"m-0"},"Published",-1),ep=t("hr",null,null,-1),sp={class:"col-12 mb-3 mb-lg-5"},op={class:"overflow-hidden card table-nowrap table-card"},ap=t("div",{class:"card-header d-flex justify-content-between align-items-center"},[t("h5",{class:"mb-0"},"Documents")],-1),np={class:"d-flex"},lp={class:"input-group input-group-sm p-2"},ip=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),dp={class:"input-group input-group-sm p-2"},cp=t("option",{value:""},"Choose...",-1),rp=["value"],up=t("label",{class:"input-group-text bg-select",for:"inputGroupSelect02"},"Department",-1),pp={class:"input-group input-group-sm p-2"},_p=t("option",{value:""},"Choose...",-1),mp=["value"],hp=t("label",{class:"input-group-text bg-select"},"Type of Papers",-1),vp={class:"table-responsive"},fp={class:"table mb-0"},bp=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Title"),t("th",null,"College Department"),t("th",null,"Uploaded By"),t("th",null,"Type of Papers"),t("th",null,"Date uploaded"),t("th",{class:"text-end"},"Action")])],-1),gp={class:"d-flex align-items-center"},$p=t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1),yp={class:"text-primary"},xp={class:"text-end"},wp={class:"drodown"},kp=t("a",{"data-bs-toggle":"dropdown",href:"#",class:"btn p-1","aria-expanded":"false"},[t("i",{class:"fa fa-bars","aria-hidden":"true"})],-1),Dp={class:"dropdown-menu dropdown-menu-end dd-bg",style:{}},Cp=["onClick"],Sp={colspan:"6"},Pp={key:0,class:"mt-2 d-flex justify-content-start ms-1","aria-label":"..."},Ap={class:"pagination pagination-sm custom-page"},Up=["innerHTML","onClick"],Fp={__name:"Published",setup(k){const b=l([]);let c=l([]);l("");const _=l([]),a=ct({search:"",filterType:0,filterDept:0});ot(()=>{p(),y(),U()});const n=w=>ht(w).format("MMMM D, YYYY | hh:mm a"),p=()=>{axios.get("/api/admin-document-published?",{params:a}).then(w=>{b.value=w.data.data,c.value=w.data.links})};lt(a,()=>{p()});const i=w=>{!w.url||w.active||axios.get(w.url).then(v=>{b.value=v.data.data,c.value=v.data.links})},y=()=>{axios.get("/api/list-topapers").then(w=>{_.value=w.data})},h=w=>{let v="";return _.value.forEach(D=>{w.type_of_paper_id===D.id&&(v=D.description)}),v},g=w=>w==null?!0:w.length>0,$=l([]),U=()=>{axios.get("/api/list-departments").then(w=>{$.value=w.data})},P=w=>{if(w!=null)return w.first_name+" "+(w.last_name==null?"":w.last_name)},C=()=>{p()},d=w=>{Swal.fire({title:"Are you sure? ",text:"You want to move to archived!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes!",cancelButtonText:"No"}).then(v=>{v.isConfirmed&&axios.delete(`/api/document-to-archived/${w.id}`).then(D=>{Swal.fire({title:"Success!",text:"Your document has been moved",icon:"success",confirmButtonColor:"#26884b"}),p()})})};return(w,v)=>{const D=et("router-link");return e(),s("div",Qu,[t("div",Zu,[t("div",Xu,[tp,t("p",null,o(n(new Date)),1),ep]),t("div",sp,[t("div",op,[ap,t("div",np,[t("div",lp,[S(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":v[0]||(v[0]=m=>a.search=m),"aria-describedby":"button-addon1"},null,512),[[Y,a.search]]),ip]),t("div",dp,[S(t("select",{class:"form-select",id:"inputGroupSelect02","onUpdate:modelValue":v[1]||(v[1]=m=>a.filterDept=m),onChange:C},[cp,(e(!0),s(q,null,H($.value,(m,f)=>(e(),s("option",{key:f,value:m.id},o(m.description),9,rp))),128))],544),[[pt,a.filterDept]]),up]),t("div",pp,[S(t("select",{class:"form-select","onUpdate:modelValue":v[2]||(v[2]=m=>a.filterType=m),onChange:C},[_p,(e(!0),s(q,null,H(_.value,(m,f)=>(e(),s("option",{key:f,value:m.id},o(m.description),9,mp))),128))],544),[[pt,a.filterType]]),hp])]),t("div",vp,[t("table",fp,[bp,t("tbody",null,[(e(!0),s(q,null,H(b.value,(m,f)=>(e(),s("tr",{class:"align-middle",key:f},[t("td",null,[t("div",gp,[$p,t("strong",yp,o(m.title),1)])]),t("td",null,o(m.department!=null?m.department.description:""),1),t("td",null,o(P(m.userdoc)),1),t("td",null,o(h(m)),1),t("td",null,o(n(m.created_at)),1),t("td",xp,[t("div",wp,[kp,t("div",Dp,[B(D,{to:{name:"admin.requestdoc",params:{id:m.id}},class:"dropdown-item dd-item"},{default:Z(()=>[E("View")]),_:2},1032,["to"]),t("a",{href:"#",onClick:x=>d(m),class:"dropdown-item dd-item"},"Move to Archived ",8,Cp)])])])]))),128)),t("tr",null,[S(t("td",Sp," No Result Found! ",512),[[nt,!g(b.value)]])])])]),g(b.value)?(e(),s("nav",Pp,[t("ul",Ap,[(e(!0),s(q,null,H(u(c),(m,f)=>(e(),s("li",{class:"page-item","aria-current":"page",key:f},[t("a",{class:st(["page-link",{active:m.active,disabled:!m.url}]),href:"#",innerHTML:m.label,onClick:x=>i(m)},null,10,Up)]))),128))])])):r("",!0)])])])])])}}},Ep={class:"container mt-2"},Tp={class:"row"},Vp={class:"col-md-12 text-start"},Mp=t("h4",{class:"m-0"},"Archived",-1),Lp=t("hr",null,null,-1),Rp={class:"col-12 mb-3 mb-lg-5"},Bp={class:"overflow-hidden card table-nowrap table-card"},jp=t("div",{class:"card-header d-flex justify-content-between align-items-center"},[t("h5",{class:"mb-0"},"Documents")],-1),Ip={class:"d-flex"},Yp={class:"input-group input-group-sm p-2"},Op=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),Np={class:"input-group input-group-sm p-2"},qp=t("option",{value:""},"Choose...",-1),Hp=["value"],Kp=t("label",{class:"input-group-text bg-select"},"Type of Papers",-1),Gp={class:"table-responsive"},zp={class:"table mb-0"},Jp=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Title"),t("th",null,"College Department"),t("th",null,"Uploaded By"),t("th",null,"Type of Papers"),t("th",null,"Date uploaded"),t("th",{class:"text-end"},"Action")])],-1),Wp={class:"d-flex align-items-center"},Qp=t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1),Zp={class:"text-primary"},Xp={class:"text-end"},t_={class:"drodown"},e_=t("a",{"data-bs-toggle":"dropdown",href:"#",class:"btn p-1","aria-expanded":"false"},[t("i",{class:"fa fa-bars","aria-hidden":"true"})],-1),s_={class:"dropdown-menu dropdown-menu-end dd-bg",style:{}},o_=["onClick"],a_={colspan:"6"},n_={key:0,class:"mt-2 d-flex justify-content-start ms-1","aria-label":"..."},l_={class:"pagination pagination-sm custom-page"},i_=["innerHTML","onClick"],d_={__name:"Archived",setup(k){const b=l([]);let c=l([]),_=l("");const a=l([]),n=ct({search:"",filterType:0,filterDept:0});ot(()=>{i(),h(),P()});const p=v=>ht(v).format("MMMM D, YYYY | hh:mm a"),i=()=>{axios.get("/api/admin-document-archived?",{params:n}).then(v=>{b.value=v.data.data,c.value=v.data.links})};lt(_,()=>{i()});const y=v=>{!v.url||v.active||axios.get(v.url).then(D=>{b.value=D.data.data,c.value=D.data.links})},h=()=>{axios.get("/api/list-topapers").then(v=>{a.value=v.data})},g=v=>{let D="";return a.value.forEach(m=>{v.type_of_paper_id===m.id&&(D=m.description)}),D},$=v=>v==null?!0:v.length>0,U=l([]),P=()=>{axios.get("/api/list-departments").then(v=>{U.value=v.data})},C=v=>{if(v!=null)return v.first_name+" "+(v.last_name==null?"":v.last_name)},d=()=>{i()},w=v=>{Swal.fire({title:"Are you sure? "+v.title,text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes, delete it!"}).then(D=>{D.isConfirmed&&axios.delete(`/api/document/${v.id}`).then(m=>{Swal.fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success",confirmButtonColor:"#26884b"}),i()})})};return(v,D)=>{const m=et("router-link");return e(),s("div",Ep,[t("div",Tp,[t("div",Vp,[Mp,t("p",null,o(p(new Date)),1),Lp]),t("div",Rp,[t("div",Bp,[jp,t("div",Ip,[t("div",Yp,[S(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":D[0]||(D[0]=f=>n.searchData=f),"aria-describedby":"button-addon1"},null,512),[[Y,n.searchData]]),Op]),t("div",Np,[S(t("select",{class:"form-select","onUpdate:modelValue":D[1]||(D[1]=f=>n.filterType=f),onChange:d},[qp,(e(!0),s(q,null,H(a.value,(f,x)=>(e(),s("option",{key:x,value:f.id},o(f.description),9,Hp))),128))],544),[[pt,n.filterType]]),Kp])]),t("div",Gp,[t("table",zp,[Jp,t("tbody",null,[(e(!0),s(q,null,H(b.value,(f,x)=>(e(),s("tr",{class:"align-middle",key:x},[t("td",null,[t("div",Wp,[Qp,t("strong",Zp,o(f.title),1)])]),t("td",null,o(f.department!=null?f.department.description:""),1),t("td",null,o(C(f.userdoc)),1),t("td",null,o(g(f)),1),t("td",null,o(p(f.created_at)),1),t("td",Xp,[t("div",t_,[e_,t("div",s_,[B(m,{to:{name:"admin.requestdoc",params:{id:f.id}},class:"dropdown-item dd-item"},{default:Z(()=>[E("View")]),_:2},1032,["to"]),t("a",{href:"#!",onClick:L=>w(f),class:"dropdown-item dd-item"},"Delete ",8,o_)])])])]))),128)),t("tr",null,[S(t("td",a_," No Result Found! ",512),[[nt,!$(b.value)]])])])]),$(b.value)?(e(),s("nav",n_,[t("ul",l_,[(e(!0),s(q,null,H(u(c),(f,x)=>(e(),s("li",{class:"page-item","aria-current":"page",key:x},[t("a",{class:st(["page-link",{active:f.active,disabled:!f.url}]),href:"#",innerHTML:f.label,onClick:L=>y(f)},null,10,i_)]))),128))])])):r("",!0)])])])])])}}},c_={class:"container mt-2"},r_={class:"row"},u_={class:"col-md-12 text-start"},p_=t("h4",{class:"m-0"},"Canceled",-1),__=t("hr",null,null,-1),m_={class:"col-12 mb-3 mb-lg-5"},h_={class:"overflow-hidden card table-nowrap table-card"},v_=t("div",{class:"card-header d-flex justify-content-between align-items-center"},[t("h5",{class:"mb-0"},"Documents")],-1),f_={class:"d-flex"},b_={class:"input-group input-group-sm p-2"},g_=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),$_={class:"input-group input-group-sm p-2"},y_=t("option",{value:""},"Choose...",-1),x_=t("option",{value:0},"Publish",-1),w_=t("option",{value:1},"Achive",-1),k_=[y_,x_,w_],D_=t("label",{class:"input-group-text bg-select",for:"inputGroupSelect02"},"Upload Type",-1),C_={class:"table-responsive"},S_={class:"table mb-0"},P_=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Title"),t("th",null,"College Department"),t("th",null,"Uploaded By"),t("th",null,"Type of Papers"),t("th",null,"Upload Type"),t("th",null,"Date uploaded"),t("th",{class:"text-end"},"Action")])],-1),A_={class:"d-flex align-items-center"},U_=t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1),F_={class:"text-primary"},E_={class:"text-end"},T_={class:"drodown"},V_=t("a",{"data-bs-toggle":"dropdown",href:"#",class:"btn p-1","aria-expanded":"false"},[t("i",{class:"fa fa-bars","aria-hidden":"true"})],-1),M_={class:"dropdown-menu dropdown-menu-end dd-bg",style:{}},L_={colspan:"6"},R_={key:0,class:"mt-2 d-flex justify-content-start ms-1","aria-label":"..."},B_={class:"pagination pagination-sm custom-page"},j_=["innerHTML","onClick"],I_={__name:"Canceled",setup(k){const b=l([]);let c=l([]),_=l(""),a=l("");const n=l([]);ot(()=>{i(),h(),P()});const p=w=>ht(w).format("MMMM D, YYYY | hh:mm a"),i=()=>{axios.get("/api/admin-document-canceled?search="+_.value+"&filter="+a.value).then(w=>{b.value=w.data.data,c.value=w.data.links})};lt(_,()=>{i()});const y=w=>{!w.url||w.active||axios.get(w.url).then(v=>{b.value=v.data.data,c.value=v.data.links})},h=()=>{axios.get("/api/list-topapers").then(w=>{n.value=w.data})},g=w=>{let v="";return n.value.forEach(D=>{w.type_of_paper_id===D.id&&(v=D.description)}),v},$=w=>w==null?!0:w.length>0,U=l([]),P=()=>{axios.get("/api/list-departments").then(w=>{U.value=w.data})},C=w=>{if(w!=null)return w.first_name+" "+(w.last_name==null?"":w.last_name)},d=()=>{i()};return(w,v)=>{const D=et("router-link");return e(),s("div",c_,[t("div",r_,[t("div",u_,[p_,t("p",null,o(p(new Date)),1),__]),t("div",m_,[t("div",h_,[v_,t("div",f_,[t("div",b_,[S(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":v[0]||(v[0]=m=>bt(_)?_.value=m:_=m),"aria-describedby":"button-addon1"},null,512),[[Y,u(_)]]),g_]),t("div",$_,[S(t("select",{class:"form-select",id:"inputGroupSelect02","onUpdate:modelValue":v[1]||(v[1]=m=>bt(a)?a.value=m:a=m),onChange:d},k_,544),[[pt,u(a)]]),D_])]),t("div",C_,[t("table",S_,[P_,t("tbody",null,[(e(!0),s(q,null,H(b.value,(m,f)=>(e(),s("tr",{class:"align-middle",key:f},[t("td",null,[t("div",A_,[U_,t("strong",F_,o(m.title),1)])]),t("td",null,o(m.department!=null?m.department.description:""),1),t("td",null,o(C(m.userdoc)),1),t("td",null,o(g(m)),1),t("td",null,[B(Ft,{uploadData:m.upload_type},null,8,["uploadData"])]),t("td",null,o(p(m.created_at)),1),t("td",E_,[t("div",T_,[V_,t("div",M_,[B(D,{to:{name:"admin.requestdoc",params:{id:m.id}},class:"dropdown-item dd-item"},{default:Z(()=>[E("View")]),_:2},1032,["to"])])])])]))),128)),t("tr",null,[S(t("td",L_," No Result Found! ",512),[[nt,!$(b.value)]])])])]),$(b.value)?(e(),s("nav",R_,[t("ul",B_,[(e(!0),s(q,null,H(u(c),(m,f)=>(e(),s("li",{class:"page-item","aria-current":"page",key:f},[t("a",{class:st(["page-link",{active:m.active,disabled:!m.url}]),href:"#",innerHTML:m.label,onClick:x=>y(m)},null,10,j_)]))),128))])])):r("",!0)])])])])])}}},St=k=>(_t("data-v-f297bcc4"),k=k(),mt(),k),Y_={class:"container-fluid rounded bg-white mb-5 mt-2"},O_={class:"row"},N_={class:"col-md-3 border-right"},q_={class:"d-flex flex-column align-items-center text-center p-3 py-5"},H_=["src"],K_={class:"font-weight-bold"},G_={class:"text-black-50"},z_=St(()=>t("span",null,null,-1)),J_={class:"col-md-5 border-right text-start"},W_={class:"p-3 py-5"},Q_=St(()=>t("div",{class:"d-flex justify-content-between align-items-center mb-3"},[t("h4",{class:"text-right"},"Profile Settings")],-1)),Z_={class:"row mt-2"},X_={class:"col-md-6"},tm=St(()=>t("label",{class:"labels"},"First name",-1)),em={key:0,class:"text-danger"},sm={class:"col-md-6"},om=St(()=>t("label",{class:"labels"},"Middle Initial",-1)),am={key:0,class:"text-danger"},nm={class:"col-md-6"},lm=St(()=>t("label",{class:"labels"},"Last name",-1)),im={key:0,class:"text-danger"},dm={class:"row mt-3"},cm={class:"col-md-12"},rm=St(()=>t("label",{class:"labels"},"Email",-1)),um={key:0,class:"text-danger"},pm={class:"mt-5"},_m={class:"col-md-4"},mm={class:"p-3 py-5"},hm=St(()=>t("div",{class:"d-flex justify-content-between align-items-center experience"},[t("h4",null,"Change Password")],-1)),vm=St(()=>t("br",null,null,-1)),fm={class:"col-md-12 text-start"},bm=St(()=>t("label",{class:"labels"},"Password",-1)),gm={key:0,class:"text-danger"},$m={class:"col-md-12 text-start"},ym=St(()=>t("label",{class:"labels"},"Password Confirmation",-1)),xm={key:0,class:"text-danger"},wm={class:"mt-5"},km={class:"modal-dialog"},Dm={class:"modal-content"},Cm=St(()=>t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLabel"},"Profile Picture"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Sm={class:"modal-body text-start mb-3 row"},Pm=["src"],Am={class:"modal-footer"},Um=St(()=>t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)),Fm={__name:"Account",setup(k){const b=l(null);let c=null;ot(()=>{y(),c=new It(b.value)});const _=new FormData;ft();const a=l({});let n=l([]);const i=ct({first_name:"",middle_initial:"",last_name:"",email:"",id:null,password:"",password_confirmation:""}),y=()=>{axios.get("/api/user").then(D=>{a.value=D.data;let m=D.data;i.first_name=m.first_name,i.middle_initial=m.middle_initial,i.last_name=m.last_name,i.email=m.email,i.id=m.id})},h=()=>{axios.put("/api/users/"+i.id,i).then(D=>{y(),toast.fire({icon:"success",title:"Profile has been modified!"}),n.value=[]}).catch(D=>{n.value=D.response.data.errors})},g=()=>{axios.put("/api/users-password/"+i.id,i).then(D=>{y(),toast.fire({icon:"success",title:"Password has been changed!"}),window.location.href="/sign-in",n.value=[]}).catch(D=>{n.value=D.response.data.errors})},$=l(""),U=()=>{c.show()},P=D=>{document.querySelector(".fileupload").click()},C=D=>{const m=D.target.files||D.dataTransfer.files;$.value=m[0],w(m[0])};let d=l("");const w=D=>{if(d.value=D,D){const m=new FileReader;m.onload=f=>{d.value=f.target.result},m.readAsDataURL(D)}},v=()=>{_.append("file",$.value),axios.post("/api/upload-profile",_,{headers:{"Content-Type":"multipart/form-data"}}).then(D=>{c.hide(),y()})};return(D,m)=>(e(),s("div",Y_,[t("div",O_,[t("div",N_,[t("div",q_,[t("img",{class:"rounded-circle mt-5",width:"150px",src:a.value.image==null||a.value.image==""?"/img/user.png":"data:"+a.value.extension+";base64,"+a.value.image},null,8,H_),t("a",{href:"#",onClick:m[0]||(m[0]=f=>U())},"edit"),t("span",K_,o(a.value.first_name)+" "+o(a.value.middle_initial)+". "+o(a.value.last_name),1),t("span",G_,o(a.value.email),1),z_])]),t("div",J_,[t("div",W_,[Q_,t("div",Z_,[t("div",X_,[tm,S(t("input",{type:"text","onUpdate:modelValue":m[1]||(m[1]=f=>i.first_name=f),class:"form-control",placeholder:"Enter First name",value:""},null,512),[[Y,i.first_name]]),u(n).first_name?(e(),s("span",em,o(u(n).first_name[0]),1)):r("",!0)]),t("div",sm,[om,S(t("input",{type:"text","onUpdate:modelValue":m[2]||(m[2]=f=>i.middle_initial=f),class:"form-control",value:"",placeholder:"Enter Middle initial"},null,512),[[Y,i.middle_initial]]),u(n).middle_initial?(e(),s("span",am,o(u(n).middle_initial[0]),1)):r("",!0)]),t("div",nm,[lm,S(t("input",{type:"text","onUpdate:modelValue":m[3]||(m[3]=f=>i.last_name=f),class:"form-control",value:"",placeholder:"Enter Last name"},null,512),[[Y,i.last_name]]),u(n).last_name?(e(),s("span",im,o(u(n).last_name[0]),1)):r("",!0)])]),t("div",dm,[t("div",cm,[rm,S(t("input",{type:"text","onUpdate:modelValue":m[4]||(m[4]=f=>i.email=f),class:"form-control",placeholder:"Enter Email",value:""},null,512),[[Y,i.email]]),u(n).email?(e(),s("span",um,o(u(n).email[0]),1)):r("",!0)])]),t("div",pm,[t("button",{class:"btn btn-primary profile-button",onClick:m[5]||(m[5]=X(f=>h(),["prevent"])),type:"button"},"Save Profile")])])]),t("div",_m,[t("div",mm,[hm,vm,t("div",fm,[bm,S(t("input",{type:"Password","onUpdate:modelValue":m[6]||(m[6]=f=>i.password=f),class:"form-control",placeholder:"Enter Password",value:""},null,512),[[Y,i.password]]),u(n).password?(e(),s("span",gm,o(u(n).password[0]),1)):r("",!0)]),t("div",$m,[ym,S(t("input",{type:"password","onUpdate:modelValue":m[7]||(m[7]=f=>i.password_confirmation=f),class:"form-control",placeholder:"Enter Password Confirmation",value:""},null,512),[[Y,i.password_confirmation]]),u(n).password_confirmation?(e(),s("span",xm,o(u(n).password_confirmation[0]),1)):r("",!0)]),t("div",wm,[t("button",{class:"btn btn-primary profile-button",onClick:m[8]||(m[8]=X(f=>g(),["prevent"])),type:"button"},"Change Password")])])]),t("div",{class:"modal fade",ref_key:"profilepic",ref:b,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",km,[t("div",Dm,[Cm,t("div",Sm,[t("img",{src:u(d)==""?"/img/user.png":u(d),class:"rounded mx-auto d-block img-profile",for:"filename"},null,8,Pm),t("a",{href:"#",onClick:m[9]||(m[9]=f=>P())},"change profile picture"),t("input",{type:"file",class:"hidden fileupload",onChange:C,accept:".jpeg, .png,.jpg, .ping",id:"filename"},null,32)]),t("div",Am,[t("button",{type:"button",class:"btn btn-primary",onClick:m[10]||(m[10]=f=>v())},"Upload profile"),Um])])])],512)])]))}},Em=it(Fm,[["__scopeId","data-v-f297bcc4"]]),gt=k=>(_t("data-v-6de53567"),k=k(),mt(),k),Tm={class:"container-fluid"},Vm={class:"row bg-white p-2 m-1 rounded"},Mm=gt(()=>t("div",{class:"col-md-12"},[t("h4",{class:"text-start m-0 mb-3"},[t("span",{class:"bi bi-file-earmark-richtext"}),E(" Document ")])],-1)),Lm=gt(()=>t("hr",null,null,-1)),Rm={class:"col-md-4 col-lg-4"},Bm={class:"card doc-card custom-border"},jm={class:"side-badge w-auto"},Im={class:"text-end p-2"},Ym={class:"card-body"},Om=gt(()=>t("div",{class:"main-img mt-2 mb-0"},[t("img",{class:"img-pdf",src:"/img/pdf.jpg"})],-1)),Nm={class:"upload-status border p-2"},qm={key:0,class:"p-0"},Hm={key:1,class:"text-start txt-grey"},Km=gt(()=>t("span",{class:"fw-bold"}," DOI:",-1)),Gm={key:2,class:"mt-0 p-0"},zm={key:3,class:"text-start txt-grey"},Jm=gt(()=>t("span",{class:"fw-bold"}," Volume/Issue no.:",-1)),Wm={key:4,class:"mt-0 p-0"},Qm={key:5,class:"text-start txt-grey"},Zm=gt(()=>t("span",{class:"fw-bold"}," Publication:",-1)),Xm={key:6,class:"mt-0 p-0"},th={key:7,class:"text-start txt-grey"},eh=gt(()=>t("span",{class:"fw-bold"}," Department:",-1)),sh={key:8,class:"mt-0 p-0"},oh={class:"card-footer bg-white p-0"},ah=gt(()=>t("span",{class:"bi bi-download"},null,-1)),nh={class:"text-download"},lh={class:"card-footer bg-pub"},ih={class:"author-list text-start"},dh=gt(()=>t("i",null,"Author/s:",-1)),ch={class:"list-group list-group-flush"},rh={class:"col-md-8 col-lg-8"},uh={class:"card doc-card"},ph={class:"card-body"},_h={class:"content-doc text-primary border border-success border-2 pt-2"},mh={class:"info-doc"},hh={class:"d-flex justify-content-between"},vh={class:"head-title text-start"},fh={key:0,class:"btn-group mt-3"},bh={class:"abstract"},gh=gt(()=>t("small",{class:"text-primary"},"Abstract: ",-1)),$h={key:2},yh={key:3,class:"d-flex flex-wrap pub-date"},xh={class:"d-flex custom-w flex-wrap justify-content-start mb-3"},wh=gt(()=>t("span",{class:"key-title"},"Keywords:",-1)),kh=gt(()=>t("span",{class:"label"}," Publication date : ",-1)),Dh={class:"content"},Ch={class:"d-flex mt-2 pub-date"},Sh=gt(()=>t("small",{class:"label"},"Uploaded by : ",-1)),Ph={class:"content"},Ah={key:0,class:"row"},Uh={class:"col-md-12"},Fh={class:"card doc-card mt-3"},Eh={class:"d-flex flex-start align-items-center"},Th=["src"],Vh={class:"fw-bold text-primary mb-1"},Mh={class:"text-muted small mb-0"},Lh={class:"mt-2 pb-0"},Rh=gt(()=>t("hr",{class:"p-0 m-0"},null,-1)),Bh={class:"card-body text-start"},jh=gt(()=>t("h4",null,"Comment & Suggestions",-1)),Ih={class:"form-group"},Yh={key:0,class:"text-danger"},Oh={class:"btn-group mt-3"},Nh=gt(()=>t("i",{class:"bi bi-send"},null,-1)),qh={__name:"ViewRequestDoc",setup(k){const b=Vt();ft();const c=b.params.id,_=l({});let a=l([]);const n=l({}),p=l("Send");lt(()=>b.params.id,(Q,V)=>{$(Q),W()});const i=l({}),y=l({}),h=l(""),g=l(!1);ot(()=>{$(c),n.value=window.winsdev.user});const $=Q=>{axios.get("/api/document/"+Q).then(V=>{i.value=V.data,console.log(V.data),y.value=i.value.document_file,_.value=V.data.typeofpaper,w(y.value),U(V.data)})},U=Q=>Q.status==1||Q.status==2?R.value=!0:R.value=!1,P=Q=>ht(Q).format("MMMM D, YYYY"),C=Q=>{const V=d(Q.base64,Q.mime_type),N=document.createElement("a");N.href=URL.createObjectURL(V),N.download=Q.original_name,N.click(),URL.revokeObjectURL(N.href)},d=(Q,V="",N=512)=>{const T=atob(Q),K=[];for(let A=0;A<T.length;A+=N){const j=T.slice(A,A+N),G=new Array(j.length);for(let z=0;z<j.length;z++)G[z]=j.charCodeAt(z);const I=new Uint8Array(G);K.push(I)}return new Blob(K,{type:V})},w=Q=>{const V=d(Q.base64,Q.mime_type);h.value=URL.createObjectURL(V)},v=()=>{g.value=!g.value},D=Q=>{window.open(Q,"_blank")},m=l(!0),f=()=>{m.value=!m.value},x=ct({message:"",document_id:c,prove:0}),L=()=>{Swal.fire({title:"Approval Document",text:"Do you want to approved?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes!",cancelButtonText:"No"}).then(Q=>{Q.isConfirmed&&(x.prove=1,axios.post("/api/admin-document",x).then(V=>{$(c),toast.fire({icon:"success",title:"Documents has been Approved!"}),x.message=""}).catch(V=>{a.value=V.response.data.errors}))})},R=l(!0),W=()=>{p.value="Sending...",axios.post("/api/admin-feedback",x).then(Q=>{$(c),toast.fire({icon:"success",title:"Feedback Message sent!"}),p.value="Send",x.message=""}).catch(Q=>{p.value="Send",a.value=Q.response.data.errors})},tt=()=>{Swal.fire({title:"Approval Document",text:"Do you want to disapproved?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes!",cancelButtonText:"No"}).then(Q=>{Q.isConfirmed&&axios.post("/api/admin-disapprove",x).then(V=>{$(c),toast.fire({icon:"success",title:"Documents has been Disapproved!"}),x.message=""}).catch(V=>{a.value=V.response.data.errors})})},dt=Q=>{if(Q!=null)return Q.first_name+" "+(Q.last_name!=null?Q.last_name:"")},ut=Q=>{if(Q!=null)return Q.role!=2};return(Q,V)=>{const N=et("timeago");return e(),s("div",Tm,[t("div",Vm,[Mm,Lm,t("div",Rm,[t("div",Bm,[t("div",jm,[B(Ft,{uploadDataView:i.value},null,8,["uploadDataView"])]),t("div",Im,[t("button",{type:"button",onClick:v,class:"btn btn-outline-success btn-sm"},[t("i",{class:st(["bi",g.value?"bi-eye-slash":"bi-eye"])},null,2)])]),t("div",Ym,[Om,t("div",Nm,[t("strong",null,o(_.value.description),1),B(Ft,{statusData:i.value.status},null,8,["statusData"])]),i.value.upload_type==0?(e(),s("hr",qm)):r("",!0),i.value.upload_type==0?(e(),s("div",Hm,[Km,E(),t("a",{onClick:V[0]||(V[0]=T=>D(i.value.doi)),href:"#"},o(i.value.doi),1)])):r("",!0),i.value.upload_type==0?(e(),s("hr",Gm)):r("",!0),i.value.upload_type==0?(e(),s("div",zm,[Jm,E(" "+o(i.value.issue_numbers),1)])):r("",!0),i.value.upload_type==0?(e(),s("hr",Wm)):r("",!0),i.value.upload_type==0?(e(),s("div",Qm,[Zm,E(" "+o(i.value.publisher),1)])):r("",!0),i.value.upload_type==0?(e(),s("hr",Xm)):r("",!0),i.value.upload_type==0?(e(),s("div",th,[eh,E(" "+o(i.value.department!=null?i.value.department.description:""),1)])):r("",!0),i.value.upload_type==0?(e(),s("hr",sh)):r("",!0)]),t("div",oh,[t("a",{href:"#",class:"link-download",onClick:V[1]||(V[1]=T=>C(y.value))},[ah,E(" "),t("small",nh,o(y.value.original_name),1)])]),t("div",lh,[t("div",ih,[dh,t("ul",ch,[(e(!0),s(q,null,H(i.value.authors,(T,K)=>(e(),s("li",{class:"list-group-item text-primary p-1",key:K},o(T.first_name)+" "+o(T.middle_name)+" "+o(T.last_name),1))),128))])])])])]),t("div",rh,[t("div",uh,[t("div",ph,[S(t("div",_h,[B(Bt,{pdfFile:h.value},null,8,["pdfFile"])],512),[[nt,g.value]]),S(t("div",mh,[t("div",hh,[t("h5",vh,o(i.value.title),1),t("div",null,[R.value?r("",!0):(e(),s("div",fh,[t("button",{type:"button",onClick:V[2]||(V[2]=X(T=>L(),["prevent"])),class:"btn btn-primary btn-sm"}," Approve "),ut(i.value.userdoc)?(e(),s("button",{key:0,type:"button",onClick:V[3]||(V[3]=X(T=>tt(),["prevent"])),class:"btn btn-warning btn-sm"}," Disapprove ")):r("",!0)]))])]),t("div",bh,[i.value.upload_type==0?(e(),s("div",{key:0,class:st(["blockquote",m.value?"text-truncate-message":""]),style:{"max-width":"100em"}},[gh,E(" "+o(i.value.abstract),1)],2)):r("",!0),i.value.upload_type==0?(e(),s("button",{key:1,type:"button",onClick:f,class:"btn btn-sm btn-outline-secondary"},o(m.value?" See more..":"show less.."),1)):r("",!0),i.value.upload_type==0?(e(),s("hr",$h)):r("",!0),i.value.upload_type==0?(e(),s("div",yh,[t("div",xh,[wh,(e(!0),s(q,null,H(i.value.keywords,(T,K)=>(e(),s("span",{class:"badge bg-success me-1 mb-1",key:K},o(T.description),1))),128))]),kh,t("div",Dh,o(P(i.value.publication_date)),1)])):r("",!0),t("div",Ch,[Sh,t("div",Ph,o(dt(i.value.userdoc)),1)])])],512),[[nt,!g.value]])])])])]),ut(i.value.userdoc)?(e(),s("div",Ah,[t("div",Uh,[t("div",Fh,[(e(!0),s(q,null,H(i.value.feedback,(T,K)=>(e(),s("div",{class:"card-body text-start",key:K},[t("div",Eh,[t("img",{class:"rounded-circle shadow-1-strong me-3",src:T.sender.image==null?"/img/user.png":"data:"+T.sender.extension+";base64,"+T.sender.image,alt:"avatar",width:"60",height:"60"},null,8,Th),t("div",null,[t("h6",Vh,o(T.sender.first_name),1),t("p",Mh,[E(" Sent - "),B(N,{datetime:T.created_at},null,8,["datetime"])])])]),t("p",Lh,o(T.message),1),Rh]))),128)),t("div",Bh,[jh,t("div",Ih,[S(t("textarea",{"onUpdate:modelValue":V[4]||(V[4]=T=>x.message=T),class:"form-control w-75",placeholder:"Enter Message"},null,512),[[Y,x.message]]),u(a).message?(e(),s("span",Yh,o(u(a).message[0]),1)):r("",!0)]),t("div",Oh,[t("button",{type:"button",onClick:V[5]||(V[5]=X(T=>W(),["prevent"])),class:"btn btn-primary"},[Nh,E(" "+o(p.value),1)])])])])])])):r("",!0)])}}},Hh=it(qh,[["__scopeId","data-v-6de53567"]]),Kh={class:"container mt-2"},Gh={class:"row"},zh={class:"col-md-12 text-start"},Jh=t("h4",{class:"m-0"},"Users",-1),Wh=t("hr",{class:"m-0"},null,-1),Qh={class:"col-md-12 mb-3"},Zh={class:"contact-information w-100"},Xh={class:"d-flex"},tv=t("label",null,"Contact #:",-1),ev={class:"fw-bold"},sv=t("i",{class:"bi bi-pencil-square"},null,-1),ov={class:"d-flex"},av=t("label",null,"Information:",-1),nv={class:"fw-bold text-start text-truncate w-50"},lv={class:"col-12 mb-3 mb-lg-5"},iv={class:"overflow-hidden card table-nowrap table-card"},dv={class:"card-header d-flex justify-content-between align-items-center"},cv=t("h5",{class:"mb-0"},"List",-1),rv={class:""},uv={class:"d-flex"},pv={class:"input-group input-group-sm p-2"},_v=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),mv={class:"input-group input-group-sm p-2"},hv=t("option",{value:""},"Choose...",-1),vv=["value"],fv=t("label",{class:"input-group-text bg-select",for:"inputGroupSelect02"},"Department",-1),bv={class:"input-group input-group-sm p-2"},gv=t("option",{value:""},"Choose...",-1),$v=t("option",{value:2},"Admin",-1),yv=t("option",{value:1},"Faculty",-1),xv=[gv,$v,yv],wv=t("label",{class:"input-group-text bg-select",for:"inputGroupSelect02"},"Role",-1),kv={class:"table-responsive"},Dv={class:"table mb-0"},Cv=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Name"),t("th",null,"Email"),t("th",null,"Department"),t("th",null,"Role"),t("th",null,"Status"),t("th",{class:"text-end"},"Action")])],-1),Sv={class:"d-flex align-items-center"},Pv=t("i",{class:"bi bi-person-bounding-box me-2 icon-file"},null,-1),Av={class:"text-primary"},Uv={class:"text-end"},Fv={class:"drodown"},Ev={key:0,"data-bs-toggle":"dropdown",href:"#",class:"btn p-1","aria-expanded":"false"},Tv=t("i",{class:"fa fa-bars","aria-hidden":"true"},null,-1),Vv=[Tv],Mv={class:"dropdown-menu dropdown-menu-end dd-bg"},Lv=["onClick"],Rv=["onClick"],Bv=["onClick"],jv={colspan:"6"},Iv={key:0,class:"mt-2 d-flex justify-content-end me-2","aria-label":"..."},Yv={class:"pagination pagination-sm custom-page"},Ov=["innerHTML","onClick"],Nv={class:"modal-dialog modal-lg"},qv={class:"modal-content"},Hv=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLabel"},"Create User"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Kv={class:"modal-body text-start mb-3 row"},Gv={class:"form-group col-6"},zv=t("label",null,"First name",-1),Jv={key:0,class:"text-danger"},Wv={class:"form-group col-6"},Qv=t("label",null,"Middle Initial",-1),Zv={key:0,class:"text-danger"},Xv={class:"form-group col-6"},tf=t("label",null,"Last name",-1),ef={key:0,class:"text-danger"},sf={class:"form-group col-6"},of=t("label",null,"Role",-1),af=t("option",{value:""},"Choose...",-1),nf=t("option",{value:2},"Admin",-1),lf=t("option",{value:1},"Faculty",-1),df=[af,nf,lf],cf={key:0,class:"text-danger"},rf={key:0,class:"form-group col-6"},uf=t("label",null,"Department",-1),pf=t("option",{value:""},"Choose...",-1),_f=["value"],mf={key:0,class:"text-danger"},hf={class:"form-group col-12"},vf=t("label",null,"Email",-1),ff={key:0,class:"text-danger"},bf={class:"form-group col-6"},gf=t("label",null,"Password",-1),$f={key:0,class:"text-danger"},yf={class:"form-group col-6"},xf=t("label",null,"Password Confirmation",-1),wf={key:0,class:"text-danger"},kf={class:"modal-footer"},Df=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),Cf={class:"modal-dialog"},Sf={class:"modal-content"},Pf=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLabel"},"Create Information"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Af={class:"modal-body text-start mb-3 row"},Uf={class:"form-group col-12"},Ff=t("label",null,"Contact Number",-1),Ef={key:0,class:"text-danger"},Tf={class:"form-group col-12"},Vf=t("label",null,"Information",-1),Mf={key:0,class:"text-danger"},Lf={class:"modal-footer"},Rf=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),Bf={class:"modal-dialog"},jf={class:"modal-content"},If=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLabel"},"Reset Password"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Yf={class:"modal-body text-start mb-3 row"},Of=t("div",{class:"fs-5"},"Please enter new Password",-1),Nf={class:"fw-bold"},qf={class:"form-group col-12 mb-2"},Hf=t("label",null,"Password",-1),Kf={key:0,class:"text-danger"},Gf={class:"form-group col-12"},zf=t("label",null,"Password Confirmation",-1),Jf={key:0,class:"text-danger"},Wf={class:"modal-footer"},Qf=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),Zf={__name:"User",setup(k){const b=l([]);let c=l([]),_=l(""),a=l(""),n=l(""),p=l([]);const i=l([]),y=()=>({first_name:"",middle_initial:"",last_name:"",email:"",department:"",role:null,password:"",password_confirmation:"",id:null}),h=ct(y()),g=()=>Object.assign(h,y()),$=l(null);let U=null;const P=l(null);let C=null;const d=l(null);let w=null;ot(()=>{D(),f(),R(),K(),U=new It($.value),C=new It(P.value),w=new It(d.value)});const v=F=>ht(F).format("MMMM D, YYYY | hh:mm a"),D=()=>{axios.get("/api/users?search="+_.value+"&filter="+a.value+"&dept="+n.value).then(F=>{b.value=F.data.data,c.value=F.data.links})};lt(_,()=>{D()});const m=F=>{!F.url||F.active||axios.get(F.url).then(J=>{b.value=J.data.data,c.value=J.data.links})},f=()=>{axios.get("/api/list-topapers").then(F=>{i.value=F.data})},x=F=>F==null?!0:F.length>0,L=l([]),R=()=>{axios.get("/api/list-departments").then(F=>{L.value=F.data})},W=()=>{D()},tt=F=>{if(F!=null)return F.description},dt=F=>{Swal.fire({title:"User Activation",text:F.activate==0?" Do you want to Activate":"Do you want to Deactivate this account!",icon:"question",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes"}).then(J=>{J.isConfirmed&&axios.get(`/api/users/${F.id}`).then(M=>{Swal.fire({title:F.activate==0?"Activated":"Deactivated",text:F.activate==0?"User has been activate":"User has been deactivate",icon:"success",confirmButtonColor:"#26884b"}),D()})})},ut=()=>{U.show()},Q=l(!0),V=F=>{F==2?Q.value=!1:Q.value=!0},N=()=>{axios.post("/api/users",h).then(F=>{toast.fire({icon:"success",title:"User added Successfully!"}),U.hide(),p.value=[],g(),D()}).catch(F=>{p.value=F.response.data.errors})},T=ct({contact_number:"",information:""}),K=()=>{axios.get("/api/admin-contact").then(F=>{const J=F.data;T.contact_number=J.contact_number,T.information=J.information})},O=()=>{axios.post("/api/admin-contact",T).then(F=>{toast.fire({icon:"success",title:"Admin contact information has been modified!"}),C.hide(),K()})},A=()=>{C.show()},j=F=>{h.first_name=F.first_name,h.middle_initial=F.middle_initial,h.last_name=F.last_name,h.id=F.id,w.show()},G=()=>{I.value="Saving...",axios.put("/api/change-password/"+h.id,h).then(F=>{toast.fire({icon:"success",title:"User's password has been changed!"}),I.value="Save Changes",w.hide(),p.value=[],g(),D()}).catch(F=>{I.value="Save Changes",p.value=F.response.data.errors})},I=l("Save Changes"),z=F=>{Swal.fire({title:"Are you sure? "+F.first_name+" "+F.last_name,text:"You won't be able to revert this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes, delete it!"}).then(J=>{J.isConfirmed&&axios.delete(`/api/users/${F.id}`).then(M=>{Swal.fire({title:"Deleted!",text:"User has been deleted.",icon:"success",confirmButtonColor:"#26884b"}),D()})})};return(F,J)=>(e(),s("div",Kh,[t("div",Gh,[t("div",zh,[Jh,t("p",null,o(v(new Date)),1),Wh]),t("div",Qh,[t("div",Zh,[t("div",Xh,[tv,t("div",ev,"  "+o(T.contact_number),1),t("a",{href:"#",onClick:J[0]||(J[0]=M=>A()),class:"text-end ms-5"},[sv,E(" Edit ")])]),t("div",ov,[av,t("div",nv,"  "+o(T.information),1)])])]),t("div",lv,[t("div",iv,[t("div",dv,[cv,t("div",rv,[t("button",{type:"button",onClick:J[1]||(J[1]=M=>ut()),class:"btn btn-outline-success btn-sm"}," Add user ")])]),t("div",uv,[t("div",pv,[S(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":J[2]||(J[2]=M=>bt(_)?_.value=M:_=M),"aria-describedby":"button-addon1"},null,512),[[Y,u(_)]]),_v]),t("div",mv,[S(t("select",{class:"form-select",id:"inputGroupSelect02","onUpdate:modelValue":J[3]||(J[3]=M=>bt(n)?n.value=M:n=M),onChange:W},[hv,(e(!0),s(q,null,H(L.value,(M,yt)=>(e(),s("option",{key:yt,value:M.id},o(M.description),9,vv))),128))],544),[[pt,u(n)]]),fv]),t("div",bv,[S(t("select",{class:"form-select",id:"inputGroupSelect02","onUpdate:modelValue":J[4]||(J[4]=M=>bt(a)?a.value=M:a=M),onChange:W},xv,544),[[pt,u(a)]]),wv])]),t("div",kv,[t("table",Dv,[Cv,t("tbody",null,[(e(!0),s(q,null,H(b.value,(M,yt)=>(e(),s("tr",{class:"align-middle",key:yt},[t("td",null,[t("div",Sv,[Pv,t("strong",Av,o(M.first_name)+" "+o(M.middle_initial)+" "+o(M.last_name),1)])]),t("td",null,o(M.email),1),t("td",null,o(tt(M.department)),1),t("td",null,o(M.role==1?"Faculty":"Admin"),1),t("td",null,o(M.activate==0?"inactive":"activated"),1),t("td",Uv,[t("div",Fv,[M.role==1?(e(),s("a",Ev,Vv)):r("",!0),t("div",Mv,[t("a",{href:"#",class:"dropdown-item dd-item",onClick:Nt=>dt(M)},o(M.activate==0&&M.role==1?"Activate":"Deactivate"),9,Lv),t("a",{href:"#",class:"dropdown-item dd-item",onClick:Nt=>j(M)},"Reset Password",8,Rv),t("a",{href:"#",class:"dropdown-item dd-item",onClick:Nt=>z(M)},"Remove User",8,Bv)])])])]))),128)),t("tr",null,[S(t("td",jv," No Result Found! ",512),[[nt,!x(b.value)]])])])]),x(b.value)?(e(),s("nav",Iv,[t("ul",Yv,[(e(!0),s(q,null,H(u(c),(M,yt)=>(e(),s("li",{class:"page-item","aria-current":"page",key:yt},[t("a",{class:st(["page-link",{active:M.active,disabled:!M.url}]),href:"#",innerHTML:M.label,onClick:Nt=>m(M)},null,10,Ov)]))),128))])])):r("",!0)])])])]),t("div",{class:"modal fade",id:"userActivate",ref_key:"modalEle",ref:$,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",Nv,[t("div",qv,[Hv,t("div",Kv,[t("div",Gv,[zv,S(t("input",{type:"text",ref:"input","onUpdate:modelValue":J[5]||(J[5]=M=>h.first_name=M),class:"form-control form-control form-control-sm",placeholder:"Enter First name"},null,512),[[Y,h.first_name]]),u(p).first_name?(e(),s("span",Jv,o(u(p).first_name[0]),1)):r("",!0)]),t("div",Wv,[Qv,S(t("input",{type:"text",ref:"input","onUpdate:modelValue":J[6]||(J[6]=M=>h.middle_initial=M),class:"form-control form-control form-control-sm",placeholder:"Enter Middle Initial"},null,512),[[Y,h.middle_initial]]),u(p).middle_initial?(e(),s("span",Zv,o(u(p).middle_initial[0]),1)):r("",!0)]),t("div",Xv,[tf,S(t("input",{type:"text",ref:"input","onUpdate:modelValue":J[7]||(J[7]=M=>h.last_name=M),class:"form-control form-control form-control-sm",placeholder:"Enter Last name"},null,512),[[Y,h.last_name]]),u(p).last_name?(e(),s("span",ef,o(u(p).last_name[0]),1)):r("",!0)]),t("div",sf,[of,S(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":J[8]||(J[8]=M=>h.role=M),onChange:J[9]||(J[9]=M=>V(h.role))},df,544),[[pt,h.role]]),u(p).role?(e(),s("span",cf,o(u(p).role[0]),1)):r("",!0)]),Q.value?(e(),s("div",rf,[uf,S(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":J[10]||(J[10]=M=>h.department=M)},[pf,(e(!0),s(q,null,H(L.value,(M,yt)=>(e(),s("option",{key:yt,value:M.id},o(M.description),9,_f))),128))],512),[[pt,h.department]]),u(p).department?(e(),s("span",mf,o(u(p).department[0]),1)):r("",!0)])):r("",!0),t("div",hf,[vf,S(t("input",{type:"text",ref:"input","onUpdate:modelValue":J[11]||(J[11]=M=>h.email=M),class:"form-control form-control form-control-sm",placeholder:"Enter Email"},null,512),[[Y,h.email]]),u(p).email?(e(),s("span",ff,o(u(p).email[0]),1)):r("",!0)]),t("div",bf,[gf,S(t("input",{type:"password",ref:"input","onUpdate:modelValue":J[12]||(J[12]=M=>h.password=M),class:"form-control form-control form-control-sm",placeholder:"Enter Password"},null,512),[[Y,h.password]]),u(p).password?(e(),s("span",$f,o(u(p).password[0]),1)):r("",!0)]),t("div",yf,[xf,S(t("input",{type:"password",ref:"input","onUpdate:modelValue":J[13]||(J[13]=M=>h.password_confirmation=M),class:"form-control form-control form-control-sm",placeholder:"Enter Password Confirmation"},null,512),[[Y,h.password_confirmation]]),u(p).password_confirmation?(e(),s("span",wf,o(u(p).password_confirmation[0]),1)):r("",!0)])]),t("div",kf,[t("button",{type:"button",onClick:J[14]||(J[14]=X(M=>N(),["prevent"])),class:"btn btn-primary"},"Save"),Df])])])],512),t("div",{class:"modal fade",id:"info",ref_key:"inform",ref:P,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",Cf,[t("div",Sf,[Pf,t("div",Af,[t("div",Uf,[Ff,S(t("input",{type:"text",ref:"input","onUpdate:modelValue":J[15]||(J[15]=M=>T.contact_number=M),class:"form-control form-control form-control-sm",placeholder:"Enter Contact Number"},null,512),[[Y,T.contact_number]]),u(p).contact_number?(e(),s("span",Ef,o(u(p).contact_number[0]),1)):r("",!0)]),t("div",Tf,[Vf,S(t("textarea",{ref:"input","onUpdate:modelValue":J[16]||(J[16]=M=>T.information=M),class:"form-control form-control form-control-sm",placeholder:"Enter Information"},null,512),[[Y,T.information]]),u(p).information?(e(),s("span",Mf,o(u(p).information[0]),1)):r("",!0)])]),t("div",Lf,[t("button",{type:"button",onClick:J[17]||(J[17]=X(M=>O(),["prevent"])),class:"btn btn-primary"},"Save"),Rf])])])],512),t("div",{class:"modal fade",id:"info",ref_key:"resetPass",ref:d,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",Bf,[t("div",jf,[If,t("div",Yf,[Of,t("div",Nf,o(h.first_name)+" "+o(h.middle_initial)+" "+o(h.last_name),1),t("div",qf,[Hf,S(t("input",{type:"password",ref:"input","onUpdate:modelValue":J[18]||(J[18]=M=>h.password=M),class:"form-control form-control form-control-sm",placeholder:"Enter Password"},null,512),[[Y,h.password]]),u(p).password?(e(),s("span",Kf,o(u(p).password[0]),1)):r("",!0)]),t("div",Gf,[zf,S(t("input",{type:"password",ref:"input","onUpdate:modelValue":J[19]||(J[19]=M=>h.password_confirmation=M),class:"form-control form-control form-control-sm",placeholder:"Enter Password Confirmation"},null,512),[[Y,h.password_confirmation]]),u(p).password_confirmation?(e(),s("span",Jf,o(u(p).password_confirmation[0]),1)):r("",!0)])]),t("div",Wf,[t("button",{type:"button",onClick:J[20]||(J[20]=X(M=>G(),["prevent"])),class:"btn btn-primary"},o(I.value),1),Qf])])])],512)]))}},Mt=k=>(_t("data-v-d239c88f"),k=k(),mt(),k),Xf={class:"container rounded bg-white mb-5 mt-3"},tb={class:"row"},eb={class:"col-md-3 border-right"},sb={class:"d-flex flex-column align-items-center text-center p-3 py-5"},ob=["src"],ab={class:"font-weight-bold fw-bold"},nb={class:"text-black-50"},lb=Mt(()=>t("span",null,null,-1)),ib={class:"col-md-9 border-right text-start"},db={class:"p-3 py-5"},cb=Mt(()=>t("div",{class:"d-flex justify-content-between align-items-center mb-1"},[t("h4",{class:"text-right"},"User Activation")],-1)),rb={class:"badge bg-success fs-6 p-2"},ub=Mt(()=>t("hr",null,null,-1)),pb={class:"user-info row fs-6"},_b={class:"col-md-4"},mb=Mt(()=>t("label",null,"First name: ",-1)),hb={class:"fw-bold ms-1"},vb={class:"col-md-4"},fb=Mt(()=>t("label",null,"Middle Initial: ",-1)),bb={class:"fw-bold ms-1"},gb={class:"col-md-4"},$b=Mt(()=>t("label",null,"Last name: ",-1)),yb={class:"fw-bold ms-1"},xb={class:"col-md-12"},wb=Mt(()=>t("label",null,"Email: ",-1)),kb={class:"fw-bold ms-1"},Db={class:"col-md-12"},Cb=Mt(()=>t("label",null,"Department: ",-1)),Sb={class:"fw-bold ms-1"},Pb={class:"mt-5"},Ab={__name:"Newly",setup(k){ft();const b=Vt();ot(()=>{const i=b.params.id;n(i)}),lt(()=>b.params.id,(i,y)=>{n(i)});const c=l({});l([]);const a=ct({first_name:"",middle_initial:"",last_name:"",email:"",id:null,password:"",password_confirmation:""}),n=i=>{axios.get("/api/users-faculty/"+i).then(y=>{c.value=y.data;let h=y.data;a.first_name=h.first_name,a.middle_initial=h.middle_initial,a.last_name=h.last_name,a.email=h.email,a.id=h.id})},p=i=>{Swal.fire({title:"User Activation",text:i.activate==0?" Do you want to Activate":"Do you want to Deactivate this account!",icon:"question",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes"}).then(y=>{y.isConfirmed&&axios.get(`/api/users/${i.id}`).then(h=>{Swal.fire({title:i.activate==0?"Activated":"Deactivated",text:i.activate==0?"User has been activate":"User has been deactivate",icon:"success",confirmButtonColor:"#26884b"}),n(i.id)})})};return(i,y)=>(e(),s("div",Xf,[t("div",tb,[t("div",eb,[t("div",sb,[t("img",{class:"rounded-circle",width:"150px",src:c.value.image==null?"/img/user.png":"data:"+c.value.extension+";base64,"+c.value.image},null,8,ob),t("span",ab,o(c.value.first_name)+" "+o(c.value.middle_initial)+" "+o(c.value.last_name),1),t("span",nb,o(c.value.email),1),lb])]),t("div",ib,[t("div",db,[cb,t("div",rb,o(c.value.activate==0?" Deactivated":"Activated"),1),ub,t("div",pb,[t("div",_b,[mb,t("strong",hb,o(c.value.first_name),1)]),t("div",vb,[fb,t("strong",bb,o(c.value.middle_initial),1)]),t("div",gb,[$b,t("strong",yb,o(c.value.last_name),1)]),t("div",xb,[wb,t("strong",kb,o(c.value.email),1)]),t("div",Db,[Cb,t("strong",Sb,o(c.value.department!=null?c.value.department.description:""),1)])]),t("div",Pb,[t("button",{class:"btn btn-outline-success",onClick:y[0]||(y[0]=X(h=>p(c.value),["prevent"])),type:"button"},o(c.value.activate==0?" Activate?":"Deactivate?"),1)])])])])]))}},Ub=it(Ab,[["__scopeId","data-v-d239c88f"]]),Fb={class:"card"},Eb=t("label",{class:"btn btn-primary mb-2",for:"filename"},"Click here to select files",-1),Tb=t("h3",null,"Drag or Drop files here!",-1),Vb=t("p",{class:"text-muted"},"Only pdf files are accepted to upload",-1),Mb=t("input",{type:"file",class:"hidden fileupload",accept:".pdf",id:"filename"},null,-1),Lb={class:"row"},Rb={class:"col-md-12 d-flex flex-wrap justify-content-around mt-2 mb-0"},Bb={key:0,class:"card file-card m-2"},jb={class:"card-body p-0"},Ib=t("i",{class:"fa fa-close"},null,-1),Yb=[Ib],Ob={class:"file-title text-muted truncate text-start"},Nb=t("div",{class:"card-content d-flex justify-content-center position-relative"},[t("div",{class:"position-absolute file-icon d-flex justify-content-center"},[t("img",{class:"img-icon position-absolute",src:"/img/pdf.jpg"})])],-1),ae={__name:"SingleDrop",props:{filePdf:{type:Object,required:!0}},emits:["removeFile"],setup(k,{emit:b}){const c=l(!1);l(!1);const _=l({}),a=k,n=()=>{c.value=!c.value},p=b,i=y=>{p("removeFile",y)};return lt(()=>a.filePdf,(y,h)=>{_.value=y}),(y,h)=>(e(),s("div",Fb,[t("div",{class:st(["card-body upload-file",{is_active:c.value}]),onDragenter:X(n,["prevent"]),onDragleave:X(n,["prevent"]),onDragover:h[0]||(h[0]=X(()=>{},["prevent"])),onDrop:X(n,["prevent"])},[Eb,Tb,Vb,Mb,t("div",Lb,[t("div",Rb,[_.value.name!=null?(e(),s("div",Bb,[t("div",jb,[t("div",{class:"card-icon",onClick:i},Yb),t("label",Ob,o(_.value.name),1),Nb])])):r("",!0)])])],34)]))}},qb={class:"row"},Hb={class:"col-12"},Kb={class:"input-tag"},Gb=["onClick"],zb=["onKeydown"],Ot={__name:"InputTag",props:{keywords:{type:Object,required:!1}},emits:["showData"],setup(k,{emit:b}){const c=b,_=k;ot(()=>{a.value=_.keywords==null?[]:_.keywords});const a=l([]),n=l(""),p=(y,h)=>{h.id!=null?Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes, delete it!"}).then(g=>{g.isConfirmed&&axios.delete("/api/doc-keyword/"+h.id).then($=>{a.value.splice(y,1),c("showData",a.value),Swal.fire({title:"Deleted!",text:"Keyword has been deleted.",icon:"success",confirmButtonColor:"#26884b"})})}):(a.value.splice(y,1),c("showData",a.value))},i=()=>{const y=a.value.filter(h=>h.description==n.value);n.value!=""&&y.length==0&&(a.value.push({description:n.value}),n.value="",c("showData",a.value))};return(y,h)=>(e(),s("div",qb,[t("div",Hb,[t("div",Kb,[(e(!0),s(q,null,H(a.value,(g,$)=>(e(),s("div",{key:$,class:"badge rounded-pill text-white me-1 mt-1 tag"},[E(o(g.description)+" ",1),t("i",{class:"bi bi-x-circle close-tag",onClick:U=>p($,g)},null,8,Gb)]))),128)),S(t("input",{type:"text",class:"text-tag p-0 m-0",onKeydown:Yt(X(i,["prevent"]),[","]),"onUpdate:modelValue":h[0]||(h[0]=g=>n.value=g),placeholder:"Enter keywords..."},null,40,zb),[[Y,n.value]])])])]))}},Jb={class:"row"},Wb={class:"col-12"},Qb={class:"input-tag"},Zb=["onClick"],Xb={key:0,class:"search-data"},t1={class:"item-data-none"},e1={class:"input-group input-group-sm"},s1=t("span",{class:"input-group-text bg-primary text-white",id:"inputGroup-sizing-default"},"Add Author: ",-1),o1=t("i",{class:"bi bi-x"},null,-1),a1=[o1],n1=t("i",{class:"bi bi-floppy"},null,-1),l1=[n1],i1=t("i",{class:"bi bi-x-octagon"},null,-1),d1=[i1],c1={key:0,class:"text-danger error-message"},r1={key:1,class:"text-danger error-message"},u1={key:2,class:"text-danger error-message"},p1=t("li",null,[t("hr",{class:"m-0"})],-1),_1=["onClick"],m1=t("i",{class:"bi bi-plus-circle me-auto"},null,-1),h1={class:"item-data text-danger error-message"},zt={__name:"AuthorFilter",props:{urlString:{type:String,required:!0}},emits:["loadFilter"],setup(k,{emit:b}){const c=b,_=k,a=l([]),n=()=>({first_name:"",middle_name:"",last_name:"",id:null}),p=ct(n()),i=()=>{y.value="",Object.assign(p,n())},y=l(""),h=l([]);l("");const g=l("");let $=l([]);const U=m=>{h.value.splice(m,1),g.value="",c("loadFilter",h.value)},P=m=>{h.value.filter(x=>x.id==m.id).length==0?(h.value.push({id:m.id,first_name:m.first_name,middle_name:m.middle_name,last_name:m.last_name}),y.value="",g.value="",c("loadFilter",h.value)):g.value="Duplicate Entry!"};lt(y,()=>{C(_.urlString)});const C=m=>{axios.get(m+"?search="+y.value).then(f=>{a.value=f.data.data})},d=(m=_.urlString)=>{axios.post(m,p).then(f=>{C(_.urlString),$.value=[],i()}).catch(f=>{$.value=f.response.data.errors})},w=()=>{a.value=[],g.value=""},v=()=>{y.value!=""&&C(_.urlString)},D=()=>{p.description=y.value};return(m,f)=>(e(),s("div",Jb,[t("div",Wb,[t("div",Qb,[(e(!0),s(q,null,H(h.value,(x,L)=>(e(),s("div",{key:L,class:"badge rounded-pill text-white me-1 mt-1 tag"},[E(o(x.first_name)+" "+o(x.middle_name)+" "+o(x.last_name)+" ",1),t("i",{class:"bi bi-x-circle-fill close-tag",onClick:R=>U(L)},null,8,Zb)]))),128)),S(t("input",{type:"text",class:"text-tag p-0 m-0",onFocus:v,onKeyup:D,"onUpdate:modelValue":f[0]||(f[0]=x=>y.value=x),placeholder:"Enter Author name..."},null,544),[[Y,y.value]])]),a.value.length!=0||y.value!=""?(e(),s("ul",Xb,[t("li",null,[t("div",t1,[t("div",e1,[s1,S(t("input",{type:"text","onUpdate:modelValue":f[1]||(f[1]=x=>p.first_name=x),class:"form-control",placeholder:"Enter First name"},null,512),[[Y,p.first_name]]),S(t("input",{type:"text","onUpdate:modelValue":f[2]||(f[2]=x=>p.middle_name=x),class:"form-control",placeholder:"Enter Middle name"},null,512),[[Y,p.middle_name]]),S(t("input",{type:"text","onUpdate:modelValue":f[3]||(f[3]=x=>p.last_name=x),class:"form-control",placeholder:"Enter Last name"},null,512),[[Y,p.last_name]]),t("button",{class:"btn btn-outline-secondary","data-bs-toggle":"tooltip",onClick:f[4]||(f[4]=X(x=>i(),["prevent"])),"data-bs-placement":"top",title:"clear",type:"button"},a1),t("button",{class:"btn btn-outline-secondary",onClick:f[5]||(f[5]=X(x=>d(),["prevent"])),"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Save author's name",type:"button"},l1),t("button",{class:"btn btn-outline-secondary","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Close",onClick:w,type:"button"},d1)]),u($).first_name?(e(),s("span",c1,o(u($).first_name[0]),1)):r("",!0),E("  "),u($).middle_name?(e(),s("span",r1,o(u($).middle_name[0]),1)):r("",!0),E("  "),u($).last_name?(e(),s("span",u1,o(u($).last_name[0]),1)):r("",!0)])]),p1,a.value.length!=0?(e(!0),s(q,{key:0},H(a.value,(x,L)=>(e(),s("li",{key:L},[t("a",{class:"item-data start-100",href:"#",onClick:X(R=>P(x),["prevent"])},[m1,E(" "+o(x.first_name)+" "+o(x.middle_name)+" "+o(x.last_name),1)],8,_1)]))),128)):r("",!0),t("li",null,[t("span",h1,o(g.value),1)])])):r("",!0)])]))}},Pt=k=>(_t("data-v-9c1669b4"),k=k(),mt(),k),v1={class:"container mt-3"},f1={class:"row"},b1={class:"col-12 text-start card head-card"},g1={class:"card-body p-1"},$1={class:"row d-flex justify-content-center"},y1={class:"col-md-3"},x1={class:"col-md-9"},w1={class:"card text-start"},k1={class:"card-header bg-primary d-flex"},D1=Pt(()=>t("strong",null," Form",-1)),C1={class:"card-body"},S1={class:"card-body row"},P1={class:"form-group mb-3 col-6"},A1=Pt(()=>t("label",null,"Title",-1)),U1={key:0,class:"text-danger"},F1={class:"form-group mb-3 col-6"},E1=Pt(()=>t("label",null,"Type of Papers",-1)),T1=["value"],V1={key:0,class:"text-danger"},M1={class:"form-group mb-3 col-6"},L1=Pt(()=>t("label",null,"Authors",-1)),R1={key:0,class:"text-danger"},B1={key:0,class:"form-group mb-3 col-6"},j1=Pt(()=>t("label",null,"Publication Date",-1)),I1={key:0,class:"text-danger"},Y1={key:1,class:"form-group mb-3 col-6"},O1=Pt(()=>t("label",null,"Volume/issue numbers",-1)),N1={key:0,class:"text-danger"},q1={key:2,class:"form-group mb-3 col-6"},H1=Pt(()=>t("label",null,"DOI",-1)),K1={key:0,class:"text-danger"},G1={key:3,class:"form-group mb-3 col-6"},z1=Pt(()=>t("label",null,"Abstract",-1)),J1={key:0,class:"text-danger"},W1={key:4,class:"form-group mb-3 col-6"},Q1=Pt(()=>t("label",null,"Keywords: ...use Comma Sign to seperate words ",-1)),Z1={key:0,class:"text-danger"},X1={key:5,class:"form-group mb-3 col-12"},tg=Pt(()=>t("label",null,"Publisher",-1)),eg={key:0,class:"text-danger"},sg={class:"form-group input-group-sm col-6"},og=Pt(()=>t("label",null,"College Department",-1)),ag=["value"],ng={key:0,class:"text-danger"},lg={class:"btn-group btn-sm mt-3"},ig={class:"card-footer"},dg=Pt(()=>t("i",{class:"bi bi-eye"},null,-1)),cg={__name:"UploadAdmin",setup(k){const b=j=>{const G=("0"+(j.getMonth()+1)).slice(-2),I=j.getFullYear();return G+"/"+I};ot(()=>{T(),K(),P()}),l(null);const c=l([]),_=l([]),a=l({});let n=l([]);const p=l(!1),i=new FormData,y=l(""),h=ft(),g=Vt(),$=l(!0),U=l(!1);lt(g,()=>{P()});const P=()=>{g.name==="admin.upload_p"?($.value=!0,y.value="PUBLISH",w(),a.value={},i.delete("authors[]"),i.delete("keywords[]"),n.value=[],R()):(y.value="ARCHIVE",$.value=!1,w(),a.value={},i.delete("authors[]"),i.delete("keywords[]"),n.value=[],R())},C=()=>({title:"",type_of_paper:"",college_department:"",publication_date:{month:new Date().getMonth(),year:new Date().getFullYear()},issue_numbers:"",abstract:"",doi:"",publisher:""}),d=ct(C()),w=()=>Object.assign(d,C()),v=l("submit"),D=l(!1),m=l(""),f=j=>{let G=j.dataTransfer.files;L(G),O(G)},x=()=>{let j=document.querySelector(".fileupload").files;L(j),O(j)},L=j=>{["application/pdf"].includes(j[0].type)?(a.value=j[0],p.value=!1):p.value=!0,R()},R=()=>{a.value.name!=null?D.value=!0:D.value=!1},W=j=>{let G=document.querySelector(".fileupload");G.value="",a.value={},R(),m.value="",U.value=!1},tt=j=>{i.delete("keywords[]"),_.value=j},dt=j=>{i.delete("authors[]"),c.value=j},ut=()=>{v.value="processing...",i.append("upload_type",$.value),i.append("file",a.value),i.append("authors[]",c.value.length>0?JSON.stringify(c.value):[]),i.append("keywords[]",_.value.length>0?JSON.stringify(_.value):[]),i.append("title",d.title),i.append("college_department",d.college_department),i.append("type_of_paper",d.type_of_paper),i.append("abstract",d.abstract),i.append("issue_numbers",d.issue_numbers),i.append("publication_date",d.publication_date==""?"":JSON.stringify(d.publication_date)),i.append("doi",d.doi),i.append("publisher",d.publisher),axios.post("/api/document",i,{headers:{"Content-Type":"multipart/form-data"}}).then(j=>{v.value="submit",w(),i.delete("authors[]"),i.delete("keywords[]"),toast.fire({icon:"success",title:"File Documents Uploaded Successfully!"}),h.push("/admin/request"),n.value=[]}).catch(j=>{n.value=j.response.data.errors,v.value="submit"})},Q=()=>{p.value=!1},V=l([]),N=l([]),T=()=>{axios.get("/api/list-topapers").then(j=>{V.value=j.data})},K=()=>{axios.get("/api/list-departments").then(j=>{N.value=j.data})},O=j=>{m.value=window.URL.createObjectURL(j[0])},A=()=>{U.value=!U.value};return(j,G)=>{const I=et("VueDatePicker"),z=et("router-link");return e(),s("div",v1,[t("div",f1,[t("div",b1,[t("div",g1,[t("h4",null,[t("i",{class:st(["bi",$.value?"bi-tv":"bi-archive"])},null,2),E("  "+o(y.value),1)])])])]),t("div",$1,[t("div",y1,[B(ae,{onDrop:f,filePdf:a.value,onDragenter:X(Q,["prevent"]),class:st({is_error:p.value}),onRemoveFile:W,onChange:x},null,8,["filePdf","class"])]),t("div",x1,[t("div",w1,[t("div",k1,[D1,m.value!=""?(e(),s("button",{key:0,type:"button",onClick:A,class:"btn btn-outline-success ms-auto"},[t("i",{class:st(["bi text-white",U.value?"bi-eye-slash":"bi-eye"])},null,2)])):r("",!0)]),S(t("div",C1,[m.value!=""?(e(),xt(Bt,{key:0,pdfFile:m.value},null,8,["pdfFile"])):r("",!0)],512),[[nt,m.value!=""&&U.value]]),S(t("div",S1,[t("div",P1,[A1,S(t("input",{type:"text","onUpdate:modelValue":G[0]||(G[0]=F=>d.title=F),class:"form-control form-control-sm",placeholder:"Enter Title"},null,512),[[Y,d.title]]),u(n).title?(e(),s("span",U1,o(u(n).title[0]),1)):r("",!0)]),t("div",F1,[E1,S(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":G[1]||(G[1]=F=>d.type_of_paper=F)},[(e(!0),s(q,null,H(V.value,(F,J)=>(e(),s("option",{class:"option",key:J,value:F.id},o(F.description),9,T1))),128))],512),[[pt,d.type_of_paper]]),u(n).type_of_paper?(e(),s("span",V1,o(u(n).type_of_paper[0]),1)):r("",!0)]),t("div",M1,[L1,B(zt,{urlString:"/api/setting-author",onLoadFilter:dt}),u(n)["authors.0"]?(e(),s("span",R1,o(u(n)["authors.0"][0].replace(".0","")),1)):r("",!0)]),$.value?(e(),s("div",B1,[j1,B(I,{modelValue:d.publication_date,"onUpdate:modelValue":G[2]||(G[2]=F=>d.publication_date=F),format:b,"month-picker":"",placeholder:"Enter Publication date"},null,8,["modelValue"]),u(n).publication_date?(e(),s("span",I1,o(u(n).publication_date[0]),1)):r("",!0)])):r("",!0),$.value?(e(),s("div",Y1,[O1,S(t("input",{type:"text","onUpdate:modelValue":G[3]||(G[3]=F=>d.issue_numbers=F),class:"form-control form-control-sm",placeholder:"Enter Issue Numbers"},null,512),[[Y,d.issue_numbers]]),u(n).issue_numbers?(e(),s("span",N1,o(u(n).issue_numbers[0]),1)):r("",!0)])):r("",!0),$.value?(e(),s("div",q1,[H1,S(t("input",{type:"text","onUpdate:modelValue":G[4]||(G[4]=F=>d.doi=F),class:"form-control form-control-sm",placeholder:"Enter DOI"},null,512),[[Y,d.doi]]),u(n).doi?(e(),s("span",K1,o(u(n).doi[0]),1)):r("",!0)])):r("",!0),$.value?(e(),s("div",G1,[z1,S(t("textarea",{"onUpdate:modelValue":G[5]||(G[5]=F=>d.abstract=F),class:"form-control form-control-sm",placeholder:"Enter Abstract"},null,512),[[Y,d.abstract]]),u(n).abstract?(e(),s("span",J1,o(u(n).abstract[0]),1)):r("",!0)])):r("",!0),$.value?(e(),s("div",W1,[Q1,B(Ot,{onShowData:tt}),u(n)["keywords.0"]?(e(),s("span",Z1,o(u(n)["keywords.0"][0].replace(".0","")),1)):r("",!0)])):r("",!0),$.value?(e(),s("div",X1,[tg,S(t("input",{type:"text","onUpdate:modelValue":G[6]||(G[6]=F=>d.publisher=F),class:"form-control form-control-sm",placeholder:"Enter Publisher"},null,512),[[Y,d.publisher]]),u(n).publisher?(e(),s("span",eg,o(u(n).publisher[0]),1)):r("",!0)])):r("",!0),t("div",sg,[og,S(t("select",{class:"form-select","onUpdate:modelValue":G[7]||(G[7]=F=>d.college_department=F)},[(e(!0),s(q,null,H(N.value,(F,J)=>(e(),s("option",{key:J,value:F.id},o(F.description),9,ag))),128))],512),[[pt,d.college_department]]),u(n).college_department?(e(),s("span",ng,o(u(n).college_department[0]),1)):r("",!0)]),t("div",lg,[D.value?(e(),s("button",{key:0,type:"button",onClick:X(ut,["prevent"]),class:"btn btn-primary"},o(v.value),1)):r("",!0)])],512),[[nt,!U.value]]),t("div",ig,[B(z,{to:{name:"admin.request"}},{default:Z(()=>[dg,E(" View uploaded documents ")]),_:1})])])])])])}}},Qt=it(cg,[["__scopeId","data-v-9c1669b4"]]),rg={class:"card"},ug={class:"fw-bold fs-5 text-danger"},pg=t("label",{class:"btn btn-primary mb-2",for:"filename"},"Click here to select files",-1),_g=t("h3",null,"Drag or Drop files here!",-1),mg=t("p",{class:"text-muted"},"Only pdf files are accepted to upload!",-1),hg=t("input",{type:"file",class:"hidden fileupload",accept:".pdf",id:"filename"},null,-1),vg={class:"row"},fg={class:"col-md-12 d-flex flex-wrap justify-content-around mt-2 mb-0"},bg={key:0,class:"card file-card m-2"},gg={class:"card-body p-0"},$g=t("i",{class:"fa fa-close"},null,-1),yg=[$g],xg={class:"file-title text-muted truncate text-start"},wg=t("div",{class:"card-content d-flex justify-content-center position-relative"},[t("div",{class:"position-absolute file-icon d-flex justify-content-center"},[t("img",{class:"img-icon position-absolute",src:"/img/pdf.jpg"})])],-1),kg={key:0,class:"col-md-12 mt-3"},ne={__name:"EditDrop",props:{filePdf:{type:Object,required:!0},dbpdf:{type:Object,required:!0}},emits:["removeFile","saveUpload"],setup(k,{emit:b}){const c=b,_=l(!1);l(!1);const a=l({}),n=k,p=()=>{_.value=!_.value},i=h=>{c("removeFile",h)};lt(()=>n.filePdf,(h,g)=>{a.value=h});const y=()=>{c("saveUpload",null)};return(h,g)=>(e(),s("div",rg,[t("div",{class:st(["card-body upload-file",{is_active:_.value}]),onDragenter:X(p,["prevent"]),onDragleave:X(p,["prevent"]),onDragover:g[1]||(g[1]=X(()=>{},["prevent"])),onDrop:X(p,["prevent"])},[t("span",ug,o(n.dbpdf.original_name),1),pg,_g,mg,hg,t("div",vg,[t("div",fg,[a.value.name!=null?(e(),s("div",bg,[t("div",gg,[t("div",{class:"card-icon",onClick:i},yg),t("label",xg,o(a.value.name),1),wg])])):r("",!0)]),a.value.name!=null?(e(),s("div",kg,[t("button",{type:"button",onClick:g[0]||(g[0]=$=>y()),class:"btn btn-outline-success btn-sm"},"Save changes")])):r("",!0)])],34)]))}},Dg={class:"row"},Cg={class:"col-12"},Sg={class:"input-tag"},Pg=["onClick"],Ag={key:0,class:"search-data"},Ug={class:"item-data-none"},Fg={class:"input-group input-group-sm"},Eg=t("span",{class:"input-group-text bg-primary text-white",id:"inputGroup-sizing-default"},"Add Author: ",-1),Tg=t("i",{class:"bi bi-x"},null,-1),Vg=[Tg],Mg=t("i",{class:"bi bi-floppy"},null,-1),Lg=[Mg],Rg=t("i",{class:"bi bi-x-octagon"},null,-1),Bg=[Rg],jg={key:0,class:"text-danger error-message"},Ig={key:1,class:"text-danger error-message"},Yg={key:2,class:"text-danger error-message"},Og=t("li",null,[t("hr",{class:"m-0"})],-1),Ng=["onClick"],qg=t("i",{class:"bi bi-plus-circle me-auto"},null,-1),Hg={class:"item-data text-danger error-message"},le={__name:"AuthorEdit",props:{urlString:{type:String,required:!0},authors:{type:Array,required:!1}},emits:["loadFilter"],setup(k,{emit:b}){const c=b,_=k,a=l([]),n=()=>({first_name:"",middle_name:"",last_name:"",id:null}),p=ct(n()),i=()=>{y.value="",Object.assign(p,n())},y=l(""),h=l([]);l("");const g=l("");let $=l([]);ot(()=>{h.value=_.authors});const U=(m,f)=>{f.id!=null?Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes, delete it!"}).then(x=>{x.isConfirmed&&axios.delete("/api/doc-author/"+f.id).then(L=>{h.value.splice(m,1),g.value="",c("loadFilter",h.value),Swal.fire({title:"Deleted!",text:"Author has been deleted.",icon:"success",confirmButtonColor:"#26884b"})})}):(h.value.splice(m,1),g.value="",c("loadFilter",h.value))},P=m=>{h.value.filter(x=>x.author_id==m.id).length==0?(h.value.push({author_id:m.id,first_name:m.first_name,middle_name:m.middle_name,last_name:m.last_name}),y.value="",g.value="",c("loadFilter",h.value)):g.value="Duplicate Entry!"};lt(y,()=>{C(_.urlString)});const C=m=>{axios.get(m+"?search="+y.value).then(f=>{a.value=f.data.data})},d=(m=_.urlString)=>{axios.post(m,p).then(f=>{C(_.urlString),$.value=[],i()}).catch(f=>{$.value=f.response.data.errors})},w=()=>{a.value=[],g.value=""},v=()=>{y.value!=""&&C(_.urlString)},D=()=>{p.description=y.value};return(m,f)=>(e(),s("div",Dg,[t("div",Cg,[t("div",Sg,[(e(!0),s(q,null,H(h.value,(x,L)=>(e(),s("div",{key:L,class:"badge rounded-pill text-white me-1 mt-1 tag"},[E(o(x.first_name)+" "+o(x.middle_name)+" "+o(x.last_name)+" ",1),t("i",{class:"bi bi-x-circle-fill close-tag",onClick:R=>U(L,x)},null,8,Pg)]))),128)),S(t("input",{type:"text",class:"text-tag p-0 m-0",onFocus:v,onKeyup:D,"onUpdate:modelValue":f[0]||(f[0]=x=>y.value=x),placeholder:"Enter Author name..."},null,544),[[Y,y.value]])]),a.value.length!=0||y.value!=""?(e(),s("ul",Ag,[t("li",null,[t("div",Ug,[t("div",Fg,[Eg,S(t("input",{type:"text","onUpdate:modelValue":f[1]||(f[1]=x=>p.first_name=x),class:"form-control",placeholder:"Enter First name"},null,512),[[Y,p.first_name]]),S(t("input",{type:"text","onUpdate:modelValue":f[2]||(f[2]=x=>p.middle_name=x),class:"form-control",placeholder:"Enter Middle name"},null,512),[[Y,p.middle_name]]),S(t("input",{type:"text","onUpdate:modelValue":f[3]||(f[3]=x=>p.last_name=x),class:"form-control",placeholder:"Enter Last name"},null,512),[[Y,p.last_name]]),t("button",{class:"btn btn-outline-secondary","data-bs-toggle":"tooltip",onClick:f[4]||(f[4]=X(x=>i(),["prevent"])),"data-bs-placement":"top",title:"clear",type:"button"},Vg),t("button",{class:"btn btn-outline-secondary",onClick:f[5]||(f[5]=X(x=>d(),["prevent"])),"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Save author's name",type:"button"},Lg),t("button",{class:"btn btn-outline-secondary","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Close",onClick:w,type:"button"},Bg)]),u($).first_name?(e(),s("span",jg,o(u($).first_name[0]),1)):r("",!0),E("  "),u($).middle_name?(e(),s("span",Ig,o(u($).middle_name[0]),1)):r("",!0),E("  "),u($).last_name?(e(),s("span",Yg,o(u($).last_name[0]),1)):r("",!0)])]),Og,a.value.length!=0?(e(!0),s(q,{key:0},H(a.value,(x,L)=>(e(),s("li",{key:L},[t("a",{class:"item-data start-100",href:"#",onClick:X(R=>P(x),["prevent"])},[qg,E(" "+o(x.first_name)+" "+o(x.middle_name)+" "+o(x.last_name),1)],8,Ng)]))),128)):r("",!0),t("li",null,[t("span",Hg,o(g.value),1)])])):r("",!0)])]))}},At=k=>(_t("data-v-bf25bfe7"),k=k(),mt(),k),Kg={class:"container mt-3"},Gg={class:"row"},zg={class:"col-12 text-start card head-card"},Jg={class:"card-body p-1"},Wg={class:"row d-flex justify-content-center"},Qg={class:"col-md-3"},Zg={class:"col-md-9"},Xg={key:0,class:"card text-start"},t$={class:"card-header bg-primary d-flex"},e$=At(()=>t("strong",null," Form",-1)),s$={class:"card-body"},o$={class:"card-body row"},a$={class:"form-group mb-3 col-6"},n$=At(()=>t("label",null,"Title",-1)),l$={key:0,class:"text-danger"},i$={class:"form-group mb-3 col-6"},d$=At(()=>t("label",null,"Type of Papers",-1)),c$=["value"],r$={key:0,class:"text-danger"},u$={class:"form-group mb-3 col-6"},p$=At(()=>t("label",null,"Authors",-1)),_$={key:0,class:"text-danger"},m$={key:0,class:"form-group mb-3 col-6"},h$=At(()=>t("label",null,"Publication Date",-1)),v$={key:0,class:"text-danger"},f$={key:1,class:"form-group mb-3 col-6"},b$=At(()=>t("label",null,"Volume/issue numbers",-1)),g$={key:0,class:"text-danger"},$$={key:2,class:"form-group mb-3 col-6"},y$=At(()=>t("label",null,"DOI",-1)),x$={key:0,class:"text-danger"},w$={key:3,class:"form-group mb-3 col-6"},k$=At(()=>t("label",null,"Abstract",-1)),D$={key:0,class:"text-danger"},C$={key:4,class:"form-group mb-3 col-6"},S$=At(()=>t("label",null,"Keywords: ...use Comma Sign to seperate words ",-1)),P$={key:0,class:"text-danger"},A$={key:5,class:"form-group mb-3 col-12"},U$=At(()=>t("label",null,"Publisher",-1)),F$={key:0,class:"text-danger"},E$={class:"form-group input-group-sm col-6"},T$=At(()=>t("label",null,"College Department",-1)),V$=["value"],M$={key:0,class:"text-danger"},L$={class:"btn-group btn-sm mt-3"},R$={class:"card-footer"},B$=At(()=>t("i",{class:"bi bi-eye"},null,-1)),j$={__name:"EditUpload",setup(k){l(null),l([]);const b=l([]),c=l([]),_=l({});let a=l([]);const n=l(!1),p=new FormData,i=l(""),y=ft(),h=Vt(),g=l(!0),$=l(!1),U=I=>{const z=("0"+(I.getMonth()+1)).slice(-2),F=I.getFullYear();return z+"/"+F};ot(()=>{const I=h.params.id;f(I),O(),A(),P()}),lt(h,()=>{P()});const P=()=>{h.name==="admin.editupload_p"?(g.value=!0,i.value="PUBLISH",w(),_.value={},a.value=[],W()):(i.value="ARCHIVE",g.value=!1,w(),_.value={},a.value=[],W())},C=()=>({title:"",type_of_paper:"",college_department:"",publication_date:{},issue_numbers:"",abstract:"",doi:"",publisher:"",keywords:[],authors:[],upload_type:"",document_file:{},college_department:""}),d=ct(C()),w=()=>Object.assign(d,C()),v=l("save changes"),D=l(!1),m=l(""),f=I=>{axios.get("/api/document/"+I).then(z=>{let F=z.data;b.value=F.authors,c.value=F.keywords,d.id=F.id,d.title=F.title,d.type_of_paper=F.type_of_paper_id,d.publication_date={month:new Date(F.publication_date).getMonth(),year:new Date(F.publication_date).getFullYear()},d.abstract=F.abstract,d.doi=F.doi,d.issue_numbers=F.issue_numbers,d.publisher=F.publisher,d.keywords=F.keywords,d.authors=F.authors,d.upload_type=F.upload_type,d.document_file=F.document_file,d.college_department=F.department_id})},x=I=>{let z=I.dataTransfer.files;R(z),j(z)},L=()=>{let I=document.querySelector(".fileupload").files;R(I),j(I)},R=I=>{["application/pdf"].includes(I[0].type)?(_.value=I[0],n.value=!1):n.value=!0,W()},W=()=>{_.value.name!=null?D.value=!0:D.value=!1},tt=I=>{let z=document.querySelector(".fileupload");z.value="",_.value={},W(),m.value="",$.value=!1},dt=I=>{d.keywords=I},ut=I=>{d.authors=I},Q=()=>{v.value="processing...",d.publication_date=JSON.stringify(d.publication_date),axios.put("/api/document/"+d.id,d).then(I=>{toast.fire({icon:"success",title:"Document modefied Successfully!"}),y.push("/admin/request"),a.value=[]}).catch(I=>{a.value=I.response.data.errors,v.value="save changes"})},V=()=>{console.log("hello"),p.append("file",_.value),p.append("id",d.id),axios.post("/api/document-upload",p,{headers:{"Content-Type":"multipart/form-data"}}).then(I=>{const z=h.params.id;f(z),_.value={},toast.fire({icon:"success",title:"File Documents Uploaded Successfully!"})}).catch(I=>{})},N=()=>{n.value=!1},T=l([]),K=l([]),O=()=>{axios.get("/api/list-topapers").then(I=>{T.value=I.data})},A=()=>{axios.get("/api/list-departments").then(I=>{K.value=I.data})},j=I=>{m.value=window.URL.createObjectURL(I[0])},G=()=>{$.value=!$.value};return(I,z)=>{const F=et("VueDatePicker"),J=et("router-link");return e(),s("div",Kg,[t("div",Gg,[t("div",zg,[t("div",Jg,[t("h4",null,[t("i",{class:st(["bi",g.value?"bi-tv":"bi-archive"])},null,2),E("  "+o(i.value),1)])])])]),t("div",Wg,[t("div",Qg,[B(ne,{onDrop:x,onSaveUpload:V,dbpdf:d.document_file,filePdf:_.value,onDragenter:X(N,["prevent"]),class:st({is_error:n.value}),onRemoveFile:tt,onChange:L},null,8,["dbpdf","filePdf","class"])]),t("div",Zg,[d.id!=null?(e(),s("div",Xg,[t("div",t$,[e$,m.value!=""?(e(),s("button",{key:0,type:"button",onClick:G,class:"btn btn-outline-success ms-auto"},[t("i",{class:st(["bi text-white",$.value?"bi-eye-slash":"bi-eye"])},null,2)])):r("",!0)]),S(t("div",s$,[m.value!=""?(e(),xt(Bt,{key:0,pdfFile:m.value},null,8,["pdfFile"])):r("",!0)],512),[[nt,m.value!=""&&$.value]]),S(t("div",o$,[t("div",a$,[n$,S(t("input",{type:"text","onUpdate:modelValue":z[0]||(z[0]=M=>d.title=M),class:"form-control form-control-sm",placeholder:"Enter Title"},null,512),[[Y,d.title]]),u(a).title?(e(),s("span",l$,o(u(a).title[0]),1)):r("",!0)]),t("div",i$,[d$,S(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":z[1]||(z[1]=M=>d.type_of_paper=M)},[(e(!0),s(q,null,H(T.value,(M,yt)=>(e(),s("option",{class:"option",key:yt,value:M.id},o(M.description),9,c$))),128))],512),[[pt,d.type_of_paper]]),u(a).type_of_paper?(e(),s("span",r$,o(u(a).type_of_paper[0]),1)):r("",!0)]),t("div",u$,[p$,B(le,{urlString:"/api/setting-author",authors:b.value,onLoadFilter:ut},null,8,["authors"]),u(a)["authors.0"]?(e(),s("span",_$,o(u(a)["authors.0"][0].replace(".0","")),1)):r("",!0)]),g.value?(e(),s("div",m$,[h$,B(F,{modelValue:d.publication_date,"onUpdate:modelValue":z[2]||(z[2]=M=>d.publication_date=M),format:U,"month-picker":"",placeholder:"Enter Publication date"},null,8,["modelValue"]),u(a).publication_date?(e(),s("span",v$,o(u(a).publication_date[0]),1)):r("",!0)])):r("",!0),g.value?(e(),s("div",f$,[b$,S(t("input",{type:"text","onUpdate:modelValue":z[3]||(z[3]=M=>d.issue_numbers=M),class:"form-control form-control-sm",placeholder:"Enter Issue Numbers"},null,512),[[Y,d.issue_numbers]]),u(a).issue_numbers?(e(),s("span",g$,o(u(a).issue_numbers[0]),1)):r("",!0)])):r("",!0),g.value?(e(),s("div",$$,[y$,S(t("input",{type:"text","onUpdate:modelValue":z[4]||(z[4]=M=>d.doi=M),class:"form-control form-control-sm",placeholder:"Enter DOI"},null,512),[[Y,d.doi]]),u(a).doi?(e(),s("span",x$,o(u(a).doi[0]),1)):r("",!0)])):r("",!0),g.value?(e(),s("div",w$,[k$,S(t("textarea",{"onUpdate:modelValue":z[5]||(z[5]=M=>d.abstract=M),class:"form-control form-control-sm",placeholder:"Enter Abstract"},null,512),[[Y,d.abstract]]),u(a).abstract?(e(),s("span",D$,o(u(a).abstract[0]),1)):r("",!0)])):r("",!0),g.value?(e(),s("div",C$,[S$,B(Ot,{onShowData:dt,keywords:c.value},null,8,["keywords"]),u(a).keywords?(e(),s("span",P$,o(u(a).keywords[0]),1)):r("",!0)])):r("",!0),g.value?(e(),s("div",A$,[U$,S(t("input",{type:"text","onUpdate:modelValue":z[6]||(z[6]=M=>d.publisher=M),class:"form-control form-control-sm",placeholder:"Enter Publisher"},null,512),[[Y,d.publisher]]),u(a).publisher?(e(),s("span",F$,o(u(a).publisher[0]),1)):r("",!0)])):r("",!0),t("div",E$,[T$,S(t("select",{class:"form-select","onUpdate:modelValue":z[7]||(z[7]=M=>d.college_department=M)},[(e(!0),s(q,null,H(K.value,(M,yt)=>(e(),s("option",{key:yt,value:M.id},o(M.description),9,V$))),128))],512),[[pt,d.college_department]]),u(a).college_department?(e(),s("span",M$,o(u(a).college_department[0]),1)):r("",!0)]),t("div",L$,[t("button",{type:"button",onClick:z[8]||(z[8]=X(M=>Q(),["prevent"])),class:"btn btn-primary"},o(v.value),1)])],512),[[nt,!$.value]]),t("div",R$,[B(J,{to:{name:"faculty.documents"}},{default:Z(()=>[B$,E(" View uploaded documents ")]),_:1})])])):r("",!0)])])])}}},Zt=it(j$,[["__scopeId","data-v-bf25bfe7"]]),at=k=>(_t("data-v-53597a30"),k=k(),mt(),k),I$={class:"container"},Y$={class:"row bg-white rounded mt-3 d-print-none"},O$=at(()=>t("h4",{class:"text-start mt-3"},"Summary Report",-1)),N$={class:"col-md-3"},q$={class:"card border"},H$=at(()=>t("div",{class:"card-header text-start"},"Date Range",-1)),K$={class:"card-body text-start"},G$={class:"form-group input-group-sm mb-3"},z$=at(()=>t("label",null,"Reports",-1)),J$=at(()=>t("option",{value:"1"},"ALL DOCUMENTS",-1)),W$=at(()=>t("option",{value:"2"},"PUBLISHED",-1)),Q$=at(()=>t("option",{value:"3"},"ARCHIVED",-1)),Z$=at(()=>t("option",{value:"4"},"USERS",-1)),X$=[J$,W$,Q$,Z$],ty={class:"form-group input-group-sm mb-3"},ey=at(()=>t("label",null,"College Department",-1)),sy=at(()=>t("option",{value:"0"},"ALL DEPARTMENT",-1)),oy=["value"],ay={key:0,class:"form-group input-group-sm mb-3"},ny=at(()=>t("label",null,"Type of Papers",-1)),ly=at(()=>t("option",{value:"0"},"ALL TYPE OF PAPERS",-1)),iy=["value"],dy={class:"form-group mb-3"},cy=at(()=>t("label",null,"From :",-1)),ry={class:"form-group mb-3"},uy=at(()=>t("label",null,"To :",-1)),py={class:"btn-group"},_y=at(()=>t("i",{class:"bi bi-bullseye"},null,-1)),my=at(()=>t("i",{class:"bi bi-printer"},null,-1)),hy={class:"col-md-9 text-start"},vy={class:"table-responsive text-start"},fy={class:"fw-bold"},by={key:0,class:"text-danger"},gy={key:0,class:"table table-bordered"},$y=at(()=>t("thead",null,[t("tr",null,[t("th",null,"DEPARTMENT"),t("th",null,"NO. OF PUBLISHED"),t("th",null,"NO. OF ARCHIVED"),t("th",null,"NO. OF FACULTY")])],-1)),yy={class:"fw-bold"},xy=at(()=>t("td",{class:"text-start fw-bold"},"TOTAL",-1)),wy={key:1,class:"table table-bordered"},ky=at(()=>t("thead",null,[t("tr",null,[t("th",null,"TITLE"),t("th",null,"TYPE OF PAPER"),t("th",null,"AUTHOR"),t("th",null,"DATE UPLOADED"),t("th",null,"DEPARTMENT"),t("th",null,"UPLOADED BY")])],-1)),Dy=at(()=>t("td",{colspan:"5",class:"text-start fw-bold"},"TOTAL PUBLISHED",-1)),Cy={class:"fw-bold"},Sy={key:2,class:"table table-bordered"},Py=at(()=>t("thead",null,[t("tr",null,[t("th",null,"TITLE"),t("th",null,"TYPE OF PAPER"),t("th",null,"AUTHOR"),t("th",null,"DATE UPLOADED"),t("th",null,"DEPARTMENT"),t("th",null,"UPLOADED BY")])],-1)),Ay=at(()=>t("td",{colspan:"5",class:"text-start fw-bold"},"TOTAL ARCHIVED",-1)),Uy={class:"fw-bold"},Fy={key:3,class:"table table-bordered"},Ey=at(()=>t("thead",null,[t("tr",null,[t("th",null,"NAME"),t("th",null,"GMAIL"),t("th",null,"DEPARTMENT")])],-1)),Ty=at(()=>t("td",{colspan:"2",class:"text-start fw-bold"},"TOTAL USERS",-1)),Vy={class:"fw-bold"},My={class:"row bg-white rounded mt-3 d-print-block d-none"},Ly=Ht('<div class="col-md-12 d-flex justify-content-between" data-v-53597a30><div class="logo" data-v-53597a30><img class="img-logo" src="/img/ndmc.png" data-v-53597a30></div><div class="text-head" data-v-53597a30> RECHIVA | NDMC Research and Department Center <p class="sub-text" data-v-53597a30>Quezon Avenue, Midsayap, Cotabato 9410</p></div><div class="logo" data-v-53597a30><img class="img-logo-2" src="/img/logo_.png" data-v-53597a30></div></div>',1),Ry={class:"col-md-12"},By={class:"report-card"},jy={class:"fs-6 fw-bold"},Iy={class:"fw-bold"},Yy={key:0,class:"text-danger"},Oy={key:0,class:"table table-bordered text-start"},Ny=at(()=>t("thead",null,[t("tr",null,[t("th",null,"DEPARTMENT"),t("th",null,"NO. OF PUBLISHED"),t("th",null,"NO. OF ARCHIVED"),t("th",null,"NO. OF FACULTY")])],-1)),qy={class:"fw-bold"},Hy=at(()=>t("td",{class:"text-start fw-bold"},"TOTAL",-1)),Ky={key:1,class:"table table-bordered text-start"},Gy=at(()=>t("thead",null,[t("tr",null,[t("th",null,"TITLE"),t("th",null,"TYPE OF PAPER"),t("th",null,"AUTHOR"),t("th",null,"DATE UPLOADED"),t("th",null,"DEPARTMENT"),t("th",null,"UPLOADED BY")])],-1)),zy=at(()=>t("td",{colspan:"5",class:"text-start fw-bold"},"TOTAL PUBLISHED",-1)),Jy={class:"fw-bold"},Wy={key:2,class:"table table-bordered text-start"},Qy=at(()=>t("thead",null,[t("tr",null,[t("th",null,"TITLE"),t("th",null,"TYPE OF PAPER"),t("th",null,"AUTHOR"),t("th",null,"DATE UPLOADED"),t("th",null,"DEPARTMENT"),t("th",null,"UPLOADED BY")])],-1)),Zy=at(()=>t("td",{colspan:"5",class:"text-start fw-bold"},"TOTAL ARCHIVED",-1)),Xy={class:"fw-bold"},t2={key:3,class:"table table-bordered text-start"},e2=at(()=>t("thead",null,[t("tr",null,[t("th",null,"NAME"),t("th",null,"GMAIL"),t("th",null,"DEPARTMENT")])],-1)),s2=at(()=>t("td",{colspan:"2",class:"text-start fw-bold"},"TOTAL USERS",-1)),o2={class:"fw-bold"},a2={class:"text-start"},n2={__name:"Report",setup(k){const b=()=>({date_from:"",date_to:""}),c=T=>ht(T).format("MMMM D, YYYY");l([]),l([]),l([]);const _=l("generate"),a=ct(b());ot(()=>{dt(),W()});const n=ct({report:null,department:0,typeofpapers:null,date_to:null,date_from:null}),p=l(0),i=l(""),y=T=>{i.value=T==1?"ALL DOCUMENTS":T==2?"PUBLISHED":T==3?"ARCHIVED":T==4?"USERS":"",p.value=T},h=T=>{const K=("0"+T.getDate()).slice(-2),O=("0"+(T.getMonth()+1)).slice(-2),A=T.getFullYear();return O+"/"+K+"/"+A},g=()=>{window.print()},$=l([]),U=l([]),P=l([]),C=l([]),d=l([]),w=l([]),v=()=>{_.value="generating...",axios.get("/api/report",{params:n}).then(T=>{_.value="generate",$.value=T.data.published,U.value=T.data.archived,P.value=T.data.faculty,C.value=T.data.published_list,d.value=T.data.archived_list,w.value=T.data.users})},D=()=>{let T=0;return $.value.forEach(K=>{n.department==K.department_id,T+=K.published}),T},m=()=>{let T=0;return U.value.forEach(K=>{n.department==K.department_id,T+=K.archived}),T},f=()=>{let T=0;return P.value.forEach(K=>{n.department==K.department_id,T+=K.faculty}),T},x=()=>{a.date_to=""},L=l([]),R=l([]),W=()=>{axios.get("/api/list-topapers").then(T=>{L.value=T.data})},tt=l([]),dt=()=>{axios.get("/api/list-departments").then(T=>{R.value=T.data,tt.value=T.data})},ut=T=>{if(T!=0){tt.value=R.value.filter(K=>K.id==T);return}dt()},Q=T=>{let K=0;return $.value.forEach(O=>{O.department_id==T&&(K=O.published)}),K},V=T=>{let K=0;return U.value.forEach(O=>{O.department_id==T&&(K=O.archived)}),K},N=T=>{let K=0;return P.value.forEach(O=>{O.department_id==T&&(K=O.faculty)}),K};return(T,K)=>{const O=et("VueDatePicker");return e(),s("div",I$,[t("div",Y$,[O$,t("div",N$,[t("div",q$,[H$,t("div",K$,[t("div",G$,[z$,S(t("select",{class:"form-select","onUpdate:modelValue":K[0]||(K[0]=A=>n.report=A),onChange:K[1]||(K[1]=A=>y(n.report))},X$,544),[[pt,n.report]])]),t("div",ty,[ey,S(t("select",{class:"form-select","onUpdate:modelValue":K[2]||(K[2]=A=>n.department=A),onChange:K[3]||(K[3]=A=>ut(n.department))},[sy,(e(!0),s(q,null,H(R.value,(A,j)=>(e(),s("option",{key:j,value:A.id},o(A.description),9,oy))),128))],544),[[pt,n.department]])]),n.report!=4?(e(),s("div",ay,[ny,S(t("select",{class:"form-select","onUpdate:modelValue":K[4]||(K[4]=A=>n.type_of_paper=A)},[ly,(e(!0),s(q,null,H(L.value,(A,j)=>(e(),s("option",{class:"option",key:j,value:A.id},o(A.description),9,iy))),128))],512),[[pt,n.type_of_paper]])])):r("",!0),t("div",dy,[cy,B(O,{modelValue:n.date_from,"onUpdate:modelValue":[K[5]||(K[5]=A=>n.date_from=A),K[6]||(K[6]=A=>x())],format:h,placeholder:"Enter Date From"},null,8,["modelValue"])]),t("div",ry,[uy,B(O,{modelValue:n.date_to,"onUpdate:modelValue":K[7]||(K[7]=A=>n.date_to=A),format:h,placeholder:"Enter Date To"},null,8,["modelValue"])]),t("div",py,[t("button",{type:"button",onClick:K[8]||(K[8]=A=>v()),class:"btn btn-success btn-sm"},[_y,E(" "+o(_.value),1)]),t("button",{type:"button",onClick:K[9]||(K[9]=A=>g()),class:"btn btn-warning btn-sm"},[my,E(" Print ")])])])])]),t("div",hy,[t("div",vy,[t("h4",null,o(i.value),1),t("div",fy,[E(" Date: "),n.date_to!=""&&n.date_from?(e(),s("span",by,o(c(n.date_from))+" - "+o(c(n.date_to)),1)):r("",!0)]),p.value==1?(e(),s("table",gy,[$y,t("tbody",null,[(e(!0),s(q,null,H(tt.value,(A,j)=>(e(),s("tr",{key:j},[t("td",null,o(A.description),1),t("td",null,o(parseFloat(Q(A.id)).toFixed(2)),1),t("td",null,o(parseFloat(V(A.id)).toFixed(2)),1),t("td",null,o(parseFloat(N(A.id)).toFixed(2)),1)]))),128)),t("tr",yy,[xy,t("td",null,o(parseFloat(D()).toFixed(2)),1),t("td",null,o(parseFloat(m()).toFixed(2)),1),t("td",null,o(parseFloat(f()).toFixed(2)),1)])])])):r("",!0),p.value==2?(e(),s("table",wy,[ky,t("tbody",null,[(e(!0),s(q,null,H(C.value,(A,j)=>(e(),s("tr",{key:j},[t("td",null,o(A.title),1),t("td",null,o(A.typeofpaper!=null?A.typeofpaper.description:""),1),t("td",null,[(e(!0),s(q,null,H(A.authors,(G,I)=>(e(),s("div",{class:"d-flex justify-content-start",key:I},o(G.first_name)+" "+o(G.middle_name)+" "+o(G.last_name),1))),128))]),t("td",null,o(c(A.created_at)),1),t("td",null,o(A.department!=null?A.department.description:""),1),t("td",null,o(A.userdoc!=null?A.userdoc.first_name+" "+A.userdoc.middle_initial+" "+A.userdoc.last_name:""),1)]))),128)),t("tr",null,[Dy,t("td",Cy,o(C.value!=null?C.value.length:0),1)])])])):r("",!0),p.value==3?(e(),s("table",Sy,[Py,t("tbody",null,[(e(!0),s(q,null,H(d.value,(A,j)=>(e(),s("tr",{key:j},[t("td",null,o(A.title),1),t("td",null,o(A.typeofpaper!=null?A.typeofpaper.description:""),1),t("td",null,[(e(!0),s(q,null,H(A.authors,(G,I)=>(e(),s("div",{class:"d-flex",key:I},o(G.first_name)+" "+o(G.middle_name)+" "+o(G.last_name),1))),128))]),t("td",null,o(c(A.created_at)),1),t("td",null,o(A.department!=null?A.department.description:""),1),t("td",null,o(A.userdoc!=null?A.userdoc.first_name+" "+A.userdoc.middle_initial+" "+A.userdoc.last_name:""),1)]))),128)),t("tr",null,[Ay,t("td",Uy,o(d.value!=null?d.value.length:0),1)])])])):r("",!0),p.value==4?(e(),s("table",Fy,[Ey,t("tbody",null,[(e(!0),s(q,null,H(w.value,(A,j)=>(e(),s("tr",{key:j},[t("td",null,o(A.first_name)+" "+o(A.middle_initial)+" "+o(A.last_name),1),t("td",null,o(A.email),1),t("td",null,o(A.department!=null?A.department.description:""),1)]))),128)),t("tr",null,[Ty,t("td",Vy,o(w.value!=null?w.value.length:0),1)])])])):r("",!0)])])]),t("div",My,[Ly,t("div",Ry,[t("div",By,[t("div",jy,o(i.value),1),t("div",Iy,[E(" Date: "),n.date_to!=""&&n.date_from?(e(),s("span",Yy,o(c(n.date_from))+" - "+o(c(n.date_to)),1)):r("",!0)]),p.value==1?(e(),s("table",Oy,[Ny,t("tbody",null,[(e(!0),s(q,null,H(tt.value,(A,j)=>(e(),s("tr",{key:j},[t("td",null,o(A.description),1),t("td",null,o(parseFloat(Q(A.id)).toFixed(2)),1),t("td",null,o(parseFloat(V(A.id)).toFixed(2)),1),t("td",null,o(parseFloat(N(A.id)).toFixed(2)),1)]))),128)),t("tr",qy,[Hy,t("td",null,o(parseFloat(D()).toFixed(2)),1),t("td",null,o(parseFloat(m()).toFixed(2)),1),t("td",null,o(parseFloat(f()).toFixed(2)),1)])])])):r("",!0),p.value==2?(e(),s("table",Ky,[Gy,t("tbody",null,[(e(!0),s(q,null,H(C.value,(A,j)=>(e(),s("tr",{key:j},[t("td",null,o(A.title),1),t("td",null,o(A.typeofpaper!=null?A.typeofpaper.description:""),1),t("td",null,[(e(!0),s(q,null,H(A.authors,(G,I)=>(e(),s("div",{class:"d-flex",key:I},o(G.first_name)+" "+o(G.middle_name)+" "+o(G.last_name),1))),128))]),t("td",null,o(c(A.created_at)),1),t("td",null,o(A.department!=null?A.department.description:""),1),t("td",null,o(A.userdoc!=null?A.userdoc.first_name+" "+A.userdoc.middle_initial+" "+A.userdoc.last_name:""),1)]))),128)),t("tr",null,[zy,t("td",Jy,o(C.value!=null?C.value.length:0),1)])])])):r("",!0),p.value==3?(e(),s("table",Wy,[Qy,t("tbody",null,[(e(!0),s(q,null,H(d.value,(A,j)=>(e(),s("tr",{key:j},[t("td",null,o(A.title),1),t("td",null,o(A.typeofpaper!=null?A.typeofpaper.description:""),1),t("td",null,[(e(!0),s(q,null,H(A.authors,(G,I)=>(e(),s("div",{class:"d-flex",key:I},o(G.first_name)+" "+o(G.middle_name)+" "+o(G.last_name),1))),128))]),t("td",null,o(c(A.created_at)),1),t("td",null,o(A.department!=null?A.department.description:""),1),t("td",null,o(A.userdoc!=null?A.userdoc.first_name+" "+A.userdoc.middle_initial+" "+A.userdoc.last_name:""),1)]))),128)),t("tr",null,[Zy,t("td",Xy,o(d.value!=null?d.value.length:0),1)])])])):r("",!0),p.value==4?(e(),s("table",t2,[e2,t("tbody",null,[(e(!0),s(q,null,H(w.value,(A,j)=>(e(),s("tr",{key:j},[t("td",null,o(A.first_name)+" "+o(A.middle_initial)+" "+o(A.last_name),1),t("td",null,o(A.email),1),t("td",null,o(A.department!=null?A.department.description:""),1)]))),128)),t("tr",null,[s2,t("td",o2,o(w.value!=null?w.value.length:0),1)])])])):r("",!0),t("div",a2," Printed date: "+o(h(new Date)),1)])])])])}}},l2=it(n2,[["__scopeId","data-v-53597a30"]]),vt=k=>(_t("data-v-1c871556"),k=k(),mt(),k),i2={class:"navbar navbar-expand-lg bg-light mb-0 bg-header custom-nav"},d2={class:"container-fluid"},c2={class:"main-brand"},r2=vt(()=>t("div",{class:"brand-name"},[t("img",{src:"/img/ndmc.png",class:"logo-main"}),t("img",{src:"/img/research.png",class:"sub-logo"})],-1)),u2=vt(()=>t("div",{class:"d-md-inline-flex d-lg-inline-flex"},[t("div",{class:"logo-text d-none d-lg-block d-xl-block d-md-block"}," RECHIVA"),t("img",{src:"/img/rechiva.png",class:"logo-app"})],-1)),p2=vt(()=>t("button",{class:"btn btn-outline-success d-inline-block d-lg-none",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[t("i",{class:"fa fa-bars"})],-1)),_2={class:"collapse navbar-collapse",id:"navbarSupportedContent"},m2={class:"navbar-nav mb-2 mb-lg-0 ms-auto"},h2={key:0,class:"nav-item nav-cus mb-nav"},v2={key:1,class:"nav-item dropdown nav-cus"},f2=vt(()=>t("a",{class:"nav-link",href:"#"},[t("i",{class:"bi bi-upload","aria-hidden":"true"}),E(" Upload Rechiva ")],-1)),b2={class:"dropdown-menu dropdown-menu-end user-menu"},g2=vt(()=>t("i",{class:"bi bi-file-earmark-arrow-up"},null,-1)),$2=vt(()=>t("i",{class:"bi bi-file-earmark-arrow-up-fill"},null,-1)),y2=vt(()=>t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),x2=vt(()=>t("i",{class:"bi bi-file-earmark-text"},null,-1)),w2=vt(()=>t("i",{class:"bi bi-file-earmark-text-fill"},null,-1)),k2=vt(()=>t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),D2={key:2,class:"nav-item nav-cus cus-pad dropdown"},C2={class:"nav-link",href:"#"},S2={class:"bi bi-bell-fill position-relative notify"},P2={key:0,class:"position-absolute top-0 start-100 translate-middle notify-badge"},A2={class:"dropdown-menu dropdown-menu-end user-menu"},U2={key:0},F2=vt(()=>t("div",{class:"ps-2 pe-2"}," Notifications ",-1)),E2=[F2],T2={key:1},V2=vt(()=>t("hr",{class:"dropdown-divider"},null,-1)),M2=[V2],L2={key:2},R2=vt(()=>t("p",{class:"ps-2 pe-2 text-success"},"No notification available!",-1)),B2=[R2],j2={class:"noti-div position-relative"},I2=["onClick"],Y2={class:"notification"},O2={class:"d-flex flex-start align-items-center"},N2=vt(()=>t("img",{class:"rounded-circle shadow-1-strong me-3",src:"/img/user.png",alt:"avatar",width:"40",height:"40"},null,-1)),q2=vt(()=>t("div",{class:"arrow text-success w-100 position-absolute text-end"},[t("i",{class:"bi bi-arrow-right-circle icon-mar"})],-1)),H2={class:"arrow text-success w-100 position-absolute text-end time-ago"},K2=vt(()=>t("h6",{class:"fw-bold text-primary mb-1"}," Administrator ",-1)),G2={class:"text-muted small mb-0"},z2=vt(()=>t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),J2={class:"nav-item dropdown"},W2={class:"nav-link dropdown-toggle",href:"#",role:"button"},Q2=["src"],Z2={class:"dropdown-menu dropdown-menu-end user-menu"},X2={class:"dropdown-item user-li"},tx={class:"info-user p-0"},ex=vt(()=>t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),sx=vt(()=>t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),ox={class:"d-grid gap-2"},ax={class:"content min-h"},nx={__name:"Mainpage",setup(k){const b=ft(),c=l({}),_=l([]);ot(()=>{n(),p()});const a=()=>{Swal.fire({title:"Sign out",text:"Do you want sign out?",icon:"question",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",cancelButtonText:"No",confirmButtonText:"Yes"}).then(g=>{g.isConfirmed&&axios.get("/api/auth/out").then($=>{$.data.success&&(window.location.href="/sign-in")})})},n=()=>{axios.get("/api/user").then(g=>{c.value=g.data})},p=()=>{axios.get("/api/faculty-notification").then(g=>{_.value=g.data})},i=g=>g.length,y=g=>{axios.put("/api/notification/"+g.id,{status:1}).then($=>{p(),g.role==0||g.role==1?b.push({name:"faculty.document",params:{id:g.document_id}}):g.role==2&&(window.location.href="/faculty")})},h=g=>{let $=!1;return g.activate===1&&($=!0),$};return(g,$)=>{const U=et("router-link"),P=et("timeago"),C=et("router-view");return e(),s("div",null,[t("nav",i2,[t("div",d2,[t("div",c2,[B(U,{to:{name:"faculty.dashboard"},class:"d-inline-flex p-0"},{default:Z(()=>[r2,u2]),_:1})]),p2,t("div",_2,[t("ul",m2,[c.value.id!=null?(e(),s("li",h2,[B(U,{class:"nav-link",to:{name:"publicpage"}},{default:Z(()=>[E(" Home ")]),_:1})])):r("",!0),h(c.value)?(e(),s("li",v2,[f2,t("ul",b2,[t("li",null,[B(U,{class:"dropdown-item",to:{name:"faculty.upload_p"}},{default:Z(()=>[g2,E(" For Publishing ")]),_:1})]),t("li",null,[B(U,{class:"dropdown-item",to:{name:"faculty.upload_a"}},{default:Z(()=>[$2,E(" For Archiving ")]),_:1})]),y2,t("li",null,[B(U,{class:"dropdown-item",to:{name:"faculty.documents"}},{default:Z(()=>[x2,E(" Documents Request ")]),_:1})]),t("li",null,[B(U,{class:"dropdown-item",to:{name:"faculty.published"}},{default:Z(()=>[w2,E(" Published & Archived ")]),_:1})]),k2])])):r("",!0),h(c.value)?(e(),s("li",D2,[t("a",C2,[t("i",S2,[_.value.length>0?(e(),s("span",P2,o(i(_.value)),1)):r("",!0)])]),t("ul",A2,[_.value.length>0?(e(),s("li",U2,E2)):r("",!0),_.value.length>0?(e(),s("li",T2,M2)):r("",!0),_.value.length==0?(e(),s("li",L2,B2)):r("",!0),t("div",j2,[(e(!0),s(q,null,H(_.value,(d,w)=>(e(),s("li",{class:"dropdown-item user-li",key:w},[t("a",{href:"#",class:"notili",onClick:X(v=>y(d),["prevent"])},[t("div",Y2,[t("div",O2,[N2,q2,t("small",H2,[B(P,{class:st("sub-ago"),datetime:d.created_at},null,8,["datetime"])]),t("div",null,[K2,t("p",G2,o(d.caption),1)])])])],8,I2)]))),128))]),z2])])):r("",!0),t("li",J2,[t("a",W2,[t("img",{class:"img-user rounded-circle",src:c.value.image==""?"/img/user.png":"data:"+c.value.extension+";base64,"+c.value.image,alt:""},null,8,Q2)]),t("ul",Z2,[t("li",X2,[t("div",tx,o(c.value.first_name)+" "+o(c.value.last_name),1)]),ex,t("li",null,[B(U,{class:"dropdown-item",to:{name:"faculty.myaccount"}},{default:Z(()=>[E("My Account")]),_:1})]),t("li",null,[B(U,{class:"dropdown-item",to:{name:"publicpage"}},{default:Z(()=>[E("Home page")]),_:1})]),sx,t("li",ox,[t("button",{type:"button",onClick:$[0]||($[0]=X(d=>a(),["prevent"])),class:"btn btn-signout btn-sm"},"Sign Out")])])])])])])]),t("div",ax,[B(C)]),B(Gt)])}}},lx=it(nx,[["__scopeId","data-v-1c871556"]]),Et=k=>(_t("data-v-80901c60"),k=k(),mt(),k),ix={class:"container mt-3"},dx={class:"row"},cx={class:"col-12 text-start card head-card"},rx={class:"card-body p-1"},ux={class:"row d-flex justify-content-center"},px={class:"col-md-3"},_x={class:"col-md-9"},mx={class:"card text-start"},hx={class:"card-header bg-primary d-flex"},vx=Et(()=>t("strong",null," Form",-1)),fx={class:"card-body"},bx={class:"card-body row"},gx={class:"form-group mb-3 col-6"},$x=Et(()=>t("label",null,"Title",-1)),yx={key:0,class:"text-danger"},xx={class:"form-group mb-3 col-6"},wx=Et(()=>t("label",null,"Type of Papers",-1)),kx=["value"],Dx={key:0,class:"text-danger"},Cx={class:"form-group mb-3 col-6"},Sx=Et(()=>t("label",null,"Authors",-1)),Px={key:0,class:"text-danger"},Ax={key:0,class:"form-group mb-3 col-6"},Ux=Et(()=>t("label",null,"Publication Date",-1)),Fx={key:0,class:"text-danger"},Ex={key:1,class:"form-group mb-3 col-6"},Tx=Et(()=>t("label",null,"Volume/issue numbers",-1)),Vx={key:0,class:"text-danger"},Mx={key:2,class:"form-group mb-3 col-6"},Lx=Et(()=>t("label",null,"DOI",-1)),Rx={key:0,class:"text-danger"},Bx={key:3,class:"form-group mb-3 col-6"},jx=Et(()=>t("label",null,"Abstract",-1)),Ix={key:0,class:"text-danger"},Yx={key:4,class:"form-group mb-3 col-6"},Ox=Et(()=>t("label",null,"Keywords: ...use Comma Sign to seperate words ",-1)),Nx={key:0,class:"text-danger"},qx={key:5,class:"form-group mb-3 col-12"},Hx=Et(()=>t("label",null,"Publisher",-1)),Kx={key:0,class:"text-danger"},Gx={class:"btn-group btn-sm mt-3"},zx={class:"card-footer"},Jx=Et(()=>t("i",{class:"bi bi-eye"},null,-1)),Wx={__name:"FileUpload",setup(k){const b=j=>{const G=("0"+(j.getMonth()+1)).slice(-2),I=j.getFullYear();return G+"/"+I};ot(()=>{T(),K(),P()}),l(null);const c=l([]),_=l([]),a=l({});let n=l([]);const p=l(!1),i=new FormData,y=l(""),h=ft(),g=Vt(),$=l(!0),U=l(!1);lt(g,()=>{P()});const P=()=>{g.name==="faculty.upload_p"?($.value=!0,y.value="PUBLISH",w(),a.value={},i.delete("authors[]"),i.delete("keywords[]"),n.value=[],R()):(y.value="ARCHIVE",$.value=!1,w(),a.value={},i.delete("authors[]"),i.delete("keywords[]"),n.value=[],R())},C=()=>({title:"",type_of_paper:"",college_department:"",publication_date:{month:new Date().getMonth(),year:new Date().getFullYear()},issue_numbers:"",abstract:"",doi:"",publisher:""}),d=ct(C()),w=()=>Object.assign(d,C()),v=l("submit"),D=l(!1),m=l(""),f=j=>{let G=j.dataTransfer.files;L(G),O(G)},x=()=>{let j=document.querySelector(".fileupload").files;L(j),O(j)},L=j=>{["application/pdf"].includes(j[0].type)?(a.value=j[0],p.value=!1):p.value=!0,R()},R=()=>{a.value.name!=null?D.value=!0:D.value=!1},W=j=>{let G=document.querySelector(".fileupload");G.value="",a.value={},R(),m.value="",U.value=!1},tt=j=>{i.delete("keywords[]"),_.value=j},dt=j=>{i.delete("authors[]"),c.value=j},ut=()=>{console.log(d.publication_date),v.value="processing...",i.append("upload_type",$.value),i.append("file",a.value),i.append("authors[]",c.value.length>0?JSON.stringify(c.value):[]),i.append("keywords[]",_.value.length>0?JSON.stringify(_.value):[]),i.append("title",d.title),i.append("college_department",d.college_department),i.append("type_of_paper",d.type_of_paper),i.append("abstract",d.abstract),i.append("issue_numbers",d.issue_numbers),i.append("publication_date",d.publication_date==""?"":JSON.stringify(d.publication_date)),i.append("doi",d.doi),i.append("publisher",d.publisher),axios.post("/api/document",i,{headers:{"Content-Type":"multipart/form-data"}}).then(j=>{v.value="submit",w(),i.delete("authors[]"),i.delete("keywords[]"),toast.fire({icon:"success",title:"File Documents Uploaded Successfully!"}),h.push("/faculty/documents"),n.value=[]}).catch(j=>{n.value=j.response.data.errors,v.value="submit"})},Q=()=>{p.value=!1},V=l([]),N=l([]),T=()=>{axios.get("/api/list-topapers").then(j=>{V.value=j.data})},K=()=>{axios.get("/api/list-departments").then(j=>{N.value=j.data})},O=j=>{m.value=URL.createObjectURL(j[0])},A=()=>{U.value=!U.value};return(j,G)=>{const I=et("VueDatePicker"),z=et("router-link");return e(),s("div",ix,[t("div",dx,[t("div",cx,[t("div",rx,[t("h4",null,[t("i",{class:st(["bi",$.value?"bi-tv":"bi-archive"])},null,2),E("  "+o(y.value),1)])])])]),t("div",ux,[t("div",px,[B(ae,{onDrop:f,filePdf:a.value,onDragenter:X(Q,["prevent"]),class:st({is_error:p.value}),onRemoveFile:W,onChange:x},null,8,["filePdf","class"])]),t("div",_x,[t("div",mx,[t("div",hx,[vx,m.value!=""?(e(),s("button",{key:0,type:"button",onClick:A,class:"btn btn-outline-success ms-auto"},[t("i",{class:st(["bi text-white",U.value?"bi-eye-slash":"bi-eye"])},null,2)])):r("",!0)]),S(t("div",fx,[m.value!=""?(e(),xt(Bt,{key:0,pdfFile:m.value},null,8,["pdfFile"])):r("",!0)],512),[[nt,m.value!=""&&U.value]]),S(t("div",bx,[t("div",gx,[$x,S(t("input",{type:"text","onUpdate:modelValue":G[0]||(G[0]=F=>d.title=F),class:"form-control form-control-sm",placeholder:"Enter Title"},null,512),[[Y,d.title]]),u(n).title?(e(),s("span",yx,o(u(n).title[0]),1)):r("",!0)]),t("div",xx,[wx,S(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":G[1]||(G[1]=F=>d.type_of_paper=F)},[(e(!0),s(q,null,H(V.value,(F,J)=>(e(),s("option",{class:"option",key:J,value:F.id},o(F.description),9,kx))),128))],512),[[pt,d.type_of_paper]]),u(n).type_of_paper?(e(),s("span",Dx,o(u(n).type_of_paper[0]),1)):r("",!0)]),t("div",Cx,[Sx,B(zt,{urlString:"/api/setting-author",onLoadFilter:dt}),u(n)["authors.0"]?(e(),s("span",Px,o(u(n)["authors.0"][0].replace(".0","")),1)):r("",!0)]),$.value?(e(),s("div",Ax,[Ux,B(I,{modelValue:d.publication_date,"onUpdate:modelValue":G[2]||(G[2]=F=>d.publication_date=F),format:b,"month-picker":"",placeholder:"Enter Publication date"},null,8,["modelValue"]),u(n).publication_date?(e(),s("span",Fx,o(u(n).publication_date[0]),1)):r("",!0)])):r("",!0),$.value?(e(),s("div",Ex,[Tx,S(t("input",{type:"text","onUpdate:modelValue":G[3]||(G[3]=F=>d.issue_numbers=F),class:"form-control form-control-sm",placeholder:"Enter Issue Numbers"},null,512),[[Y,d.issue_numbers]]),u(n).issue_numbers?(e(),s("span",Vx,o(u(n).issue_numbers[0]),1)):r("",!0)])):r("",!0),$.value?(e(),s("div",Mx,[Lx,S(t("input",{type:"text","onUpdate:modelValue":G[4]||(G[4]=F=>d.doi=F),class:"form-control form-control-sm",placeholder:"Enter DOI"},null,512),[[Y,d.doi]]),u(n).doi?(e(),s("span",Rx,o(u(n).doi[0]),1)):r("",!0)])):r("",!0),$.value?(e(),s("div",Bx,[jx,S(t("textarea",{"onUpdate:modelValue":G[5]||(G[5]=F=>d.abstract=F),class:"form-control form-control-sm",placeholder:"Enter Abstract"},null,512),[[Y,d.abstract]]),u(n).abstract?(e(),s("span",Ix,o(u(n).abstract[0]),1)):r("",!0)])):r("",!0),$.value?(e(),s("div",Yx,[Ox,B(Ot,{onShowData:tt}),u(n)["keywords.0"]?(e(),s("span",Nx,o(u(n)["keywords.0"][0].replace(".0","")),1)):r("",!0)])):r("",!0),$.value?(e(),s("div",qx,[Hx,S(t("input",{type:"text","onUpdate:modelValue":G[6]||(G[6]=F=>d.publisher=F),class:"form-control form-control-sm",placeholder:"Enter Publisher"},null,512),[[Y,d.publisher]]),u(n).publisher?(e(),s("span",Kx,o(u(n).publisher[0]),1)):r("",!0)])):r("",!0),t("div",Gx,[D.value?(e(),s("button",{key:0,type:"button",onClick:X(ut,["prevent"]),class:"btn btn-primary"},o(v.value),1)):r("",!0)])],512),[[nt,!U.value]]),t("div",zx,[B(z,{to:{name:"faculty.documents"}},{default:Z(()=>[Jx,E(" View uploaded documents ")]),_:1})])])])])])}}},Xt=it(Wx,[["__scopeId","data-v-80901c60"]]),Qx={class:"container mt-5"},Zx={class:"row"},Xx={class:"col-12 mb-3 mb-lg-5"},tw={class:"overflow-hidden card table-nowrap table-card"},ew=t("div",{class:"card-header d-flex justify-content-between align-items-center"},[t("h4",null,[t("i",{class:"bi bi-file-earmark-arrow-up"}),E("  Document Request")])],-1),sw={class:"d-flex"},ow={class:"input-group input-group-sm p-2"},aw=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),nw={class:"input-group input-group-sm p-2"},lw=t("option",{value:""},"Choose...",-1),iw=t("option",{value:0},"Publish",-1),dw=t("option",{value:1},"Achive",-1),cw=[lw,iw,dw],rw=t("label",{class:"input-group-text bg-select",for:"inputGroupSelect02"},"Upload Type",-1),uw={class:"table-responsive"},pw={class:"table mb-0"},_w=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Title"),t("th",null,"Document Files"),t("th",null,"Type of Papers"),t("th",null,"Date uploaded"),t("th",null,"Status"),t("th",null,"Upload Type"),t("th",{class:"text-end"},"Action")])],-1),mw={class:"d-flex align-items-center"},hw=t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1),vw={class:"text-primary"},fw={class:"d-flex justify-content-start row"},bw={class:"col img-uploaded d-flex mr-5"},gw=t("img",{class:"table-img d-flex",src:"/img/pdf.jpg"},null,-1),$w={class:"title truncate"},yw={class:"text-end"},xw={class:"drodown"},ww=t("a",{"data-bs-toggle":"dropdown",href:"#",class:"p-1","aria-expanded":"false"},[t("i",{class:"bi bi-list list-primary"})],-1),kw={class:"dropdown-menu dropdown-menu-end dd-bg",style:{}},Dw=["onClick"],Cw={colspan:"6"},Sw={key:0,class:"mt-2 d-flex justify-content-end me-2","aria-label":"..."},Pw={class:"pagination pagination-sm custom-page"},Aw=["innerHTML","onClick"],Uw={__name:"UploadedFile",setup(k){const b=l([]);let c=l([]),_=l(""),a=l("");const n=l([]);ot(()=>{i(),h()});const p=C=>ht(C).format("MMMM D, YYYY | hh:mm a"),i=()=>{axios.get("/api/document?search="+_.value+"&filter="+a.value).then(C=>{b.value=C.data.data,c.value=C.data.links})};lt(_,()=>{i()});const y=C=>{!C.url||C.active||axios.get(C.url).then(d=>{b.value=d.data.data,c.value=d.data.links})},h=()=>{axios.get("/api/list-topapers").then(C=>{n.value=C.data})},g=C=>{let d="";return n.value.forEach(w=>{C.type_of_paper_id===w.id&&(d=w.description)}),d},$=C=>{Swal.fire({title:"Are you sure? "+C.title,text:"You won't be able to revert this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes, delete it!"}).then(d=>{d.isConfirmed&&axios.delete(`/api/document/${C.id}`).then(w=>{Swal.fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success",confirmButtonColor:"#26884b"}),i()})})},U=C=>C==null?!0:C.length>0,P=()=>{i()};return(C,d)=>{const w=et("router-link");return e(),s("div",Qx,[t("div",Zx,[t("div",Xx,[t("div",tw,[ew,t("div",sw,[t("div",ow,[S(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":d[0]||(d[0]=v=>bt(_)?_.value=v:_=v),"aria-describedby":"button-addon1"},null,512),[[Y,u(_)]]),aw]),t("div",nw,[S(t("select",{class:"form-select",id:"inputGroupSelect02","onUpdate:modelValue":d[1]||(d[1]=v=>bt(a)?a.value=v:a=v),onChange:P},cw,544),[[pt,u(a)]]),rw])]),t("div",uw,[t("table",pw,[_w,t("tbody",null,[(e(!0),s(q,null,H(b.value,(v,D)=>(e(),s("tr",{class:"align-middle",key:D},[t("td",null,[t("div",mw,[hw,t("strong",vw,o(v.title),1)])]),t("td",null,[t("div",fw,[t("div",bw,[gw,t("span",$w,o(v.document_file!=null?v.document_file.original_name:""),1)])])]),t("td",null,o(g(v)),1),t("td",null,o(p(v.created_at)),1),t("td",null,[B(Ft,{statusData:v.status},null,8,["statusData"])]),t("td",null,[B(Ft,{uploadData:v.upload_type},null,8,["uploadData"])]),t("td",yw,[t("div",xw,[ww,t("div",kw,[B(w,{to:{name:"faculty.document",params:{id:v.id}},class:"dropdown-item dd-item"},{default:Z(()=>[E("View Data ")]),_:2},1032,["to"]),v.upload_type===0?(e(),xt(w,{key:0,to:{name:"faculty.editupload_p",params:{id:v.id}},class:"dropdown-item dd-item"},{default:Z(()=>[E("Edit ")]),_:2},1032,["to"])):r("",!0),v.upload_type===1?(e(),xt(w,{key:1,to:{name:"faculty.editupload_a",params:{id:v.id}},class:"dropdown-item dd-item"},{default:Z(()=>[E("Edit ")]),_:2},1032,["to"])):r("",!0),t("a",{href:"#!",onClick:m=>$(v),class:"dropdown-item dd-item"},"Delete ",8,Dw)])])])]))),128)),t("tr",null,[S(t("td",Cw," No Result Found! ",512),[[nt,!U(b.value)]])])])]),U(b.value)?(e(),s("nav",Sw,[t("ul",Pw,[(e(!0),s(q,null,H(u(c),(v,D)=>(e(),s("li",{class:"page-item","aria-current":"page",key:D},[t("a",{class:st(["page-link",{active:v.active,disabled:!v.url}]),href:"#",innerHTML:v.label,onClick:m=>y(v)},null,10,Aw)]))),128))])])):r("",!0)])])])])])}}},$t=k=>(_t("data-v-878e77de"),k=k(),mt(),k),Fw={class:"container mt-3 mb-5"},Ew={class:"row bg-white p-2 m-1 rounded"},Tw={class:"col-md-12 d-flex justify-content-between"},Vw=$t(()=>t("h4",{class:"text-start m-0 mb-3"},[t("span",{class:"bi bi-file-earmark-richtext"}),E(" Document ")],-1)),Mw={class:"btn-group"},Lw=$t(()=>t("hr",null,null,-1)),Rw={class:"col-md-4 col-lg-4"},Bw={class:"card doc-card custom-border"},jw={class:"side-badge w-auto"},Iw={class:"text-end p-2"},Yw={class:"card-body"},Ow=$t(()=>t("div",{class:"main-img mt-2 mb-0"},[t("img",{class:"img-pdf",src:"/img/pdf.jpg"})],-1)),Nw={class:"upload-status border p-2"},qw={key:0,class:"p-0"},Hw={key:1,class:"text-start txt-grey"},Kw=$t(()=>t("span",{class:"fw-bold"}," DOI:",-1)),Gw={key:2,class:"mt-0 p-0"},zw={key:3,class:"text-start txt-grey"},Jw=$t(()=>t("span",{class:"fw-bold"}," Volume/Issue no.:",-1)),Ww={key:4,class:"mt-0 p-0"},Qw={key:5,class:"text-start txt-grey"},Zw=$t(()=>t("span",{class:"fw-bold"}," Publication:",-1)),Xw={key:6,class:"mt-0 p-0"},t0={key:7,class:"text-start txt-grey"},e0=$t(()=>t("span",{class:"fw-bold"}," Department:",-1)),s0={key:8,class:"mt-0 p-0"},o0={class:"card-footer bg-white p-0"},a0=$t(()=>t("span",{class:"bi bi-download"},null,-1)),n0={class:"text-download"},l0={class:"card-footer bg-pub"},i0={class:"author-list text-start"},d0=$t(()=>t("i",null,"Author/s:",-1)),c0={class:"list-group list-group-flush"},r0={class:"col-md-8 col-lg-8"},u0={class:"card doc-card"},p0={class:"card-body"},_0={class:"content-doc text-primary border border-success border-2 pt-2"},m0={class:"info-doc"},h0={class:"head-title text-start"},v0={class:"abstract"},f0={key:0,class:"blockquote"},b0=$t(()=>t("small",{class:"text-primary"},"Abstract: ",-1)),g0=$t(()=>t("hr",null,null,-1)),$0={key:1,class:"d-flex flex-wrap pub-date"},y0={class:"d-flex custom-w flex-wrap justify-content-start mb-3"},x0=$t(()=>t("span",{class:"key-title"},"Keywords:",-1)),w0=$t(()=>t("span",{class:"label"}," Publication date : ",-1)),k0={class:"content"},D0={class:"row"},C0={class:"col-md-12"},S0={class:"card doc-card mt-3"},P0={class:"d-flex flex-start align-items-center"},A0=["src"],U0={class:"fw-bold text-primary mb-1"},F0={class:"text-muted small mb-0"},E0={class:"mt-2 pb-0"},T0=$t(()=>t("hr",{class:"p-0 m-0"},null,-1)),V0={class:"card-body text-start"},M0=$t(()=>t("h4",null,"Comment & Suggestions",-1)),L0={class:"form-group"},R0={key:0,class:"text-danger"},B0={class:"btn-group mt-3"},j0=$t(()=>t("i",{class:"bi bi-send"},null,-1)),I0={__name:"ViewDocument",setup(k){const b=Vt();ft();const c=b.params.id,_=l({});let a=l([]);const n=l({}),p=l({}),i=l(""),y=l(!1);lt(()=>b.params.id,(f,x)=>{h(f),D()}),ot(()=>{h(c)});const h=f=>{axios.get("/api/document/"+f).then(x=>{n.value=x.data,p.value=n.value.document_file,_.value=x.data.typeofpaper,P(p.value)})},g=f=>ht(f).format("MMMM, YYYY"),$=f=>{const x=U(f.base64,f.mime_type),L=document.createElement("a");L.href=URL.createObjectURL(x),L.download=f.original_name,L.click(),URL.revokeObjectURL(L.href)},U=(f,x="",L=512)=>{const R=atob(f),W=[];for(let dt=0;dt<R.length;dt+=L){const ut=R.slice(dt,dt+L),Q=new Array(ut.length);for(let N=0;N<ut.length;N++)Q[N]=ut.charCodeAt(N);const V=new Uint8Array(Q);W.push(V)}return new Blob(W,{type:x})},P=f=>{U(f.base64,f.mime_type),i.value="data:application/pdf;base64,"+f.base64},C=()=>{y.value=!y.value},d=f=>{window.open(f,"_blank")},w=l("Send");l(!0);const v=ct({message:"",document_id:c,prove:0}),D=()=>{w.value="Sending...",axios.post("/api/admin-feedback",v).then(f=>{h(c),toast.fire({icon:"success",title:"Feedback Message sent!"}),w.value="Send",v.message=""}).catch(f=>{w.value="Send",a.value=f.response.data.errors})},m=f=>f.role==2?"Administrator":f.first_name+" "+f.last_name;return(f,x)=>{const L=et("router-link"),R=et("timeago");return e(),s("div",Fw,[t("div",Ew,[t("div",Tw,[Vw,t("div",null,[t("div",Mw,[n.value.status==0&&n.value.upload_type==0?(e(),xt(L,{key:0,to:{name:"faculty.editupload_p",params:{id:u(c)}},class:"btn btn-outline-success btn-sm"},{default:Z(()=>[E("Edit")]),_:1},8,["to"])):r("",!0),n.value.status==0&&n.value.upload_type==1?(e(),xt(L,{key:1,to:{name:"faculty.editupload_a",params:{id:u(c)}},class:"btn btn-outline-success btn-sm"},{default:Z(()=>[E("Edit")]),_:1},8,["to"])):r("",!0)])])]),Lw,t("div",Rw,[t("div",Bw,[t("div",jw,[B(Ft,{uploadDataView:n.value},null,8,["uploadDataView"])]),t("div",Iw,[t("button",{type:"button",onClick:C,class:"btn btn-outline-success btn-sm"},[t("i",{class:st(["bi",y.value?"bi-eye-slash":"bi-eye"])},null,2)])]),t("div",Yw,[Ow,t("div",Nw,[t("strong",null,o(_.value.description),1),B(Ft,{statusData:n.value.status},null,8,["statusData"])]),n.value.upload_type==0?(e(),s("hr",qw)):r("",!0),n.value.upload_type==0?(e(),s("div",Hw,[Kw,E(),t("a",{onClick:x[0]||(x[0]=W=>d(n.value.doi)),href:"#"},o(n.value.doi),1)])):r("",!0),n.value.upload_type==0?(e(),s("hr",Gw)):r("",!0),n.value.upload_type==0?(e(),s("div",zw,[Jw,E(" "+o(n.value.issue_numbers),1)])):r("",!0),n.value.upload_type==0?(e(),s("hr",Ww)):r("",!0),n.value.upload_type==0?(e(),s("div",Qw,[Zw,E(" "+o(n.value.publisher),1)])):r("",!0),n.value.upload_type==0?(e(),s("hr",Xw)):r("",!0),n.value.upload_type==0?(e(),s("div",t0,[e0,E(" "+o(n.value.department!=null?n.value.department.description:""),1)])):r("",!0),n.value.upload_type==0?(e(),s("hr",s0)):r("",!0)]),t("div",o0,[t("a",{href:"#",class:"link-download",onClick:x[1]||(x[1]=W=>$(p.value))},[a0,E(" "),t("small",n0,o(p.value.original_name),1)])]),t("div",l0,[t("div",i0,[d0,t("ul",c0,[(e(!0),s(q,null,H(n.value.authors,(W,tt)=>(e(),s("li",{class:"list-group-item text-primary p-1",key:tt},o(W.first_name)+" "+o(W.middle_name)+" "+o(W.last_name),1))),128))])])])])]),t("div",r0,[t("div",u0,[t("div",p0,[S(t("div",_0,[B(Bt,{pdfFile:i.value},null,8,["pdfFile"])],512),[[nt,y.value]]),S(t("div",m0,[t("h5",h0,o(n.value.title),1),t("div",v0,[n.value.upload_type==0?(e(),s("blockquote",f0,[b0,E(" "+o(n.value.abstract),1)])):r("",!0),g0,n.value.upload_type==0?(e(),s("div",$0,[t("div",y0,[x0,(e(!0),s(q,null,H(n.value.keywords,(W,tt)=>(e(),s("span",{class:"badge bg-success me-1 mb-1",key:tt},o(W.description),1))),128))]),w0,t("div",k0,o(g(n.value.publication_date)),1)])):r("",!0)])],512),[[nt,!y.value]])])])])]),t("div",D0,[t("div",C0,[t("div",S0,[(e(!0),s(q,null,H(n.value.feedback,(W,tt)=>(e(),s("div",{class:"card-body text-start",key:tt},[t("div",P0,[t("img",{class:"rounded-circle shadow-1-strong me-3",src:W.sender.image==null?"/img/user.png":"data:"+W.sender.extension+";base64,"+W.sender.image,alt:"avatar",width:"60",height:"60"},null,8,A0),t("div",null,[t("h6",U0,o(m(W.sender)),1),t("p",F0,[E(" Sent - "),B(R,{datetime:W.created_at},null,8,["datetime"])])])]),t("p",E0,o(W.message),1),T0]))),128)),t("div",V0,[M0,t("div",L0,[S(t("textarea",{"onUpdate:modelValue":x[2]||(x[2]=W=>v.message=W),class:"form-control w-75",placeholder:"Enter Message"},null,512),[[Y,v.message]]),u(a).message?(e(),s("span",R0,o(u(a).message[0]),1)):r("",!0)]),t("div",B0,[t("button",{type:"button",onClick:x[3]||(x[3]=X(W=>D(),["prevent"])),class:"btn btn-primary"},[j0,E(" "+o(w.value),1)])])])])])])])}}},Y0=it(I0,[["__scopeId","data-v-878e77de"]]),O0={},N0={class:"container mt-3"},q0={class:"nav nav-underline me-3"},H0={class:"nav-item"},K0={class:"nav-item"},G0={class:"nav-item"},z0={class:"row mt-5"},J0={class:"col-md-12"};function W0(k,b){const c=et("router-link"),_=et("router-view");return e(),s("div",N0,[t("ul",q0,[t("li",H0,[B(c,{class:"nav-link nav-line-link",to:{name:"faculty.published"}},{default:Z(()=>[E("Published ")]),_:1})]),t("li",K0,[B(c,{class:"nav-link nav-line-link",to:{name:"faculty.archived"}},{default:Z(()=>[E("Archived")]),_:1})]),t("li",G0,[B(c,{class:"nav-link nav-line-link",to:{name:"faculty.canceled"}},{default:Z(()=>[E("Canceled")]),_:1})])]),t("div",z0,[t("div",J0,[B(_)])])])}const Q0=it(O0,[["render",W0],["__scopeId","data-v-4adbd199"]]),Z0={class:"overflow-hidden card table-nowrap table-card"},X0=t("div",{class:"card-header d-flex justify-content-between align-items-center"},[t("h4",null,[t("i",{class:"bi bi-file-earmark-check"}),E("  Published Documents")])],-1),tk={class:"d-flex"},ek={class:"input-group input-group-sm p-2 w-50"},sk=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),ok={class:"table-responsive"},ak={class:"table mb-0"},nk=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Title"),t("th",null,"Document Files"),t("th",null,"Type of Papers"),t("th",null,"Date uploaded"),t("th",{class:"text-end"},"Action")])],-1),lk={class:"d-flex align-items-center"},ik=t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1),dk={class:"text-primary"},ck={class:"d-flex justify-content-start row"},rk={class:"col img-uploaded d-flex mr-5"},uk=t("img",{class:"table-img d-flex",src:"/img/pdf.jpg"},null,-1),pk={class:"title truncate"},_k={class:"text-end"},mk={class:"drodown"},hk=t("a",{"data-bs-toggle":"dropdown",href:"#",class:"p-1","aria-expanded":"false"},[t("i",{class:"bi bi-list list-primary"})],-1),vk={class:"dropdown-menu dropdown-menu-end dd-bg",style:{}},fk=["onClick"],bk={colspan:"6"},gk={key:0,class:"mt-2 d-flex justify-content-end me-2","aria-label":"..."},$k={class:"pagination pagination-sm custom-page"},yk=["innerHTML","onClick"],xk={__name:"Published",setup(k){const b=l([]);let c=l([]),_=l("");l("");const a=l([]);ot(()=>{p(),y()});const n=P=>ht(P).format("MMMM d, YYYY | hh:mm a"),p=()=>{axios.get("/api/document-published?search="+_.value).then(P=>{b.value=P.data.data,c.value=P.data.links})};lt(_,()=>{p()});const i=P=>{!P.url||P.active||axios.get(P.url).then(C=>{b.value=C.data.data,c.value=C.data.links})},y=()=>{axios.get("/api/list-topapers").then(P=>{a.value=P.data})},h=P=>{let C="";return a.value.forEach(d=>{P.type_of_paper_id===d.id&&(C=d.description)}),C},g=P=>P==null?!0:P.length>0,$=P=>P==null?" ":P.original_name,U=P=>{Swal.fire({title:"Are you sure? ",text:"You want to move to archived!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#26884b",cancelButtonColor:"#ffc107",confirmButtonText:"Yes!",cancelButtonText:"No"}).then(C=>{C.isConfirmed&&axios.delete(`/api/document-to-archived/${P.id}`).then(d=>{Swal.fire({title:"Success!",text:"Your document has been moved",icon:"success",confirmButtonColor:"#26884b"}),p()})})};return(P,C)=>{const d=et("router-link");return e(),s("div",Z0,[X0,t("div",tk,[t("div",ek,[S(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":C[0]||(C[0]=w=>bt(_)?_.value=w:_=w),"aria-describedby":"button-addon1"},null,512),[[Y,u(_)]]),sk])]),t("div",ok,[t("table",ak,[nk,t("tbody",null,[(e(!0),s(q,null,H(b.value,(w,v)=>(e(),s("tr",{class:"align-middle",key:v},[t("td",null,[t("div",lk,[ik,t("strong",dk,o(w.title),1)])]),t("td",null,[t("div",ck,[t("div",rk,[uk,t("span",pk,o($(w.document_file)),1)])])]),t("td",null,o(h(w)),1),t("td",null,o(n(w.created_at)),1),t("td",_k,[t("div",mk,[hk,t("div",vk,[B(d,{to:{name:"faculty.document",params:{id:w.id}},class:"dropdown-item dd-item"},{default:Z(()=>[E("View Data ")]),_:2},1032,["to"]),t("a",{href:"#",onClick:D=>U(w),class:"dropdown-item dd-item"},"Move to Archived ",8,fk)])])])]))),128)),t("tr",null,[S(t("td",bk," No Result Found! ",512),[[nt,!g(b.value)]])])])]),g(b.value)?(e(),s("nav",gk,[t("ul",$k,[(e(!0),s(q,null,H(u(c),(w,v)=>(e(),s("li",{class:"page-item","aria-current":"page",key:v},[t("a",{class:st(["page-link",{active:w.active,disabled:!w.url}]),href:"#",innerHTML:w.label,onClick:D=>i(w)},null,10,yk)]))),128))])])):r("",!0)])])}}},wk={class:"overflow-hidden card table-nowrap table-card"},kk=t("div",{class:"card-header d-flex justify-content-between align-items-center"},[t("h4",null,[t("i",{class:"bi bi-file-earmark-check"}),E("  Archived Documents")])],-1),Dk={class:"d-flex"},Ck={class:"input-group input-group-sm p-2 w-50"},Sk=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),Pk={class:"table-responsive"},Ak={class:"table mb-0"},Uk=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Title"),t("th",null,"Document Files"),t("th",null,"Type of Papers"),t("th",null,"Date uploaded"),t("th",{class:"text-end"},"Action")])],-1),Fk={class:"d-flex align-items-center"},Ek=t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1),Tk={class:"text-primary"},Vk={class:"d-flex justify-content-start row"},Mk={class:"col img-uploaded d-flex mr-5"},Lk=t("img",{class:"table-img d-flex",src:"/img/pdf.jpg"},null,-1),Rk={class:"title truncate"},Bk={class:"text-end"},jk={class:"drodown"},Ik=t("a",{"data-bs-toggle":"dropdown",href:"#",class:"p-1","aria-expanded":"false"},[t("i",{class:"bi bi-list list-primary"})],-1),Yk={class:"dropdown-menu dropdown-menu-end dd-bg",style:{}},Ok={colspan:"6"},Nk={key:0,class:"mt-2 d-flex justify-content-end me-2","aria-label":"..."},qk={class:"pagination pagination-sm custom-page"},Hk=["innerHTML","onClick"],Kk={__name:"Archived",setup(k){const b=l([]);let c=l([]),_=l("");l("");const a=l([]);ot(()=>{p(),y()});const n=$=>ht($).format("MMMM d, YYYY | hh:mm a"),p=()=>{axios.get("/api/document-archived?search="+_.value).then($=>{b.value=$.data.data,c.value=$.data.links})};lt(_,()=>{p()});const i=$=>{!$.url||$.active||axios.get($.url).then(U=>{b.value=U.data.data,c.value=U.data.links})},y=()=>{axios.get("/api/list-topapers").then($=>{a.value=$.data})},h=$=>{let U="";return a.value.forEach(P=>{$.type_of_paper_id===P.id&&(U=P.description)}),U},g=$=>$==null?!0:$.length>0;return($,U)=>{const P=et("router-link");return e(),s("div",wk,[kk,t("div",Dk,[t("div",Ck,[S(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":U[0]||(U[0]=C=>bt(_)?_.value=C:_=C),"aria-describedby":"button-addon1"},null,512),[[Y,u(_)]]),Sk])]),t("div",Pk,[t("table",Ak,[Uk,t("tbody",null,[(e(!0),s(q,null,H(b.value,(C,d)=>(e(),s("tr",{class:"align-middle",key:d},[t("td",null,[t("div",Fk,[Ek,t("strong",Tk,o(C.title),1)])]),t("td",null,[t("div",Vk,[t("div",Mk,[Lk,t("span",Rk,o(C.document_file.original_name),1)])])]),t("td",null,o(h(C)),1),t("td",null,o(n(C.created_at)),1),t("td",Bk,[t("div",jk,[Ik,t("div",Yk,[B(P,{to:{name:"faculty.document",params:{id:C.id}},class:"dropdown-item dd-item"},{default:Z(()=>[E("View Data ")]),_:2},1032,["to"])])])])]))),128)),t("tr",null,[S(t("td",Ok," No Result Found! ",512),[[nt,!g(b.value)]])])])]),g(b.value)?(e(),s("nav",Nk,[t("ul",qk,[(e(!0),s(q,null,H(u(c),(C,d)=>(e(),s("li",{class:"page-item","aria-current":"page",key:d},[t("a",{class:st(["page-link",{active:C.active,disabled:!C.url}]),href:"#",innerHTML:C.label,onClick:w=>i(C)},null,10,Hk)]))),128))])])):r("",!0)])])}}},Gk={class:"overflow-hidden card table-nowrap table-card"},zk=t("div",{class:"card-header d-flex justify-content-between align-items-center"},[t("h4",null,[t("i",{class:"bi bi-file-earmark-excel"}),E("  Canceled Documents")])],-1),Jk={class:"d-flex"},Wk={class:"input-group input-group-sm p-2"},Qk=t("button",{class:"btn btn-primary",type:"button",id:"button-addon1"},[t("i",{class:"fa fa-search"})],-1),Zk={class:"input-group input-group-sm p-2"},Xk=t("option",{value:""},"Choose...",-1),t3=t("option",{value:0},"Publish",-1),e3=t("option",{value:1},"Achive",-1),s3=[Xk,t3,e3],o3=t("label",{class:"input-group-text bg-select",for:"inputGroupSelect02"},"Upload Type",-1),a3={class:"table-responsive"},n3={class:"table mb-0"},l3=t("thead",{class:"small text-uppercase bg-body text-muted"},[t("tr",null,[t("th",null,"Title"),t("th",null,"Document Files"),t("th",null,"Type of Papers"),t("th",null,"Date uploaded"),t("th",null,"Status"),t("th",null,"Upload Type"),t("th",{class:"text-end"},"Action")])],-1),i3={class:"d-flex align-items-center"},d3=t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1),c3={class:"text-primary"},r3={class:"d-flex justify-content-start row"},u3={class:"col img-uploaded d-flex mr-5"},p3=t("img",{class:"table-img d-flex",src:"/img/pdf.jpg"},null,-1),_3={class:"title truncate"},m3={class:"text-end"},h3={class:"drodown"},v3=t("a",{"data-bs-toggle":"dropdown",href:"#",class:"p-1","aria-expanded":"false"},[t("i",{class:"bi bi-list list-primary"})],-1),f3={class:"dropdown-menu dropdown-menu-end dd-bg",style:{}},b3={colspan:"6"},g3={key:0,class:"mt-2 d-flex justify-content-end me-2","aria-label":"..."},$3={class:"pagination pagination-sm custom-page"},y3=["innerHTML","onClick"],x3={__name:"Canceled",setup(k){const b=l([]);let c=l([]),_=l(""),a=l("");const n=l([]);ot(()=>{i(),h()});const p=P=>ht(P).format("MMMM D, YYYY | hh:mm a"),i=()=>{axios.get("/api/document-canceled?search="+_.value+"&filter="+a.value).then(P=>{b.value=P.data.data,c.value=P.data.links})};lt(_,()=>{i()});const y=P=>{!P.url||P.active||axios.get(P.url).then(C=>{b.value=C.data.data,c.value=C.data.links})},h=()=>{axios.get("/api/list-topapers").then(P=>{n.value=P.data})},g=P=>{let C="";return n.value.forEach(d=>{P.type_of_paper_id===d.id&&(C=d.description)}),C},$=P=>P==null?!0:P.length>0,U=()=>{i()};return(P,C)=>{const d=et("router-link");return e(),s("div",Gk,[zk,t("div",Jk,[t("div",Wk,[S(t("input",{type:"text",class:"form-control",placeholder:"Search...","aria-label":"Example text with button addon","onUpdate:modelValue":C[0]||(C[0]=w=>bt(_)?_.value=w:_=w),"aria-describedby":"button-addon1"},null,512),[[Y,u(_)]]),Qk]),t("div",Zk,[S(t("select",{class:"form-select",id:"inputGroupSelect02","onUpdate:modelValue":C[1]||(C[1]=w=>bt(a)?a.value=w:a=w),onChange:U},s3,544),[[pt,u(a)]]),o3])]),t("div",a3,[t("table",n3,[l3,t("tbody",null,[(e(!0),s(q,null,H(b.value,(w,v)=>(e(),s("tr",{class:"align-middle",key:v},[t("td",null,[t("div",i3,[d3,t("strong",c3,o(w.title),1)])]),t("td",null,[t("div",r3,[t("div",u3,[p3,t("span",_3,o(w.document_file.original_name),1)])])]),t("td",null,o(g(w)),1),t("td",null,o(p(w.created_at)),1),t("td",null,[B(Ft,{statusData:w.status},null,8,["statusData"])]),t("td",null,[B(Ft,{uploadData:w.upload_type},null,8,["uploadData"])]),t("td",m3,[t("div",h3,[v3,t("div",f3,[B(d,{to:{name:"faculty.document",params:{id:w.id}},class:"dropdown-item dd-item"},{default:Z(()=>[E("View Data ")]),_:2},1032,["to"])])])])]))),128)),t("tr",null,[S(t("td",b3," No Result Found! ",512),[[nt,!$(b.value)]])])])]),$(b.value)?(e(),s("nav",g3,[t("ul",$3,[(e(!0),s(q,null,H(u(c),(w,v)=>(e(),s("li",{class:"page-item","aria-current":"page",key:v},[t("a",{class:st(["page-link",{active:w.active,disabled:!w.url}]),href:"#",innerHTML:w.label,onClick:D=>y(w)},null,10,y3)]))),128))])])):r("",!0)])])}}},Lt=k=>(_t("data-v-737cf599"),k=k(),mt(),k),w3={class:"container bg-white mt-3 rounded vh-100"},k3={class:"row"},D3={class:"col-md-12 text-start me-4 mt-3"},C3=Lt(()=>t("h4",{class:"m-0"},"Dashboard",-1)),S3=Lt(()=>t("hr",null,null,-1)),P3={class:"col-md-12"},A3={key:0,class:"alert alert-warning alert-dismissible mt-3 text-start",role:"alert"},U3=Lt(()=>t("h4",{class:"alert-heading"},"You need to activate your account!",-1)),F3=Lt(()=>t("hr",null,null,-1)),E3={class:"mb-0"},T3={class:"fw-bold"},V3=Lt(()=>t("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1)),M3={key:1,class:"my-recent text-start"},L3=Lt(()=>t("p",{class:""},"MY RECENT UPLOAD",-1)),R3={class:"table-responsive"},B3={class:"table mb-0"},j3={class:"d-flex align-items-center"},I3=Lt(()=>t("i",{class:"bi bi-file-earmark-text me-2 icon-file"},null,-1)),Y3={class:"text-primary"},O3={class:"text-abstract w-50"},N3={class:"text-truncate-message"},q3=Lt(()=>t("td",null,null,-1)),H3={__name:"Dashboard",setup(k){const b=h=>ht(h).format("MMMM D, YYYY | hh:mm a"),c=l({});ot(()=>{_();const h=window.winsdev.user;window.winsdev.isLoggedin&&h.activate==0?p():y()});const _=()=>{axios.get("/api/user").then(h=>{c.value=h.data})},a=h=>{let g=!1;return h.activate===1&&(g=!0),g},n=l({}),p=()=>{axios.get("/api/admin-contact").then(h=>{n.value=h.data})},i=l([]),y=()=>{axios.get("/api/faculty-recent").then(h=>{i.value=h.data})};return(h,g)=>{const $=et("timeago"),U=et("router-link");return e(),s("div",w3,[t("div",k3,[t("div",D3,[C3,t("p",null,o(b(new Date)),1),S3]),t("div",P3,[c.value.activate==0?(e(),s("div",A3,[U3,t("p",null,o(n.value.information),1),F3,t("p",E3,[E(" Contact #:  "),t("span",T3,o(n.value.contact_number),1)]),V3])):r("",!0),a(c.value)?(e(),s("div",M3,[L3,t("div",R3,[t("table",B3,[t("tbody",null,[(e(!0),s(q,null,H(i.value,(P,C)=>(e(),s("tr",{class:"align-middle",key:C},[t("td",null,[B(U,{to:{name:"faculty.document",params:{id:P.id}}},{default:Z(()=>[t("div",j3,[I3,t("strong",Y3,o(P.title),1)]),B($,{class:st("sub-ago"),datetime:P.created_at},null,8,["datetime"])]),_:2},1032,["to"])]),t("td",O3,[t("span",N3,o(P.abstract),1)]),q3]))),128))])])])])):r("",!0)])])])}}},K3=it(H3,[["__scopeId","data-v-737cf599"]]),Ut=k=>(_t("data-v-3f7c0c14"),k=k(),mt(),k),G3={class:"container rounded bg-white mb-5 mt-3"},z3={class:"row"},J3={class:"col-md-3 border-right"},W3={class:"d-flex flex-column align-items-center text-center p-3 py-5"},Q3=["src"],Z3={class:"font-weight-bold"},X3={class:"text-black-50"},t4=Ut(()=>t("span",null,null,-1)),e4={class:"col-md-5 border-right text-start"},s4={class:"p-3 py-5"},o4=Ut(()=>t("div",{class:"d-flex justify-content-between align-items-center mb-3"},[t("h4",{class:"text-right"},"Profile Settings")],-1)),a4={class:"row mt-2"},n4={class:"col-md-6"},l4=Ut(()=>t("label",{class:"labels"},"First name",-1)),i4={key:0,class:"text-danger"},d4={class:"col-md-6"},c4=Ut(()=>t("label",{class:"labels"},"Middle Initial",-1)),r4={key:0,class:"text-danger"},u4={class:"col-md-6"},p4=Ut(()=>t("label",{class:"labels"},"Last name",-1)),_4={key:0,class:"text-danger"},m4={class:"row mt-3"},h4={class:"col-md-12"},v4=Ut(()=>t("label",{class:"labels"},"Email",-1)),f4={key:0,class:"text-danger"},b4={class:"mt-5"},g4={class:"col-md-4"},$4={class:"p-3 py-5"},y4=Ut(()=>t("div",{class:"d-flex justify-content-between align-items-center experience"},[t("h4",null,"Change Password")],-1)),x4=Ut(()=>t("br",null,null,-1)),w4={class:"col-md-12 text-start"},k4=Ut(()=>t("label",{class:"labels"},"Password",-1)),D4={key:0,class:"text-danger"},C4={class:"col-md-12 text-start"},S4=Ut(()=>t("label",{class:"labels"},"Password Confirmation",-1)),P4={key:0,class:"text-danger"},A4={class:"mt-5"},U4={class:"modal-dialog"},F4={class:"modal-content"},E4=Ut(()=>t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLabel"},"Profile Picture"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),T4={class:"modal-body text-start mb-3 row"},V4=["src"],M4={class:"modal-footer"},L4=Ut(()=>t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)),R4={__name:"Myaccount",setup(k){const b=l(null);let c=null;ot(()=>{h(),c=new It(b.value)});const _=new FormData;ft();const a=l({});let n=l([]);const p=l(""),y=ct({first_name:"",middle_initial:"",last_name:"",email:"",id:null,password:"",password_confirmation:""}),h=()=>{axios.get("/api/user").then(D=>{a.value=D.data;let m=D.data;y.first_name=m.first_name,y.middle_initial=m.middle_initial,y.last_name=m.last_name,y.email=m.email,y.id=m.id})},g=()=>{axios.put("/api/users/"+y.id,y).then(D=>{h(),toast.fire({icon:"success",title:"Profile has been modified!"}),n.value=[]}).catch(D=>{n.value=D.response.data.errors})},$=()=>{axios.put("/api/users-password/"+y.id,y).then(D=>{h(),toast.fire({icon:"success",title:"Password has been changed!"}),window.location.href="/sign-in",n.value=[]}).catch(D=>{n.value=D.response.data.errors})},U=()=>{c.show()},P=D=>{document.querySelector(".fileupload").click()},C=D=>{const m=D.target.files||D.dataTransfer.files;p.value=m[0],w(m[0])};let d=l("");const w=D=>{if(d.value=D,D){const m=new FileReader;m.onload=f=>{d.value=f.target.result},m.readAsDataURL(D)}},v=()=>{_.append("file",p.value),axios.post("/api/upload-profile",_,{headers:{"Content-Type":"multipart/form-data"}}).then(D=>{c.hide(),h()})};return(D,m)=>(e(),s("div",G3,[t("div",z3,[t("div",J3,[t("div",W3,[t("img",{class:"rounded-circle mt-5",width:"150px",src:a.value.image==""?"/img/user.png":"data:"+a.value.extension+";base64,"+a.value.image},null,8,Q3),t("a",{href:"#",onClick:m[0]||(m[0]=f=>U())},"edit"),t("span",Z3,o(a.value.first_name)+" "+o(a.value.middle_initial)+". "+o(a.value.last_name),1),t("span",X3,o(a.value.email),1),t4])]),t("div",e4,[t("div",s4,[o4,t("div",a4,[t("div",n4,[l4,S(t("input",{type:"text","onUpdate:modelValue":m[1]||(m[1]=f=>y.first_name=f),class:"form-control",placeholder:"Enter First name",value:""},null,512),[[Y,y.first_name]]),u(n).first_name?(e(),s("span",i4,o(u(n).first_name[0]),1)):r("",!0)]),t("div",d4,[c4,S(t("input",{type:"text","onUpdate:modelValue":m[2]||(m[2]=f=>y.middle_initial=f),class:"form-control",value:"",placeholder:"Enter Middle initial"},null,512),[[Y,y.middle_initial]]),u(n).middle_initial?(e(),s("span",r4,o(u(n).middle_initial[0]),1)):r("",!0)]),t("div",u4,[p4,S(t("input",{type:"text","onUpdate:modelValue":m[3]||(m[3]=f=>y.last_name=f),class:"form-control",value:"",placeholder:"Enter Last name"},null,512),[[Y,y.last_name]]),u(n).last_name?(e(),s("span",_4,o(u(n).last_name[0]),1)):r("",!0)])]),t("div",m4,[t("div",h4,[v4,S(t("input",{type:"text","onUpdate:modelValue":m[4]||(m[4]=f=>y.email=f),class:"form-control",placeholder:"Enter Email",value:""},null,512),[[Y,y.email]]),u(n).email?(e(),s("span",f4,o(u(n).email[0]),1)):r("",!0)])]),t("div",b4,[t("button",{class:"btn btn-primary profile-button",onClick:m[5]||(m[5]=X(f=>g(),["prevent"])),type:"button"},"Save Profile")])])]),t("div",g4,[t("div",$4,[y4,x4,t("div",w4,[k4,S(t("input",{type:"Password","onUpdate:modelValue":m[6]||(m[6]=f=>y.password=f),class:"form-control",placeholder:"Enter Password",value:""},null,512),[[Y,y.password]]),u(n).password?(e(),s("span",D4,o(u(n).password[0]),1)):r("",!0)]),t("div",C4,[S4,S(t("input",{type:"password","onUpdate:modelValue":m[7]||(m[7]=f=>y.password_confirmation=f),class:"form-control",placeholder:"Enter Password Confirmation",value:""},null,512),[[Y,y.password_confirmation]]),u(n).password_confirmation?(e(),s("span",P4,o(u(n).password_confirmation[0]),1)):r("",!0)]),t("div",A4,[t("button",{class:"btn btn-primary profile-button",onClick:m[8]||(m[8]=X(f=>$(),["prevent"])),type:"button"},"Change Password")])])])]),t("div",{class:"modal fade",ref_key:"profilepic",ref:b,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",U4,[t("div",F4,[E4,t("div",T4,[t("img",{src:u(d)==""?"/img/user.png":u(d),class:"rounded mx-auto d-block img-profile",for:"filename"},null,8,V4),t("a",{href:"#",onClick:m[9]||(m[9]=f=>P())},"change profile picture"),t("input",{type:"file",class:"hidden fileupload",onChange:C,accept:".jpeg, .png,.jpg, .ping",id:"filename"},null,32)]),t("div",M4,[t("button",{type:"button",class:"btn btn-primary",onClick:m[10]||(m[10]=f=>v())},"Upload profile"),L4])])])],512)]))}},B4=it(R4,[["__scopeId","data-v-3f7c0c14"]]),Tt=k=>(_t("data-v-2fcfb7d2"),k=k(),mt(),k),j4={class:"container mt-3"},I4={class:"row"},Y4={class:"col-12 text-start card head-card"},O4={class:"card-body p-1"},N4={class:"row d-flex justify-content-center"},q4={class:"col-md-3"},H4={class:"col-md-9"},K4={key:0,class:"card text-start"},G4={class:"card-header bg-primary d-flex"},z4=Tt(()=>t("strong",null," Form",-1)),J4={class:"card-body"},W4={class:"card-body row"},Q4={class:"form-group mb-3 col-6"},Z4=Tt(()=>t("label",null,"Title",-1)),X4={key:0,class:"text-danger"},t5={class:"form-group mb-3 col-6"},e5=Tt(()=>t("label",null,"Type of Papers",-1)),s5=["value"],o5={key:0,class:"text-danger"},a5={class:"form-group mb-3 col-6"},n5=Tt(()=>t("label",null,"Authors",-1)),l5={key:0,class:"text-danger"},i5={key:0,class:"form-group mb-3 col-6"},d5=Tt(()=>t("label",null,"Publication Date",-1)),c5={key:0,class:"text-danger"},r5={key:1,class:"form-group mb-3 col-6"},u5=Tt(()=>t("label",null,"Volume/issue numbers",-1)),p5={key:0,class:"text-danger"},_5={key:2,class:"form-group mb-3 col-6"},m5=Tt(()=>t("label",null,"DOI",-1)),h5={key:0,class:"text-danger"},v5={key:3,class:"form-group mb-3 col-6"},f5=Tt(()=>t("label",null,"Abstract",-1)),b5={key:0,class:"text-danger"},g5={key:4,class:"form-group mb-3 col-6"},$5=Tt(()=>t("label",null,"Keywords: ...use Comma Sign to seperate words ",-1)),y5={key:0,class:"text-danger"},x5={key:5,class:"form-group mb-3 col-12"},w5=Tt(()=>t("label",null,"Publisher",-1)),k5={key:0,class:"text-danger"},D5={class:"btn-group btn-sm mt-3"},C5={class:"card-footer"},S5=Tt(()=>t("i",{class:"bi bi-eye"},null,-1)),P5={__name:"EditUpload",setup(k){l(null),l([]);const b=l([]),c=l([]),_=l({});let a=l([]);const n=l(!1),p=new FormData,i=l(""),y=ft(),h=Vt(),g=l(!0),$=l(!1),U=I=>{const z=("0"+(I.getMonth()+1)).slice(-2),F=I.getFullYear();return z+"/"+F};ot(()=>{const I=h.params.id;f(I),O(),A(),P()}),lt(h,()=>{P()});const P=()=>{h.name==="faculty.editupload_p"?(g.value=!0,i.value="PUBLISH",w(),_.value={},a.value=[],W()):(i.value="ARCHIVE",g.value=!1,w(),_.value={},a.value=[],W())},C=()=>({title:"",type_of_paper:"",college_department:"",publication_date:{},issue_numbers:"",abstract:"",doi:"",publisher:"",keywords:[],authors:[],upload_type:"",document_file:{}}),d=ct(C()),w=()=>Object.assign(d,C()),v=l("save changes"),D=l(!1),m=l(""),f=I=>{axios.get("/api/document/"+I).then(z=>{let F=z.data;console.log(F.publication_date),b.value=F.authors,c.value=F.keywords,d.id=F.id,d.title=F.title,d.type_of_paper=F.type_of_paper_id,d.publication_date={month:new Date(F.publication_date).getMonth(),year:new Date(F.publication_date).getFullYear()},d.abstract=F.abstract,d.doi=F.doi,d.issue_numbers=F.issue_numbers,d.publisher=F.publisher,d.keywords=F.keywords,d.authors=F.authors,d.upload_type=F.upload_type,d.document_file=F.document_file})},x=I=>{let z=I.dataTransfer.files;R(z),j(z)},L=()=>{let I=document.querySelector(".fileupload").files;R(I),j(I)},R=I=>{["application/pdf"].includes(I[0].type)?(_.value=I[0],n.value=!1):n.value=!0,W()},W=()=>{_.value.name!=null?D.value=!0:D.value=!1},tt=I=>{let z=document.querySelector(".fileupload");z.value="",_.value={},W(),m.value="",$.value=!1},dt=I=>{d.keywords=I},ut=I=>{d.authors=I},Q=()=>{v.value="processing...",d.publication_date=JSON.stringify(d.publication_date),axios.put("/api/document/"+d.id,d).then(I=>{toast.fire({icon:"success",title:"Document modefied Successfully!"}),y.push("/faculty/documents"),a.value=[]}).catch(I=>{a.value=I.response.data.errors,v.value="save changes"})},V=()=>{console.log("hello"),p.append("file",_.value),p.append("id",d.id),axios.post("/api/document-upload",p,{headers:{"Content-Type":"multipart/form-data"}}).then(I=>{const z=h.params.id;f(z),_.value={},toast.fire({icon:"success",title:"File Documents Uploaded Successfully!"})}).catch(I=>{})},N=()=>{n.value=!1},T=l([]),K=l([]),O=()=>{axios.get("/api/list-topapers").then(I=>{T.value=I.data})},A=()=>{axios.get("/api/list-departments").then(I=>{K.value=I.data})},j=I=>{m.value=window.URL.createObjectURL(I[0])},G=()=>{$.value=!$.value};return(I,z)=>{const F=et("VueDatePicker"),J=et("router-link");return e(),s("div",j4,[t("div",I4,[t("div",Y4,[t("div",O4,[t("h4",null,[t("i",{class:st(["bi",g.value?"bi-tv":"bi-archive"])},null,2),E("  "+o(i.value),1)])])])]),t("div",N4,[t("div",q4,[B(ne,{onDrop:x,onSaveUpload:V,dbpdf:d.document_file,filePdf:_.value,onDragenter:X(N,["prevent"]),class:st({is_error:n.value}),onRemoveFile:tt,onChange:L},null,8,["dbpdf","filePdf","class"])]),t("div",H4,[d.id!=null?(e(),s("div",K4,[t("div",G4,[z4,m.value!=""?(e(),s("button",{key:0,type:"button",onClick:G,class:"btn btn-outline-success ms-auto"},[t("i",{class:st(["bi text-white",$.value?"bi-eye-slash":"bi-eye"])},null,2)])):r("",!0)]),S(t("div",J4,[m.value!=""?(e(),xt(Bt,{key:0,pdfFile:m.value},null,8,["pdfFile"])):r("",!0)],512),[[nt,m.value!=""&&$.value]]),S(t("div",W4,[t("div",Q4,[Z4,S(t("input",{type:"text","onUpdate:modelValue":z[0]||(z[0]=M=>d.title=M),class:"form-control form-control-sm",placeholder:"Enter Title"},null,512),[[Y,d.title]]),u(a).title?(e(),s("span",X4,o(u(a).title[0]),1)):r("",!0)]),t("div",t5,[e5,S(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":z[1]||(z[1]=M=>d.type_of_paper=M)},[(e(!0),s(q,null,H(T.value,(M,yt)=>(e(),s("option",{class:"option",key:yt,value:M.id},o(M.description),9,s5))),128))],512),[[pt,d.type_of_paper]]),u(a).type_of_paper?(e(),s("span",o5,o(u(a).type_of_paper[0]),1)):r("",!0)]),t("div",a5,[n5,B(le,{urlString:"/api/setting-author",authors:b.value,onLoadFilter:ut},null,8,["authors"]),u(a)["authors.0"]?(e(),s("span",l5,o(u(a)["authors.0"][0].replace(".0","")),1)):r("",!0)]),g.value?(e(),s("div",i5,[d5,B(F,{modelValue:d.publication_date,"onUpdate:modelValue":z[2]||(z[2]=M=>d.publication_date=M),format:U,"month-picker":"",placeholder:"Enter Publication date"},null,8,["modelValue"]),u(a).publication_date?(e(),s("span",c5,o(u(a).publication_date[0]),1)):r("",!0)])):r("",!0),g.value?(e(),s("div",r5,[u5,S(t("input",{type:"text","onUpdate:modelValue":z[3]||(z[3]=M=>d.issue_numbers=M),class:"form-control form-control-sm",placeholder:"Enter Issue Numbers"},null,512),[[Y,d.issue_numbers]]),u(a).issue_numbers?(e(),s("span",p5,o(u(a).issue_numbers[0]),1)):r("",!0)])):r("",!0),g.value?(e(),s("div",_5,[m5,S(t("input",{type:"text","onUpdate:modelValue":z[4]||(z[4]=M=>d.doi=M),class:"form-control form-control-sm",placeholder:"Enter DOI"},null,512),[[Y,d.doi]]),u(a).doi?(e(),s("span",h5,o(u(a).doi[0]),1)):r("",!0)])):r("",!0),g.value?(e(),s("div",v5,[f5,S(t("textarea",{"onUpdate:modelValue":z[5]||(z[5]=M=>d.abstract=M),class:"form-control form-control-sm",placeholder:"Enter Abstract"},null,512),[[Y,d.abstract]]),u(a).abstract?(e(),s("span",b5,o(u(a).abstract[0]),1)):r("",!0)])):r("",!0),g.value?(e(),s("div",g5,[$5,B(Ot,{onShowData:dt,keywords:c.value},null,8,["keywords"]),u(a).keywords?(e(),s("span",y5,o(u(a).keywords[0]),1)):r("",!0)])):r("",!0),g.value?(e(),s("div",x5,[w5,S(t("input",{type:"text","onUpdate:modelValue":z[6]||(z[6]=M=>d.publisher=M),class:"form-control form-control-sm",placeholder:"Enter Publisher"},null,512),[[Y,d.publisher]]),u(a).publisher?(e(),s("span",k5,o(u(a).publisher[0]),1)):r("",!0)])):r("",!0),t("div",D5,[t("button",{type:"button",onClick:z[7]||(z[7]=X(M=>Q(),["prevent"])),class:"btn btn-primary"},o(v.value),1)])],512),[[nt,!$.value]]),t("div",C5,[B(J,{to:{name:"faculty.documents"}},{default:Z(()=>[S5,E(" View uploaded documents ")]),_:1})])])):r("",!0)])])])}}},te=it(P5,[["__scopeId","data-v-2fcfb7d2"]]),A5=[{path:"/",name:"rechiva",component:Xs,children:[{path:"",name:"publicpage",component:pi},{path:"/sign-in",name:"signin",component:go},{path:"about",name:"about",component:bi},{path:"/sign-up",name:"signup",component:aa},{path:"/search",name:"search",component:Cn},{path:"/document/:id",name:"main.document",component:wl}]},{path:"/document/:id",name:"document.edit",component:Ge},{path:"/list-documents",name:"listDocument",component:as},{path:"/doc-viewer",name:"docviewer",component:gs},{path:"/admin",name:"admin",component:Fd,children:[{path:"",name:"dashboard",component:vc},{path:"settings",name:"settings",component:Cc,children:[{path:"",name:"setting.authors",component:dr},{path:"departments",name:"setting.departments",component:Yr},{path:"type-of-papers",name:"setting.typeofpapers",component:fu}]},{path:"request",name:"admin.request",component:Wu},{path:"request-document/:id",name:"admin.requestdoc",component:Hh},{path:"published",name:"admin.published",component:Fp},{path:"archived",name:"admin.archived",component:d_},{path:"canceled",name:"admin.canceled",component:I_},{path:"account",name:"admin.account",component:Em},{path:"users",name:"admin.users",component:Zf},{path:"user/:id",name:"admin.user",component:Ub},{path:"upload-document",name:"admin.upload_p",component:Qt},{path:"upload-document-archive",name:"admin.upload_a",component:Qt},{path:"upload-edit-publish/:id",name:"admin.editupload_p",component:Zt},{path:"upload-edit-archive/:id",name:"admin.editupload_a",component:Zt},{path:"report",name:"admin.report",component:l2}]},{path:"/faculty",name:"faculty",component:lx,children:[{path:"",name:"faculty.dashboard",component:K3},{path:"upload-publish",name:"faculty.upload_p",component:Xt},{path:"upload-archive",name:"faculty.upload_a",component:Xt},{path:"upload-edit-publish/:id",name:"faculty.editupload_p",component:te},{path:"upload-edit-archive/:id",name:"faculty.editupload_a",component:te},{path:"documents",name:"faculty.documents",component:Uw},{path:"document/:id",name:"faculty.document",component:Y0},{path:"myaccount",name:"faculty.myaccount",component:B4},{path:"approved-docs",name:"faculty.approved",component:Q0,children:[{path:"published",name:"faculty.published",component:xk},{path:"archived",name:"faculty.archived",component:Kk},{path:"canceled",name:"faculty.canceled",component:x3}]},{path:"input-tag",name:"faculty.inputtag",component:zt}]},{path:"/:pathMatch(.*)*",name:"notfound",component:Ds}],ie=re({history:ue(),routes:A5}),U5=["about","publicpage","rechiva","signin","search","signup","main.document","notfound"],F5=["about","search","main.document","rechiva","publicpage","admin","dashboard","settings","setting.authors","setting.departments","setting.typeofpapers","admin.request","admin.requestdoc","admin.published","admin.archived","admin.account","admin.canceled","notfound","admin.users","admin.user","admin.upload_p","admin.upload_a","admin.editupload_p","admin.editupload_a","admin.report"],E5=["about","rechiva","publicpage","signin","search","signup","main.document","notfound","faculty","faculty.upload_a","faculty.upload_p","faculty.documents","faculty.document","faculty.approved","faculty.published","faculty.canceled","faculty.archived","faculty.myaccount","faculty.dashboard","faculty.editupload_p","faculty.editupload_a"],T5=["about","rechiva","publicpage","signin","main.document","search","signup","notfound","faculty","faculty.dashboard","faculty.myaccount"];ie.beforeEach((k,b,c)=>{if(window.winsdev.isLoggedin){let _=window.winsdev.user;return F5.includes(k.name)&&_.role===2?c():_.role===1?E5.includes(k.name)&&_.activate==1||T5.includes(k.name)&&_.activate==0?c():c({name:"notfound"}):c({name:"notfound"})}else return U5.includes(k.name)?c():c({name:"notfound"})});window.PSPDFKit=$e;qt.defaults.withCredentials=!0;qt.defaults.baseURL="/";window.Swal=se;const V5=se.mixin({toast:!0,position:"center",timer:2e3,showConfirmButton:!1,timerProgressBar:!0});window.toast=V5;const Jt=de(De);Jt.use(ye);Jt.component("VueDatePicker",ce);Jt.use(ie).mount("#app");
